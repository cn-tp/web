import{h as N,Z as S,o as h,j as n,k as d,x as l,y as s,a5 as o,B as m,W as f,U as k,l as L,q as U,E as i,O as b,D as B}from"./vendor.a22db959.js";import{a as w,b as O,V as j}from"./index.70831d5c.js";import{_ as A}from"./index.465eb10d.js";const C={class:"container"},q={class:"buttonclass"},z=U("\u786E \u5B9A"),E={setup(F){const{proxy:g}=B(),a=N({formData:{taskName:"",takeStockType:"",Operator:"",memo:"",roleId:3,userId:parseInt(window.localStorage.getItem("userId")||"")},rules:{taskName:[{required:!0,message:"\u8BF7\u8F93\u5165\u76D8\u70B9\u4EFB\u52A1\u540D\u79F0",trigger:"blur"}],locationName:[{required:!0,message:"\u8BF7\u8F93\u5165sku\u540D\u79F0",trigger:"blur"}]},takeStockTypeList:[],userList:[]}),D=S();function v(r){w({groupId:r}).then(e=>{if(e.code==200&&e.items.length>0)switch(r){case 18:a.takeStockTypeList=e.items;break}}).catch(e=>{console.log(e)})}function V(){g.$refs.ruleForm.validate().then(r=>{r&&j(a.formData).then(e=>{e&&e.code==200?(i.success("\u521B\u5EFA\u6210\u529F"),D.push({path:"/takestock/list"})):i.error("\u521B\u5EFA\u5931\u8D25")}).catch(e=>{i.error("\u521B\u5EFA\u5931\u8D25")})})}function y(){O({id:a.formData.roleId}).then(r=>{r&&r.code===200&&(a.userList=r.items)})}return h(()=>{v(18),y()}),(r,e)=>{const c=n("el-input"),u=n("el-form-item"),p=n("el-option"),_=n("el-select"),I=n("el-button"),T=n("el-form");return m(),d("div",C,[l(T,{ref:(t,x)=>{x.ruleForm=t},model:o(a).formData,rules:o(a).rules,size:"mini","label-width":"100px"},{default:s(()=>[l(u,{label:"\u4EFB\u52A1\u540D\u79F0",prop:"taskName"},{default:s(()=>[l(c,{modelValue:o(a).formData.taskName,"onUpdate:modelValue":e[0]||(e[0]=t=>o(a).formData.taskName=t)},null,8,["modelValue"])]),_:1}),l(u,{label:"\u76D8\u70B9\u7C7B\u578B",prop:"takeStockType"},{default:s(()=>[l(_,{modelValue:o(a).formData.takeStockType,"onUpdate:modelValue":e[1]||(e[1]=t=>o(a).formData.takeStockType=t),placeholder:"\u76D8\u70B9\u7C7B\u578B",size:"small",clearable:""},{default:s(()=>[(m(!0),d(f,null,k(o(a).takeStockTypeList,t=>(m(),b(p,{label:t.itemName,value:t.itemId,key:t.itemId},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(u,{label:"\u64CD\u4F5C\u4EBA\u5458",prop:"Operator"},{default:s(()=>[l(_,{modelValue:o(a).formData.Operator,"onUpdate:modelValue":e[2]||(e[2]=t=>o(a).formData.Operator=t),placeholder:"\u64CD\u4F5C\u4EBA\u5458",size:"small",clearable:""},{default:s(()=>[(m(!0),d(f,null,k(o(a).userList,t=>(m(),b(p,{label:t.userName,value:t.id,key:t.itemId},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(u,{label:"\u5907\u6CE8",prop:"memo"},{default:s(()=>[l(c,{modelValue:o(a).formData.memo,"onUpdate:modelValue":e[3]||(e[3]=t=>o(a).formData.memo=t)},null,8,["modelValue"])]),_:1}),l(u,null,{default:s(()=>[L("div",q,[l(I,{class:"subButton",type:"primary",onClick:e[4]||(e[4]=t=>V())},{default:s(()=>[z]),_:1})])]),_:1})]),_:1},8,["model","rules"])])}}};var W=A(E,[["__scopeId","data-v-314038cc"]]);export{W as default};
