import{h as v,Z as N,o as C,j as u,k as p,x as a,y as l,a5 as s,B as d,W as x,U as S,l as U,q as R,E as c,O as k,D as w}from"./vendor.a22db959.js";import{a as y,j as B}from"./index.d0f5265b.js";import{_ as L}from"./index.6b1aa83f.js";const j={class:"container"},P={class:"buttonclass"},h=R("\u786E \u5B9A"),q={setup(A){const{proxy:_}=w(),t=v({formData:{userId:parseInt(window.localStorage.getItem("userId")||""),sessionId:window.localStorage.getItem("sessionId"),spuId:"",spuNo:"",spuName:"",description:"",spuConsumeRule:"",status:"",coperationId:"",moperationId:"",ctime:"",mtime:""},rules:{spuNo:[{required:!0,message:"\u8BF7\u8F93\u5165SPU\u7F16\u53F7",trigger:"blur"}],spuName:[{required:!0,message:"\u8BF7\u8F93\u5165SPU\u540D\u79F0",trigger:"blur"}],spuConsumeRule:[{required:!0,message:"\u8BF7\u9009\u62E9\u4F7F\u7528\u89C4\u5219",trigger:"blur"}]},canDialogDetail:!1,statusList:[],spuConsumeRuleList:[]});N();function i(r){y({groupId:r}).then(e=>{if(e.code==200&&e.items.length>0)switch(r){case 1:t.statusList=e.items;break;case 2:t.spuConsumeRuleList=e.items;break}}).catch(e=>{console.log(e)})}function f(){_.$refs.ruleForm.validate().then(r=>{r&&B(t.formData).then(e=>{c.success("\u521B\u5EFA\u6210\u529F"),t.canDialogDetail=!1}).catch(e=>{c.error("\u64CD\u4F5C\u5931\u8D25")})})}return C(()=>{i(1),i(2)}),(r,e)=>{const m=u("el-input"),n=u("el-form-item"),g=u("el-option"),b=u("el-select"),D=u("el-button"),I=u("el-form");return d(),p("div",j,[a(I,{ref:(o,V)=>{V.ruleForm=o},model:s(t).formData,rules:s(t).rules,size:"mini","label-width":"100px"},{default:l(()=>[a(n,{label:"SPU\u7F16\u53F7",prop:"spuNo"},{default:l(()=>[a(m,{modelValue:s(t).formData.spuNo,"onUpdate:modelValue":e[0]||(e[0]=o=>s(t).formData.spuNo=o)},null,8,["modelValue"])]),_:1}),a(n,{label:"SPU\u540D\u79F0",prop:"spuName"},{default:l(()=>[a(m,{modelValue:s(t).formData.spuName,"onUpdate:modelValue":e[1]||(e[1]=o=>s(t).formData.spuName=o)},null,8,["modelValue"])]),_:1}),a(n,{label:"\u4F7F\u7528\u89C4\u5219",prop:"spuConsumeRule"},{default:l(()=>[a(b,{modelValue:s(t).formData.spuConsumeRule,"onUpdate:modelValue":e[2]||(e[2]=o=>s(t).formData.spuConsumeRule=o),size:"small",clearable:""},{default:l(()=>[(d(!0),p(x,null,S(s(t).spuConsumeRuleList,o=>(d(),k(g,{label:o.itemName,value:o.itemId,key:o.itemId},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),a(n,{label:"SPU\u63CF\u8FF0",prop:"description"},{default:l(()=>[a(m,{modelValue:s(t).formData.description,"onUpdate:modelValue":e[3]||(e[3]=o=>s(t).formData.description=o)},null,8,["modelValue"])]),_:1}),a(n,null,{default:l(()=>[U("div",P,[a(D,{class:"subButton",type:"primary",onClick:e[4]||(e[4]=o=>f())},{default:l(()=>[h]),_:1})])]),_:1})]),_:1},8,["model","rules"])])}}};var M=L(q,[["__scopeId","data-v-4f178bcc"]]);export{M as default};
