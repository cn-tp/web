var Pn=Object.defineProperty;var un=Object.getOwnPropertySymbols;var Hn=Object.prototype.hasOwnProperty,Nn=Object.prototype.propertyIsEnumerable;var cn=(t,e,o)=>e in t?Pn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,P=(t,e)=>{for(var o in e||(e={}))Hn.call(e,o)&&cn(t,o,e[o]);if(un)for(var o of un(e))Nn.call(e,o)&&cn(t,o,e[o]);return t};import{_ as X,u as Z,L as me,S as Xe,r as zn,a as qn,i as Nt}from"./index.6b1aa83f.js";import{H as F,B as _,k,l as w,s as H,z as _t,A as bt,D as he,g as je,j as y,U as Ae,W as ie,O,y as A,m as B,x,q as ye,K as Ie,h as ae,M as $e,o as Fe,X as Ye,t as re,Y as dn,L as tt,w as yt,v as vt,J as G,Z as nt,$ as Wn,p as He,I as wt,r as Ve,F as fn,n as Ge,E as zt,a0 as Xn,i as ot,T as jn,a1 as Yn}from"./vendor.a22db959.js";import Gn from"./parent.21016b55.js";const Un={name:"layoutLogo",setup(){const{proxy:t}=he(),e=Z(),o=F(()=>e.state.themeConfig.themeConfig);return{setShowLogo:F(()=>{let{isCollapse:l,layout:a}=e.state.themeConfig.themeConfig;return!l||a==="classic"||document.body.clientWidth<1e3}),getThemeConfig:o,onThemeConfigChange:()=>{if(e.state.themeConfig.themeConfig.layout==="transverse")return!1;t.mittBus.emit("onMenuClick"),e.state.themeConfig.themeConfig.isCollapse=!e.state.themeConfig.themeConfig.isCollapse}}}},mn=t=>(_t("data-v-7ed482c1"),t=t(),bt(),t),Qn=mn(()=>w("img",{src:"https://gitee.com/lyt-top/vue-next-admin-images/raw/master/logo/logo-mini.svg",class:"layout-logo-medium-img"},null,-1)),Kn=mn(()=>w("img",{src:"https://gitee.com/lyt-top/vue-next-admin-images/raw/master/logo/logo-mini.svg",class:"layout-logo-size-img"},null,-1)),Zn=[Kn];function Jn(t,e,o,n,s,l){return n.setShowLogo?(_(),k("div",{key:0,class:"layout-logo",onClick:e[0]||(e[0]=(...a)=>n.onThemeConfigChange&&n.onThemeConfigChange(...a))},[Qn,w("span",null,H(n.getThemeConfig.globalTitle),1)])):(_(),k("div",{key:1,class:"layout-logo-size",onClick:e[1]||(e[1]=(...a)=>n.onThemeConfigChange&&n.onThemeConfigChange(...a))},Zn))}var hn=X(Un,[["render",Jn],["__scopeId","data-v-7ed482c1"]]);const eo=je({name:"navMenuSubItem",props:{chil:{type:Array,default:()=>[]}},setup(t){return{chils:F(()=>t.chil)}}}),to=["href"];function no(t,e,o,n,s,l){const a=y("sub-item",!0),r=y("el-sub-menu"),i=y("el-menu-item");return _(!0),k(ie,null,Ae(t.chils,u=>(_(),k(ie,null,[u.children&&u.children.length>0?(_(),O(r,{index:u.path,key:u.path},{title:A(()=>[w("i",{class:B(u.meta.icon)},null,2),w("span",null,H(t.$t(u.meta.title)),1)]),default:A(()=>[x(a,{chil:u.children},null,8,["chil"])]),_:2},1032,["index"])):(_(),O(i,{index:u.path,key:u.path},{default:A(()=>[!u.meta.isLink||u.meta.isLink&&u.meta.isIframe?(_(),k(ie,{key:0},[w("i",{class:B(u.meta.icon?u.meta.icon:"")},null,2),w("span",null,H(t.$t(u.meta.title)),1)],64)):(_(),k("a",{key:1,href:u.meta.isLink,target:"_blank",rel:"opener"},[w("i",{class:B(u.meta.icon?u.meta.icon:"")},null,2),ye(" "+H(t.$t(u.meta.title)),1)],8,to))]),_:2},1032,["index"]))],64))),256)}var pn=X(eo,[["render",no]]);const oo=je({name:"navMenuVertical",components:{SubItem:pn},props:{menuList:{type:Array,default:()=>[]}},setup(t){const{proxy:e}=he(),o=Z(),n=Ie(),s=ae({defaultActive:n.meta.isDynamic?n.meta.isDynamicPath:n.path,isCollapse:!1}),l=F(()=>t.menuList),a=F(()=>o.state.themeConfig.themeConfig),r=i=>{const{path:u,meta:c}=i,d=c.isDynamic?c.isDynamicPath.split("/"):u.split("/");return d.length>=4&&c.isHide?d.splice(0,3).join("/"):u};return $e(o.state.themeConfig.themeConfig,()=>{document.body.clientWidth<=1e3?s.isCollapse=!1:s.isCollapse=a.value.isCollapse},{immediate:!0}),Fe(()=>{s.defaultActive=r(n)}),Ye(i=>{s.defaultActive=r(i),e.mittBus.emit("onMenuClick"),document.body.clientWidth<1e3&&(a.value.isCollapse=!1)}),P({menuLists:l,getThemeConfig:a},re(s))}});function io(t,e,o,n,s,l){const a=y("SubItem"),r=y("el-sub-menu"),i=y("el-menu-item"),u=y("el-menu");return _(),O(u,{router:"","default-active":t.defaultActive,"background-color":"transparent",collapse:t.isCollapse,"unique-opened":t.getThemeConfig.isUniqueOpened,"collapse-transition":!1},{default:A(()=>[(_(!0),k(ie,null,Ae(t.menuLists,c=>(_(),k(ie,null,[c.children&&c.children.length>0?(_(),O(r,{index:c.path,key:c.path},{title:A(()=>[w("i",{class:B(c.meta.icon?c.meta.icon:"")},null,2),w("span",null,H(t.$t(c.meta.title)),1)]),default:A(()=>[x(a,{chil:c.children},null,8,["chil"])]),_:2},1032,["index"])):(_(),O(i,{index:c.path,key:c.path},dn({default:A(()=>[w("i",{class:B(c.meta.icon?c.meta.icon:"")},null,2)]),_:2},[!c.meta.isLink||c.meta.isLink&&c.meta.isIframe?{name:"title",fn:A(()=>[w("span",null,H(t.$t(c.meta.title)),1)])}:{name:"title",fn:A(()=>[w("a",{href:c.meta.isLink,target:"_blank",rel:"opener"},H(t.$t(c.meta.title)),9,["href"])])}]),1032,["index"]))],64))),256))]),_:1},8,["default-active","collapse","unique-opened"])}var so=X(oo,[["render",io]]);const ao={name:"layoutAside",components:{Logo:hn,Vertical:so},setup(){const{proxy:t}=he(),e=Z(),o=ae({menuList:[],clientWidth:""}),n=F(()=>e.state.themeConfig.themeConfig),s=F(()=>e.state.tagsViewRoutes.isTagsViewCurrenFull),l=F(()=>{const{layout:f,isCollapse:p,menuBar:b}=e.state.themeConfig.themeConfig,C=b==="#FFFFFF"||b==="#FFF"||b==="#fff"||b==="#ffffff"?"layout-el-aside-br-color":"";if(o.clientWidth<=1e3)if(p){document.body.setAttribute("class","el-popup-parent--hidden");const q=document.querySelector(".layout-container"),W=document.createElement("div");return W.setAttribute("class","layout-aside-mobile-mode"),q.appendChild(W),W.addEventListener("click",a),[C,"layout-aside-mobile","layout-aside-mobile-open"]}else return a(),[C,"layout-aside-mobile","layout-aside-mobile-close"];else return f==="columns"?p?[C,"layout-aside-pc-1"]:[C,"layout-aside-pc-220"]:p?[C,"layout-aside-pc-64"]:[C,"layout-aside-pc-220"]}),a=()=>{var b;const f=document.querySelector(".layout-aside-mobile-mode");f&&((b=f.parentNode)==null||b.removeChild(f)),document.body.clientWidth<1e3&&(e.state.themeConfig.themeConfig.isCollapse=!1),document.body.setAttribute("class","")},r=F(()=>{let{layout:f,isShowLogo:p}=e.state.themeConfig.themeConfig;return p&&f==="defaults"||p&&f==="columns"}),i=()=>{if(e.state.themeConfig.themeConfig.layout==="columns")return!1;o.menuList=u(e.state.routesList.routesList)},u=f=>f.filter(p=>!p.meta.isHide).map(p=>(p=Object.assign({},p),p.children&&(p.children=u(p.children)),p)),c=f=>{o.clientWidth=f},d=f=>{let{layout:p}=e.state.themeConfig.themeConfig;if(p!=="columns")return!1;f||t.mittBus.emit("restoreDefault"),e.dispatch("routesList/setColumnsMenuHover",f)};return $e(e.state.themeConfig.themeConfig,f=>{if(f.isShowLogoChange!==f.isShowLogo){if(!t.$refs.layoutAsideScrollbarRef)return!1;t.$refs.layoutAsideScrollbarRef.update()}}),$e(e.state,f=>{let{layout:p,isClassicSplitMenu:b}=f.themeConfig.themeConfig;if(p==="classic"&&b)return!1;i()}),tt(()=>{c(document.body.clientWidth),i(),t.mittBus.on("setSendColumnsChildren",f=>{o.menuList=f.children}),t.mittBus.on("setSendClassicChildren",f=>{let{layout:p,isClassicSplitMenu:b}=e.state.themeConfig.themeConfig;p==="classic"&&b&&(o.menuList=[],o.menuList=f.children)}),t.mittBus.on("getBreadcrumbIndexSetFilterRoutes",()=>{i()}),t.mittBus.on("layoutMobileResize",f=>{c(f.clientWidth),a()})}),P({setCollapseStyle:l,setShowLogo:r,getThemeConfig:n,isTagsViewCurrenFull:s,onAsideEnterLeave:d},re(o))}},ro={class:"h100"};function lo(t,e,o,n,s,l){const a=y("Logo"),r=y("Vertical"),i=y("el-scrollbar"),u=y("el-aside");return yt((_(),k("div",ro,[x(u,{class:B(["layout-aside",n.setCollapseStyle])},{default:A(()=>[n.setShowLogo?(_(),O(a,{key:0})):G("",!0),x(i,{class:"flex-auto",ref:"layoutAsideScrollbarRef",onMouseenter:e[0]||(e[0]=c=>n.onAsideEnterLeave(!0)),onMouseleave:e[1]||(e[1]=c=>n.onAsideEnterLeave(!1))},{default:A(()=>[x(r,{menuList:t.menuList},null,8,["menuList"])]),_:1},512)]),_:1},8,["class"])],512)),[[vt,!n.isTagsViewCurrenFull]])}var qt=X(ao,[["render",lo]]);const uo={name:"layoutBreadcrumb",setup(){const{proxy:t}=he(),e=Z(),o=Ie(),n=nt(),s=ae({breadcrumbList:[],routeSplit:[],routeSplitFirst:"",routeSplitIndex:1}),l=F(()=>e.state.themeConfig.themeConfig),a=F(()=>{c(o.path);const{layout:d,isBreadcrumb:f}=e.state.themeConfig.themeConfig;return d==="classic"||d==="transverse"?"none":f?"":"none"}),r=d=>{const{redirect:f,path:p}=d;f?n.push(f):n.push(p)},i=()=>{t.mittBus.emit("onMenuClick"),e.state.themeConfig.themeConfig.isCollapse=!e.state.themeConfig.themeConfig.isCollapse},u=d=>{d.map(f=>{s.routeSplit.map((p,b,C)=>{s.routeSplitFirst===f.path&&(s.routeSplitFirst+=`/${C[s.routeSplitIndex]}`,s.breadcrumbList.push(f),s.routeSplitIndex++,f.children&&u(f.children))})})},c=d=>{if(!e.state.themeConfig.themeConfig.isBreadcrumb)return!1;s.breadcrumbList=[e.state.routesList.routesList[0]],s.routeSplit=d.split("/"),s.routeSplit.shift(),s.routeSplitFirst=`/${s.routeSplit[0]}`,s.routeSplitIndex=1,u(e.state.routesList.routesList)};return Fe(()=>{c(o.path)}),Ye(d=>{c(d.path)}),P({onThemeConfigChange:i,isShowBreadcrumb:a,getThemeConfig:l,onBreadcrumbClick:r},re(s))}},co={key:0,class:"layout-navbars-breadcrumb-span"},fo=["onClick"];function mo(t,e,o,n,s,l){const a=y("el-breadcrumb-item"),r=y("el-breadcrumb");return _(),k("div",{class:"layout-navbars-breadcrumb",style:wt({display:n.isShowBreadcrumb})},[w("i",{class:B(["layout-navbars-breadcrumb-icon",n.getThemeConfig.isCollapse?"el-icon-s-unfold":"el-icon-s-fold"]),onClick:e[0]||(e[0]=(...i)=>n.onThemeConfigChange&&n.onThemeConfigChange(...i))},null,2),x(r,{class:"layout-navbars-breadcrumb-hide"},{default:A(()=>[x(Wn,{name:"breadcrumb",mode:"out-in"},{default:A(()=>[(_(!0),k(ie,null,Ae(t.breadcrumbList,(i,u)=>(_(),O(a,{key:i.meta.title},{default:A(()=>[u===t.breadcrumbList.length-1?(_(),k("span",co,[n.getThemeConfig.isBreadcrumbIcon?(_(),k("i",{key:0,class:B([i.meta.icon,"layout-navbars-breadcrumb-iconfont"])},null,2)):G("",!0),ye(H(t.$t(i.meta.title)),1)])):(_(),k("a",{key:1,onClick:He(c=>n.onBreadcrumbClick(i),["prevent"])},[n.getThemeConfig.isBreadcrumbIcon?(_(),k("i",{key:0,class:B([i.meta.icon,"layout-navbars-breadcrumb-iconfont"])},null,2)):G("",!0),ye(H(t.$t(i.meta.title)),1)],8,fo))]),_:2},1024))),128))]),_:1})]),_:1})],4)}var ho=X(uo,[["render",mo],["__scopeId","data-v-bf50da32"]]),gn={exports:{}};/*!
* screenfull
* v5.2.0 - 2021-11-03
* (c) Sindre Sorhus; MIT License
*/(function(t){(function(){var e=typeof window!="undefined"&&typeof window.document!="undefined"?window.document:{},o=t.exports,n=function(){for(var a,r=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],i=0,u=r.length,c={};i<u;i++)if(a=r[i],a&&a[1]in e){for(i=0;i<a.length;i++)c[r[0][i]]=a[i];return c}return!1}(),s={change:n.fullscreenchange,error:n.fullscreenerror},l={request:function(a,r){return new Promise(function(i,u){var c=function(){this.off("change",c),i()}.bind(this);this.on("change",c),a=a||e.documentElement;var d=a[n.requestFullscreen](r);d instanceof Promise&&d.then(c).catch(u)}.bind(this))},exit:function(){return new Promise(function(a,r){if(!this.isFullscreen){a();return}var i=function(){this.off("change",i),a()}.bind(this);this.on("change",i);var u=e[n.exitFullscreen]();u instanceof Promise&&u.then(i).catch(r)}.bind(this))},toggle:function(a,r){return this.isFullscreen?this.exit():this.request(a,r)},onchange:function(a){this.on("change",a)},onerror:function(a){this.on("error",a)},on:function(a,r){var i=s[a];i&&e.addEventListener(i,r,!1)},off:function(a,r){var i=s[a];i&&e.removeEventListener(i,r,!1)},raw:n};if(!n){o?t.exports={isEnabled:!1}:window.screenfull={isEnabled:!1};return}Object.defineProperties(l,{isFullscreen:{get:function(){return Boolean(e[n.fullscreenElement])}},element:{enumerable:!0,get:function(){return e[n.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(e[n.fullscreenEnabled])}}}),o?t.exports=l:window.screenfull=l})()})(gn);var Ct=gn.exports;const po={name:"layoutBreadcrumbUserNews",setup(){const t=ae({newsList:[{label:"\u5173\u4E8E\u7248\u672C\u53D1\u5E03\u7684\u901A\u77E5",value:"vue-next-admin\uFF0C\u57FA\u4E8E vue3 + CompositionAPI + typescript + vite + element plus\uFF0C\u6B63\u5F0F\u53D1\u5E03\u65F6\u95F4\uFF1A2021\u5E7402\u670828\u65E5\uFF01",time:"2020-12-08"},{label:"\u5173\u4E8E\u5B66\u4E60\u4EA4\u6D41\u7684\u901A\u77E5",value:"QQ\u7FA4\u53F7\u7801 665452019\uFF0C\u6B22\u8FCE\u5C0F\u4F19\u4F34\u5165\u7FA4\u5B66\u4E60\u4EA4\u6D41\u63A2\u8BA8\uFF01",time:"2020-12-08"}]});return P({onAllReadClick:()=>{t.newsList=[]},onGoToGiteeClick:()=>{window.open("https://gitee.com/lyt-top/vue-next-admin")}},re(t))}},go={class:"layout-navbars-breadcrumb-user-news"},_o={class:"head-box"},bo={class:"head-box-title"},yo={class:"content-box"},vo={class:"content-box-msg"},wo={class:"content-box-time"};function Co(t,e,o,n,s,l){const a=y("el-empty");return _(),k("div",go,[w("div",_o,[w("div",bo,H(t.$t("message.user.newTitle")),1),t.newsList.length>0?(_(),k("div",{key:0,class:"head-box-btn",onClick:e[0]||(e[0]=(...r)=>n.onAllReadClick&&n.onAllReadClick(...r))},H(t.$t("message.user.newBtn")),1)):G("",!0)]),w("div",yo,[t.newsList.length>0?(_(!0),k(ie,{key:0},Ae(t.newsList,(r,i)=>(_(),k("div",{class:"content-box-item",key:i},[w("div",null,H(r.label),1),w("div",vo,H(r.value),1),w("div",wo,H(r.time),1)]))),128)):(_(),O(a,{key:1,description:t.$t("message.user.newDesc")},null,8,["description"]))]),t.newsList.length>0?(_(),k("div",{key:0,class:"foot-box",onClick:e[1]||(e[1]=(...r)=>n.onGoToGiteeClick&&n.onGoToGiteeClick(...r))},H(t.$t("message.user.newGo")),1)):G("",!0)])}var So=X(po,[["render",Co],["__scopeId","data-v-2a18bc52"]]);const Eo=je({name:"layoutBreadcrumbSearch",setup(){const t=Ve(),{t:e}=fn(),o=Z(),n=nt(),s=ae({isShowSearch:!1,menuQuery:"",tagsViewList:[]}),l=()=>{s.menuQuery="",s.isShowSearch=!0,u(),Ge(()=>{t.value.focus()})},a=()=>{s.isShowSearch=!1},r=(f,p)=>{let b=f?s.tagsViewList.filter(i(f)):s.tagsViewList;p(b)},i=f=>p=>p.path.toLowerCase().indexOf(f.toLowerCase())>-1||p.meta.title.toLowerCase().indexOf(f.toLowerCase())>-1||e(p.meta.title).indexOf(f.toLowerCase())>-1,u=()=>{if(s.tagsViewList.length>0)return!1;o.state.tagsViewRoutes.tagsViewRoutes.map(f=>{f.meta.isHide||s.tagsViewList.push(P({},f))})};return P({layoutMenuAutocompleteRef:t,openSearch:l,closeSearch:a,menuSearch:r,onHandleSelect:f=>{let{path:p,redirect:b}=f;f.meta.isLink&&!f.meta.isIframe?window.open(f.meta.isLink):b?n.push(b):n.push(p),a()},onSearchBlur:()=>{a()}},re(s))}}),To={class:"layout-search-dialog"};function Lo(t,e,o,n,s,l){const a=y("el-autocomplete"),r=y("el-dialog");return _(),k("div",To,[x(r,{modelValue:t.isShowSearch,"onUpdate:modelValue":e[1]||(e[1]=i=>t.isShowSearch=i),width:"300px","destroy-on-close":"",modal:!1,fullscreen:"","show-close":!1},{default:A(()=>[x(a,{modelValue:t.menuQuery,"onUpdate:modelValue":e[0]||(e[0]=i=>t.menuQuery=i),"fetch-suggestions":t.menuSearch,placeholder:t.$t("message.user.searchPlaceholder"),"prefix-icon":"el-icon-search",ref:"layoutMenuAutocompleteRef",onSelect:t.onHandleSelect,onBlur:t.onSearchBlur},{default:A(({item:i})=>[w("div",null,[w("i",{class:B([i.meta.icon,"mr10"])},null,2),ye(H(t.$t(i.meta.title)),1)])]),_:1},8,["modelValue","fetch-suggestions","placeholder","onSelect","onBlur"])]),_:1},8,["modelValue"])])}var Do=X(Eo,[["render",Lo],["__scopeId","data-v-5ad024c2"]]);const xo={name:"layoutBreadcrumbUser",components:{UserNews:So,Search:Do},setup(){const{t}=fn(),{proxy:e}=he(),o=nt(),n=Z(),s=qn(),l=Ve(),a=ae({isScreenfull:!1,isShowUserNewsPopover:!1,disabledI18n:"zh-cn",disabledSize:""}),r=F(()=>n.state.userInfos.userInfos),i=F(()=>n.state.themeConfig.themeConfig),u=F(()=>{let{layout:T,isClassicSplitMenu:M}=i.value,R="";return T==="defaults"||T==="classic"&&!M||T==="columns"?R=1:R=null,R}),c=()=>{if(!Ct.isEnabled)return zt.warning("\u6682\u4E0D\u4E0D\u652F\u6301\u5168\u5C4F"),!1;Ct.toggle(),Ct.on("change",()=>{Ct.isFullscreen?a.isScreenfull=!0:a.isScreenfull=!1})},d=()=>{e.mittBus.emit("openSetingsDrawer")},f=T=>{T==="logOut"?Xn({closeOnClickModal:!1,closeOnPressEscape:!1,title:t("message.user.logOutTitle"),message:t("message.user.logOutMessage"),showCancelButton:!0,confirmButtonText:t("message.user.logOutConfirm"),cancelButtonText:t("message.user.logOutCancel"),beforeClose:(M,R,K)=>{M==="confirm"?(R.confirmButtonLoading=!0,R.confirmButtonText=t("message.user.logOutExit"),setTimeout(()=>{K(),setTimeout(()=>{R.confirmButtonLoading=!1},300)},700)):K()}}).then(()=>{Xe.clear(),me.clear(),zn(),o.push("/login"),setTimeout(()=>{zt.success(t("message.user.logOutSuccess"))},300)}).catch(()=>{}):o.push(T)},p=()=>{l.value.openSearch()},b=T=>{me.remove("themeConfig"),i.value.globalComponentSize=T,me.set("themeConfig",i.value),e.$ELEMENT.size=T,E(),window.location.reload()},C=T=>{me.remove("themeConfig"),i.value.globalI18n=T,me.set("themeConfig",i.value),e.$i18n.locale=T,W(),s()},q=T=>{e.mittBus.emit("getI18nConfig",e.$i18n.messages[T])},W=()=>{switch(me.get("themeConfig").globalI18n){case"zh-cn":a.disabledI18n="zh-cn",q("zh-cn");break;case"en":a.disabledI18n="en",q("en");break}},E=()=>{switch(me.get("themeConfig").globalComponentSize){case"":a.disabledSize="";break;case"medium":a.disabledSize="medium";break;case"small":a.disabledSize="small";break;case"mini":a.disabledSize="mini";break}};return Fe(()=>{me.get("themeConfig")&&(W(),E())}),P({getUserInfos:r,onLayoutSetingClick:d,onHandleCommandClick:f,onScreenfullClick:c,onSearchClick:p,onComponentSizeChange:b,onLanguageChange:C,searchRef:l,layoutUserFlexNum:u},re(a))}},ko=t=>(_t("data-v-37cb9fef"),t=t(),bt(),t),Ao=["title"],Io=["title"],$o=["title"],Fo={class:"layout-navbars-breadcrumb-user-link"},Vo=ko(()=>w("i",{class:"el-icon-arrow-down el-icon--right"},null,-1));function Oo(t,e,o,n,s,l){const a=y("el-dropdown-item"),r=y("el-dropdown-menu"),i=y("el-dropdown"),u=y("Search");return _(),k("div",{class:"layout-navbars-breadcrumb-user",style:wt({flex:n.layoutUserFlexNum})},[w("div",{class:"layout-navbars-breadcrumb-user-icon",onClick:e[0]||(e[0]=(...c)=>n.onSearchClick&&n.onSearchClick(...c))},[w("i",{class:"el-icon-search",title:t.$t("message.user.title2")},null,8,Ao)]),w("div",{class:"layout-navbars-breadcrumb-user-icon",onClick:e[1]||(e[1]=(...c)=>n.onLayoutSetingClick&&n.onLayoutSetingClick(...c))},[w("i",{class:"icon-skin iconfont",title:t.$t("message.user.title3")},null,8,Io)]),w("div",{class:"layout-navbars-breadcrumb-user-icon mr10",onClick:e[2]||(e[2]=(...c)=>n.onScreenfullClick&&n.onScreenfullClick(...c))},[w("i",{class:B(["iconfont",t.isScreenfull?"icon-tuichuquanping":"icon-fullscreen"]),title:t.isScreenfull?t.$t("message.user.title6"):t.$t("message.user.title5")},null,10,$o)]),x(i,{"show-timeout":70,"hide-timeout":50,onCommand:n.onHandleCommandClick},{dropdown:A(()=>[x(r,null,{default:A(()=>[x(a,{command:"/home"},{default:A(()=>[ye(H(t.$t("message.user.dropdown1")),1)]),_:1}),x(a,{divided:"",command:"/user/modifyPwd"},{default:A(()=>[ye(H(t.$t("message.user.dropdown7")),1)]),_:1}),x(a,{divided:"",command:"logOut"},{default:A(()=>[ye(H(t.$t("message.user.dropdown5")),1)]),_:1})]),_:1})]),default:A(()=>[w("span",Fo,[ye(H(n.getUserInfos.userName===""?"test":n.getUserInfos.userName)+" ",1),Vo])]),_:1},8,["onCommand"]),x(u,{ref:"searchRef"},null,512)],4)}var Mo=X(xo,[["render",Oo],["__scopeId","data-v-37cb9fef"]]);const Ro=je({name:"navMenuHorizontal",components:{SubItem:pn},props:{menuList:{type:Array,default:()=>[]}},setup(t){const{proxy:e}=he(),o=Ie(),n=Z(),s=ae({defaultActive:null}),l=F(()=>t.menuList),a=d=>{const f=d.wheelDelta||-d.deltaY*40;e.$refs.elMenuHorizontalScrollRef.$refs.wrap.scrollLeft=e.$refs.elMenuHorizontalScrollRef.$refs.wrap.scrollLeft+f/4},r=()=>{Ge(()=>{let d=document.querySelector(".el-menu.el-menu--horizontal li.is-active");if(!d)return!1;e.$refs.elMenuHorizontalScrollRef.$refs.wrap.scrollLeft=d.offsetLeft})},i=d=>d.filter(f=>!f.meta.isHide).map(f=>(f=Object.assign({},f),f.children&&(f.children=i(f.children)),f)),u=d=>{const f=d.split("/");let p={};return i(n.state.routesList.routesList).map((b,C)=>{b.path===`/${f[1]}`&&(b.k=C,p.item=[P({},b)],p.children=[P({},b)],b.children&&(p.children=b.children))}),p},c=d=>{const{path:f,meta:p}=d;if(n.state.themeConfig.themeConfig.layout==="classic")s.defaultActive=`/${f.split("/")[1]}`;else{const b=p.isDynamic?p.isDynamicPath.split("/"):f.split("/");b.length>=4&&p.isHide?s.defaultActive=b.splice(0,3).join("/"):s.defaultActive=f}};return tt(()=>{c(o)}),Fe(()=>{r()}),Ye(d=>{c(d),e.mittBus.emit("onMenuClick");let{layout:f,isClassicSplitMenu:p}=n.state.themeConfig.themeConfig;f==="classic"&&p&&e.mittBus.emit("setSendClassicChildren",u(d.path))}),P({menuLists:l,onElMenuHorizontalScroll:a},re(s))}}),Bo={class:"el-menu-horizontal-warp"};function Po(t,e,o,n,s,l){const a=y("SubItem"),r=y("el-sub-menu"),i=y("el-menu-item"),u=y("el-menu"),c=y("el-scrollbar");return _(),k("div",Bo,[x(c,{onWheel:He(t.onElMenuHorizontalScroll,["prevent"]),ref:"elMenuHorizontalScrollRef"},{default:A(()=>[x(u,{router:"","default-active":t.defaultActive,"background-color":"transparent",mode:"horizontal"},{default:A(()=>[(_(!0),k(ie,null,Ae(t.menuLists,d=>(_(),k(ie,null,[d.children&&d.children.length>0?(_(),O(r,{index:d.path,key:d.path},{title:A(()=>[w("i",{class:B(d.meta.icon?d.meta.icon:"")},null,2),w("span",null,H(t.$t(d.meta.title)),1)]),default:A(()=>[x(a,{chil:d.children},null,8,["chil"])]),_:2},1032,["index"])):(_(),O(i,{index:d.path,key:d.path},dn({_:2},[!d.meta.isLink||d.meta.isLink&&d.meta.isIframe?{name:"title",fn:A(()=>[w("i",{class:B(d.meta.icon?d.meta.icon:"")},null,2),ye(" "+H(t.$t(d.meta.title)),1)])}:{name:"title",fn:A(()=>[w("a",{href:d.meta.isLink,target:"_blank",rel:"opener"},[w("i",{class:B(d.meta.icon?d.meta.icon:"")},null,2),ye(" "+H(t.$t(d.meta.title)),1)],8,["href"])])}]),1032,["index"]))],64))),256))]),_:1},8,["default-active"])]),_:1},8,["onWheel"])])}var Ho=X(Ro,[["render",Po],["__scopeId","data-v-110fdb21"]]);const No={name:"layoutBreadcrumbIndex",components:{Breadcrumb:ho,User:Mo,Logo:hn,Horizontal:Ho},setup(){const{proxy:t}=he(),e=Z(),o=Ie(),n=ae({menuList:[]}),s=F(()=>e.state.themeConfig.themeConfig),l=F(()=>{let{isShowLogo:d,layout:f}=e.state.themeConfig.themeConfig;return d&&f==="classic"||d&&f==="transverse"}),a=F(()=>{let{layout:d,isClassicSplitMenu:f}=e.state.themeConfig.themeConfig;return d==="transverse"||f&&d==="classic"}),r=()=>{let{layout:d,isClassicSplitMenu:f}=e.state.themeConfig.themeConfig;if(d==="classic"&&f){n.menuList=i(u(e.state.routesList.routesList));const p=c(o.path);t.mittBus.emit("setSendClassicChildren",p)}else n.menuList=u(e.state.routesList.routesList)},i=d=>(d.map(f=>{f.children&&delete f.children}),d),u=d=>d.filter(f=>!f.meta.isHide).map(f=>(f=Object.assign({},f),f.children&&(f.children=u(f.children)),f)),c=d=>{const f=d.split("/");let p={};return u(e.state.routesList.routesList).map((b,C)=>{b.path===`/${f[1]}`&&(b.k=C,p.item=[P({},b)],p.children=[P({},b)],b.children&&(p.children=b.children))}),p};return Fe(()=>{r(),t.mittBus.on("getBreadcrumbIndexSetFilterRoutes",()=>{r()})}),ot(()=>{t.mittBus.off("getBreadcrumbIndexSetFilterRoutes")}),P({getThemeConfig:s,setIsShowLogo:l,isLayoutTransverse:a},re(n))}},zo={class:"layout-navbars-breadcrumb-index"};function qo(t,e,o,n,s,l){const a=y("Logo"),r=y("Breadcrumb"),i=y("Horizontal"),u=y("User");return _(),k("div",zo,[n.setIsShowLogo?(_(),O(a,{key:0})):G("",!0),x(r),n.isLayoutTransverse?(_(),O(i,{key:1,menuList:t.menuList},null,8,["menuList"])):G("",!0),x(u)])}var Wo=X(No,[["render",qo],["__scopeId","data-v-4596ab6e"]]);/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function _n(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),o.push.apply(o,n)}return o}function ve(t){for(var e=1;e<arguments.length;e++){var o=arguments[e]!=null?arguments[e]:{};e%2?_n(Object(o),!0).forEach(function(n){Xo(t,n,o[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):_n(Object(o)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(o,n))})}return t}function St(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?St=function(e){return typeof e}:St=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},St(t)}function Xo(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function Ee(){return Ee=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t},Ee.apply(this,arguments)}function jo(t,e){if(t==null)return{};var o={},n=Object.keys(t),s,l;for(l=0;l<n.length;l++)s=n[l],!(e.indexOf(s)>=0)&&(o[s]=t[s]);return o}function Yo(t,e){if(t==null)return{};var o=jo(t,e),n,s;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(s=0;s<l.length;s++)n=l[s],!(e.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,n)||(o[n]=t[n]))}return o}var Go="1.14.0";function Te(t){if(typeof window!="undefined"&&window.navigator)return!!navigator.userAgent.match(t)}var Le=Te(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),it=Te(/Edge/i),bn=Te(/firefox/i),st=Te(/safari/i)&&!Te(/chrome/i)&&!Te(/android/i),yn=Te(/iP(ad|od|hone)/i),Uo=Te(/chrome/i)&&Te(/android/i),vn={capture:!1,passive:!1};function V(t,e,o){t.addEventListener(e,o,!Le&&vn)}function $(t,e,o){t.removeEventListener(e,o,!Le&&vn)}function Et(t,e){if(!!e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function Qo(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function we(t,e,o,n){if(t){o=o||document;do{if(e!=null&&(e[0]===">"?t.parentNode===o&&Et(t,e):Et(t,e))||n&&t===o)return t;if(t===o)break}while(t=Qo(t))}return null}var wn=/\s+/g;function le(t,e,o){if(t&&e)if(t.classList)t.classList[o?"add":"remove"](e);else{var n=(" "+t.className+" ").replace(wn," ").replace(" "+e+" "," ");t.className=(n+(o?" "+e:"")).replace(wn," ")}}function L(t,e,o){var n=t&&t.style;if(n){if(o===void 0)return document.defaultView&&document.defaultView.getComputedStyle?o=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(o=t.currentStyle),e===void 0?o:o[e];!(e in n)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),n[e]=o+(typeof o=="string"?"":"px")}}function Ue(t,e){var o="";if(typeof t=="string")o=t;else do{var n=L(t,"transform");n&&n!=="none"&&(o=n+" "+o)}while(!e&&(t=t.parentNode));var s=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return s&&new s(o)}function Cn(t,e,o){if(t){var n=t.getElementsByTagName(e),s=0,l=n.length;if(o)for(;s<l;s++)o(n[s],s);return n}return[]}function Ce(){var t=document.scrollingElement;return t||document.documentElement}function Q(t,e,o,n,s){if(!(!t.getBoundingClientRect&&t!==window)){var l,a,r,i,u,c,d;if(t!==window&&t.parentNode&&t!==Ce()?(l=t.getBoundingClientRect(),a=l.top,r=l.left,i=l.bottom,u=l.right,c=l.height,d=l.width):(a=0,r=0,i=window.innerHeight,u=window.innerWidth,c=window.innerHeight,d=window.innerWidth),(e||o)&&t!==window&&(s=s||t.parentNode,!Le))do if(s&&s.getBoundingClientRect&&(L(s,"transform")!=="none"||o&&L(s,"position")!=="static")){var f=s.getBoundingClientRect();a-=f.top+parseInt(L(s,"border-top-width")),r-=f.left+parseInt(L(s,"border-left-width")),i=a+l.height,u=r+l.width;break}while(s=s.parentNode);if(n&&t!==window){var p=Ue(s||t),b=p&&p.a,C=p&&p.d;p&&(a/=C,r/=b,d/=b,c/=C,i=a+c,u=r+d)}return{top:a,left:r,bottom:i,right:u,width:d,height:c}}}function Sn(t,e,o){for(var n=Oe(t,!0),s=Q(t)[e];n;){var l=Q(n)[o],a=void 0;if(o==="top"||o==="left"?a=s>=l:a=s<=l,!a)return n;if(n===Ce())break;n=Oe(n,!1)}return!1}function Qe(t,e,o,n){for(var s=0,l=0,a=t.children;l<a.length;){if(a[l].style.display!=="none"&&a[l]!==D.ghost&&(n||a[l]!==D.dragged)&&we(a[l],o.draggable,t,!1)){if(s===e)return a[l];s++}l++}return null}function Wt(t,e){for(var o=t.lastElementChild;o&&(o===D.ghost||L(o,"display")==="none"||e&&!Et(o,e));)o=o.previousElementSibling;return o||null}function pe(t,e){var o=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==D.clone&&(!e||Et(t,e))&&o++;return o}function En(t){var e=0,o=0,n=Ce();if(t)do{var s=Ue(t),l=s.a,a=s.d;e+=t.scrollLeft*l,o+=t.scrollTop*a}while(t!==n&&(t=t.parentNode));return[e,o]}function Ko(t,e){for(var o in t)if(!!t.hasOwnProperty(o)){for(var n in e)if(e.hasOwnProperty(n)&&e[n]===t[o][n])return Number(o)}return-1}function Oe(t,e){if(!t||!t.getBoundingClientRect)return Ce();var o=t,n=!1;do if(o.clientWidth<o.scrollWidth||o.clientHeight<o.scrollHeight){var s=L(o);if(o.clientWidth<o.scrollWidth&&(s.overflowX=="auto"||s.overflowX=="scroll")||o.clientHeight<o.scrollHeight&&(s.overflowY=="auto"||s.overflowY=="scroll")){if(!o.getBoundingClientRect||o===document.body)return Ce();if(n||e)return o;n=!0}}while(o=o.parentNode);return Ce()}function Zo(t,e){if(t&&e)for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);return t}function Xt(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var at;function Tn(t,e){return function(){if(!at){var o=arguments,n=this;o.length===1?t.call(n,o[0]):t.apply(n,o),at=setTimeout(function(){at=void 0},e)}}}function Jo(){clearTimeout(at),at=void 0}function Ln(t,e,o){t.scrollLeft+=e,t.scrollTop+=o}function Dn(t){var e=window.Polymer,o=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):o?o(t).clone(!0)[0]:t.cloneNode(!0)}var ue="Sortable"+new Date().getTime();function ei(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var n=[].slice.call(this.el.children);n.forEach(function(s){if(!(L(s,"display")==="none"||s===D.ghost)){t.push({target:s,rect:Q(s)});var l=ve({},t[t.length-1].rect);if(s.thisAnimationDuration){var a=Ue(s,!0);a&&(l.top-=a.f,l.left-=a.e)}s.fromRect=l}})}},addAnimationState:function(n){t.push(n)},removeAnimationState:function(n){t.splice(Ko(t,{target:n}),1)},animateAll:function(n){var s=this;if(!this.options.animation){clearTimeout(e),typeof n=="function"&&n();return}var l=!1,a=0;t.forEach(function(r){var i=0,u=r.target,c=u.fromRect,d=Q(u),f=u.prevFromRect,p=u.prevToRect,b=r.rect,C=Ue(u,!0);C&&(d.top-=C.f,d.left-=C.e),u.toRect=d,u.thisAnimationDuration&&Xt(f,d)&&!Xt(c,d)&&(b.top-d.top)/(b.left-d.left)==(c.top-d.top)/(c.left-d.left)&&(i=ni(b,f,p,s.options)),Xt(d,c)||(u.prevFromRect=c,u.prevToRect=d,i||(i=s.options.animation),s.animate(u,b,d,i)),i&&(l=!0,a=Math.max(a,i),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},i),u.thisAnimationDuration=i)}),clearTimeout(e),l?e=setTimeout(function(){typeof n=="function"&&n()},a):typeof n=="function"&&n(),t=[]},animate:function(n,s,l,a){if(a){L(n,"transition",""),L(n,"transform","");var r=Ue(this.el),i=r&&r.a,u=r&&r.d,c=(s.left-l.left)/(i||1),d=(s.top-l.top)/(u||1);n.animatingX=!!c,n.animatingY=!!d,L(n,"transform","translate3d("+c+"px,"+d+"px,0)"),this.forRepaintDummy=ti(n),L(n,"transition","transform "+a+"ms"+(this.options.easing?" "+this.options.easing:"")),L(n,"transform","translate3d(0,0,0)"),typeof n.animated=="number"&&clearTimeout(n.animated),n.animated=setTimeout(function(){L(n,"transition",""),L(n,"transform",""),n.animated=!1,n.animatingX=!1,n.animatingY=!1},a)}}}}function ti(t){return t.offsetWidth}function ni(t,e,o,n){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-o.top,2)+Math.pow(e.left-o.left,2))*n.animation}var Ke=[],jt={initializeByDefault:!0},rt={mount:function(e){for(var o in jt)jt.hasOwnProperty(o)&&!(o in e)&&(e[o]=jt[o]);Ke.forEach(function(n){if(n.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),Ke.push(e)},pluginEvent:function(e,o,n){var s=this;this.eventCanceled=!1,n.cancel=function(){s.eventCanceled=!0};var l=e+"Global";Ke.forEach(function(a){!o[a.pluginName]||(o[a.pluginName][l]&&o[a.pluginName][l](ve({sortable:o},n)),o.options[a.pluginName]&&o[a.pluginName][e]&&o[a.pluginName][e](ve({sortable:o},n)))})},initializePlugins:function(e,o,n,s){Ke.forEach(function(r){var i=r.pluginName;if(!(!e.options[i]&&!r.initializeByDefault)){var u=new r(e,o,e.options);u.sortable=e,u.options=e.options,e[i]=u,Ee(n,u.defaults)}});for(var l in e.options)if(!!e.options.hasOwnProperty(l)){var a=this.modifyOption(e,l,e.options[l]);typeof a!="undefined"&&(e.options[l]=a)}},getEventProperties:function(e,o){var n={};return Ke.forEach(function(s){typeof s.eventProperties=="function"&&Ee(n,s.eventProperties.call(o[s.pluginName],e))}),n},modifyOption:function(e,o,n){var s;return Ke.forEach(function(l){!e[l.pluginName]||l.optionListeners&&typeof l.optionListeners[o]=="function"&&(s=l.optionListeners[o].call(e[l.pluginName],n))}),s}};function oi(t){var e=t.sortable,o=t.rootEl,n=t.name,s=t.targetEl,l=t.cloneEl,a=t.toEl,r=t.fromEl,i=t.oldIndex,u=t.newIndex,c=t.oldDraggableIndex,d=t.newDraggableIndex,f=t.originalEvent,p=t.putSortable,b=t.extraEventProperties;if(e=e||o&&o[ue],!!e){var C,q=e.options,W="on"+n.charAt(0).toUpperCase()+n.substr(1);window.CustomEvent&&!Le&&!it?C=new CustomEvent(n,{bubbles:!0,cancelable:!0}):(C=document.createEvent("Event"),C.initEvent(n,!0,!0)),C.to=a||o,C.from=r||o,C.item=s||o,C.clone=l,C.oldIndex=i,C.newIndex=u,C.oldDraggableIndex=c,C.newDraggableIndex=d,C.originalEvent=f,C.pullMode=p?p.lastPutMode:void 0;var E=ve(ve({},b),rt.getEventProperties(n,e));for(var T in E)C[T]=E[T];o&&o.dispatchEvent(C),q[W]&&q[W].call(e,C)}}var ii=["evt"],se=function(e,o){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=n.evt,l=Yo(n,ii);rt.pluginEvent.bind(D)(e,o,ve({dragEl:g,parentEl:j,ghostEl:I,rootEl:N,nextEl:Ne,lastDownEl:Tt,cloneEl:Y,cloneHidden:Me,dragStarted:ut,putSortable:J,activeSortable:D.active,originalEvent:s,oldIndex:Ze,oldDraggableIndex:lt,newIndex:ce,newDraggableIndex:Re,hideGhostForTarget:Vn,unhideGhostForTarget:On,cloneNowHidden:function(){Me=!0},cloneNowShown:function(){Me=!1},dispatchSortableEvent:function(r){oe({sortable:o,name:r,originalEvent:s})}},l))};function oe(t){oi(ve({putSortable:J,cloneEl:Y,targetEl:g,rootEl:N,oldIndex:Ze,oldDraggableIndex:lt,newIndex:ce,newDraggableIndex:Re},t))}var g,j,I,N,Ne,Tt,Y,Me,Ze,ce,lt,Re,Lt,J,Je=!1,Dt=!1,xt=[],ze,_e,Yt,Gt,xn,kn,ut,et,ct,dt=!1,kt=!1,At,te,Ut=[],Qt=!1,It=[],$t=typeof document!="undefined",Ft=yn,An=it||Le?"cssFloat":"float",si=$t&&!Uo&&!yn&&"draggable"in document.createElement("div"),In=function(){if(!!$t){if(Le)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}}(),$n=function(e,o){var n=L(e),s=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),l=Qe(e,0,o),a=Qe(e,1,o),r=l&&L(l),i=a&&L(a),u=r&&parseInt(r.marginLeft)+parseInt(r.marginRight)+Q(l).width,c=i&&parseInt(i.marginLeft)+parseInt(i.marginRight)+Q(a).width;if(n.display==="flex")return n.flexDirection==="column"||n.flexDirection==="column-reverse"?"vertical":"horizontal";if(n.display==="grid")return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(l&&r.float&&r.float!=="none"){var d=r.float==="left"?"left":"right";return a&&(i.clear==="both"||i.clear===d)?"vertical":"horizontal"}return l&&(r.display==="block"||r.display==="flex"||r.display==="table"||r.display==="grid"||u>=s&&n[An]==="none"||a&&n[An]==="none"&&u+c>s)?"vertical":"horizontal"},ai=function(e,o,n){var s=n?e.left:e.top,l=n?e.right:e.bottom,a=n?e.width:e.height,r=n?o.left:o.top,i=n?o.right:o.bottom,u=n?o.width:o.height;return s===r||l===i||s+a/2===r+u/2},ri=function(e,o){var n;return xt.some(function(s){var l=s[ue].options.emptyInsertThreshold;if(!(!l||Wt(s))){var a=Q(s),r=e>=a.left-l&&e<=a.right+l,i=o>=a.top-l&&o<=a.bottom+l;if(r&&i)return n=s}}),n},Fn=function(e){function o(l,a){return function(r,i,u,c){var d=r.options.group.name&&i.options.group.name&&r.options.group.name===i.options.group.name;if(l==null&&(a||d))return!0;if(l==null||l===!1)return!1;if(a&&l==="clone")return l;if(typeof l=="function")return o(l(r,i,u,c),a)(r,i,u,c);var f=(a?r:i).options.group.name;return l===!0||typeof l=="string"&&l===f||l.join&&l.indexOf(f)>-1}}var n={},s=e.group;(!s||St(s)!="object")&&(s={name:s}),n.name=s.name,n.checkPull=o(s.pull,!0),n.checkPut=o(s.put),n.revertClone=s.revertClone,e.group=n},Vn=function(){!In&&I&&L(I,"display","none")},On=function(){!In&&I&&L(I,"display","")};$t&&document.addEventListener("click",function(t){if(Dt)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),Dt=!1,!1},!0);var qe=function(e){if(g){e=e.touches?e.touches[0]:e;var o=ri(e.clientX,e.clientY);if(o){var n={};for(var s in e)e.hasOwnProperty(s)&&(n[s]=e[s]);n.target=n.rootEl=o,n.preventDefault=void 0,n.stopPropagation=void 0,o[ue]._onDragOver(n)}}},li=function(e){g&&g.parentNode[ue]._isOutsideThisEl(e.target)};function D(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=Ee({},e),t[ue]=this;var o={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return $n(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(a,r){a.setData("Text",r.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:D.supportPointer!==!1&&"PointerEvent"in window&&!st,emptyInsertThreshold:5};rt.initializePlugins(this,t,o);for(var n in o)!(n in e)&&(e[n]=o[n]);Fn(e);for(var s in this)s.charAt(0)==="_"&&typeof this[s]=="function"&&(this[s]=this[s].bind(this));this.nativeDraggable=e.forceFallback?!1:si,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?V(t,"pointerdown",this._onTapStart):(V(t,"mousedown",this._onTapStart),V(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(V(t,"dragover",this),V(t,"dragenter",this)),xt.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),Ee(this,ei())}D.prototype={constructor:D,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(et=null)},_getDirection:function(e,o){return typeof this.options.direction=="function"?this.options.direction.call(this,e,o,g):this.options.direction},_onTapStart:function(e){if(!!e.cancelable){var o=this,n=this.el,s=this.options,l=s.preventOnFilter,a=e.type,r=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,i=(r||e).target,u=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||i,c=s.filter;if(gi(n),!g&&!(/mousedown|pointerdown/.test(a)&&e.button!==0||s.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&st&&i&&i.tagName.toUpperCase()==="SELECT")&&(i=we(i,s.draggable,n,!1),!(i&&i.animated)&&Tt!==i)){if(Ze=pe(i),lt=pe(i,s.draggable),typeof c=="function"){if(c.call(this,e,i,this)){oe({sortable:o,rootEl:u,name:"filter",targetEl:i,toEl:n,fromEl:n}),se("filter",o,{evt:e}),l&&e.cancelable&&e.preventDefault();return}}else if(c&&(c=c.split(",").some(function(d){if(d=we(u,d.trim(),n,!1),d)return oe({sortable:o,rootEl:d,name:"filter",targetEl:i,fromEl:n,toEl:n}),se("filter",o,{evt:e}),!0}),c)){l&&e.cancelable&&e.preventDefault();return}s.handle&&!we(u,s.handle,n,!1)||this._prepareDragStart(e,r,i)}}},_prepareDragStart:function(e,o,n){var s=this,l=s.el,a=s.options,r=l.ownerDocument,i;if(n&&!g&&n.parentNode===l){var u=Q(n);if(N=l,g=n,j=g.parentNode,Ne=g.nextSibling,Tt=n,Lt=a.group,D.dragged=g,ze={target:g,clientX:(o||e).clientX,clientY:(o||e).clientY},xn=ze.clientX-u.left,kn=ze.clientY-u.top,this._lastX=(o||e).clientX,this._lastY=(o||e).clientY,g.style["will-change"]="all",i=function(){if(se("delayEnded",s,{evt:e}),D.eventCanceled){s._onDrop();return}s._disableDelayedDragEvents(),!bn&&s.nativeDraggable&&(g.draggable=!0),s._triggerDragStart(e,o),oe({sortable:s,name:"choose",originalEvent:e}),le(g,a.chosenClass,!0)},a.ignore.split(",").forEach(function(c){Cn(g,c.trim(),Kt)}),V(r,"dragover",qe),V(r,"mousemove",qe),V(r,"touchmove",qe),V(r,"mouseup",s._onDrop),V(r,"touchend",s._onDrop),V(r,"touchcancel",s._onDrop),bn&&this.nativeDraggable&&(this.options.touchStartThreshold=4,g.draggable=!0),se("delayStart",this,{evt:e}),a.delay&&(!a.delayOnTouchOnly||o)&&(!this.nativeDraggable||!(it||Le))){if(D.eventCanceled){this._onDrop();return}V(r,"mouseup",s._disableDelayedDrag),V(r,"touchend",s._disableDelayedDrag),V(r,"touchcancel",s._disableDelayedDrag),V(r,"mousemove",s._delayedDragTouchMoveHandler),V(r,"touchmove",s._delayedDragTouchMoveHandler),a.supportPointer&&V(r,"pointermove",s._delayedDragTouchMoveHandler),s._dragStartTimer=setTimeout(i,a.delay)}else i()}},_delayedDragTouchMoveHandler:function(e){var o=e.touches?e.touches[0]:e;Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){g&&Kt(g),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;$(e,"mouseup",this._disableDelayedDrag),$(e,"touchend",this._disableDelayedDrag),$(e,"touchcancel",this._disableDelayedDrag),$(e,"mousemove",this._delayedDragTouchMoveHandler),$(e,"touchmove",this._delayedDragTouchMoveHandler),$(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,o){o=o||e.pointerType=="touch"&&e,!this.nativeDraggable||o?this.options.supportPointer?V(document,"pointermove",this._onTouchMove):o?V(document,"touchmove",this._onTouchMove):V(document,"mousemove",this._onTouchMove):(V(g,"dragend",this),V(N,"dragstart",this._onDragStart));try{document.selection?Ot(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,o){if(Je=!1,N&&g){se("dragStarted",this,{evt:o}),this.nativeDraggable&&V(document,"dragover",li);var n=this.options;!e&&le(g,n.dragClass,!1),le(g,n.ghostClass,!0),D.active=this,e&&this._appendGhost(),oe({sortable:this,name:"start",originalEvent:o})}else this._nulling()},_emulateDragOver:function(){if(_e){this._lastX=_e.clientX,this._lastY=_e.clientY,Vn();for(var e=document.elementFromPoint(_e.clientX,_e.clientY),o=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(_e.clientX,_e.clientY),e!==o);)o=e;if(g.parentNode[ue]._isOutsideThisEl(e),o)do{if(o[ue]){var n=void 0;if(n=o[ue]._onDragOver({clientX:_e.clientX,clientY:_e.clientY,target:e,rootEl:o}),n&&!this.options.dragoverBubble)break}e=o}while(o=o.parentNode);On()}},_onTouchMove:function(e){if(ze){var o=this.options,n=o.fallbackTolerance,s=o.fallbackOffset,l=e.touches?e.touches[0]:e,a=I&&Ue(I,!0),r=I&&a&&a.a,i=I&&a&&a.d,u=Ft&&te&&En(te),c=(l.clientX-ze.clientX+s.x)/(r||1)+(u?u[0]-Ut[0]:0)/(r||1),d=(l.clientY-ze.clientY+s.y)/(i||1)+(u?u[1]-Ut[1]:0)/(i||1);if(!D.active&&!Je){if(n&&Math.max(Math.abs(l.clientX-this._lastX),Math.abs(l.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(I){a?(a.e+=c-(Yt||0),a.f+=d-(Gt||0)):a={a:1,b:0,c:0,d:1,e:c,f:d};var f="matrix(".concat(a.a,",").concat(a.b,",").concat(a.c,",").concat(a.d,",").concat(a.e,",").concat(a.f,")");L(I,"webkitTransform",f),L(I,"mozTransform",f),L(I,"msTransform",f),L(I,"transform",f),Yt=c,Gt=d,_e=l}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!I){var e=this.options.fallbackOnBody?document.body:N,o=Q(g,!0,Ft,!0,e),n=this.options;if(Ft){for(te=e;L(te,"position")==="static"&&L(te,"transform")==="none"&&te!==document;)te=te.parentNode;te!==document.body&&te!==document.documentElement?(te===document&&(te=Ce()),o.top+=te.scrollTop,o.left+=te.scrollLeft):te=Ce(),Ut=En(te)}I=g.cloneNode(!0),le(I,n.ghostClass,!1),le(I,n.fallbackClass,!0),le(I,n.dragClass,!0),L(I,"transition",""),L(I,"transform",""),L(I,"box-sizing","border-box"),L(I,"margin",0),L(I,"top",o.top),L(I,"left",o.left),L(I,"width",o.width),L(I,"height",o.height),L(I,"opacity","0.8"),L(I,"position",Ft?"absolute":"fixed"),L(I,"zIndex","100000"),L(I,"pointerEvents","none"),D.ghost=I,e.appendChild(I),L(I,"transform-origin",xn/parseInt(I.style.width)*100+"% "+kn/parseInt(I.style.height)*100+"%")}},_onDragStart:function(e,o){var n=this,s=e.dataTransfer,l=n.options;if(se("dragStart",this,{evt:e}),D.eventCanceled){this._onDrop();return}se("setupClone",this),D.eventCanceled||(Y=Dn(g),Y.draggable=!1,Y.style["will-change"]="",this._hideClone(),le(Y,this.options.chosenClass,!1),D.clone=Y),n.cloneId=Ot(function(){se("clone",n),!D.eventCanceled&&(n.options.removeCloneOnHide||N.insertBefore(Y,g),n._hideClone(),oe({sortable:n,name:"clone"}))}),!o&&le(g,l.dragClass,!0),o?(Dt=!0,n._loopId=setInterval(n._emulateDragOver,50)):($(document,"mouseup",n._onDrop),$(document,"touchend",n._onDrop),$(document,"touchcancel",n._onDrop),s&&(s.effectAllowed="move",l.setData&&l.setData.call(n,s,g)),V(document,"drop",n),L(g,"transform","translateZ(0)")),Je=!0,n._dragStartId=Ot(n._dragStarted.bind(n,o,e)),V(document,"selectstart",n),ut=!0,st&&L(document.body,"user-select","none")},_onDragOver:function(e){var o=this.el,n=e.target,s,l,a,r=this.options,i=r.group,u=D.active,c=Lt===i,d=r.sort,f=J||u,p,b=this,C=!1;if(Qt)return;function q(h,m){se(h,b,ve({evt:e,isOwner:c,axis:p?"vertical":"horizontal",revert:a,dragRect:s,targetRect:l,canSort:d,fromSortable:f,target:n,completed:E,onMove:function(v,z){return Vt(N,o,g,s,v,Q(v),e,z)},changed:T},m))}function W(){q("dragOverAnimationCapture"),b.captureAnimationState(),b!==f&&f.captureAnimationState()}function E(h){return q("dragOverCompleted",{insertion:h}),h&&(c?u._hideClone():u._showClone(b),b!==f&&(le(g,J?J.options.ghostClass:u.options.ghostClass,!1),le(g,r.ghostClass,!0)),J!==b&&b!==D.active?J=b:b===D.active&&J&&(J=null),f===b&&(b._ignoreWhileAnimating=n),b.animateAll(function(){q("dragOverAnimationComplete"),b._ignoreWhileAnimating=null}),b!==f&&(f.animateAll(),f._ignoreWhileAnimating=null)),(n===g&&!g.animated||n===o&&!n.animated)&&(et=null),!r.dragoverBubble&&!e.rootEl&&n!==document&&(g.parentNode[ue]._isOutsideThisEl(e.target),!h&&qe(e)),!r.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),C=!0}function T(){ce=pe(g),Re=pe(g,r.draggable),oe({sortable:b,name:"change",toEl:o,newIndex:ce,newDraggableIndex:Re,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),n=we(n,r.draggable,o,!0),q("dragOver"),D.eventCanceled)return C;if(g.contains(e.target)||n.animated&&n.animatingX&&n.animatingY||b._ignoreWhileAnimating===n)return E(!1);if(Dt=!1,u&&!r.disabled&&(c?d||(a=j!==N):J===this||(this.lastPutMode=Lt.checkPull(this,u,g,e))&&i.checkPut(this,u,g,e))){if(p=this._getDirection(e,n)==="vertical",s=Q(g),q("dragOverValid"),D.eventCanceled)return C;if(a)return j=N,W(),this._hideClone(),q("revert"),D.eventCanceled||(Ne?N.insertBefore(g,Ne):N.appendChild(g)),E(!0);var M=Wt(o,r.draggable);if(!M||fi(e,p,this)&&!M.animated){if(M===g)return E(!1);if(M&&o===e.target&&(n=M),n&&(l=Q(n)),Vt(N,o,g,s,n,l,e,!!n)!==!1)return W(),o.appendChild(g),j=o,T(),E(!0)}else if(M&&di(e,p,this)){var R=Qe(o,0,r,!0);if(R===g)return E(!1);if(n=R,l=Q(n),Vt(N,o,g,s,n,l,e,!1)!==!1)return W(),o.insertBefore(g,R),j=o,T(),E(!0)}else if(n.parentNode===o){l=Q(n);var K=0,be,De=g.parentNode!==o,ne=!ai(g.animated&&g.toRect||s,n.animated&&n.toRect||l,p),Be=p?"top":"left",ee=Sn(n,"top","top")||Sn(g,"top","top"),Pe=ee?ee.scrollTop:void 0;et!==n&&(be=l[Be],dt=!1,kt=!ne&&r.invertSwap||De),K=mi(e,n,l,p,ne?1:r.swapThreshold,r.invertedSwapThreshold==null?r.swapThreshold:r.invertedSwapThreshold,kt,et===n);var ge;if(K!==0){var Se=pe(g);do Se-=K,ge=j.children[Se];while(ge&&(L(ge,"display")==="none"||ge===I))}if(K===0||ge===n)return E(!1);et=n,ct=K;var xe=n.nextElementSibling,de=!1;de=K===1;var ke=Vt(N,o,g,s,n,l,e,de);if(ke!==!1)return(ke===1||ke===-1)&&(de=ke===1),Qt=!0,setTimeout(ci,30),W(),de&&!xe?o.appendChild(g):n.parentNode.insertBefore(g,de?xe:n),ee&&Ln(ee,0,Pe-ee.scrollTop),j=g.parentNode,be!==void 0&&!kt&&(At=Math.abs(be-Q(n)[Be])),T(),E(!0)}if(o.contains(g))return E(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){$(document,"mousemove",this._onTouchMove),$(document,"touchmove",this._onTouchMove),$(document,"pointermove",this._onTouchMove),$(document,"dragover",qe),$(document,"mousemove",qe),$(document,"touchmove",qe)},_offUpEvents:function(){var e=this.el.ownerDocument;$(e,"mouseup",this._onDrop),$(e,"touchend",this._onDrop),$(e,"pointerup",this._onDrop),$(e,"touchcancel",this._onDrop),$(document,"selectstart",this)},_onDrop:function(e){var o=this.el,n=this.options;if(ce=pe(g),Re=pe(g,n.draggable),se("drop",this,{evt:e}),j=g&&g.parentNode,ce=pe(g),Re=pe(g,n.draggable),D.eventCanceled){this._nulling();return}Je=!1,kt=!1,dt=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Zt(this.cloneId),Zt(this._dragStartId),this.nativeDraggable&&($(document,"drop",this),$(o,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),st&&L(document.body,"user-select",""),L(g,"transform",""),e&&(ut&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),I&&I.parentNode&&I.parentNode.removeChild(I),(N===j||J&&J.lastPutMode!=="clone")&&Y&&Y.parentNode&&Y.parentNode.removeChild(Y),g&&(this.nativeDraggable&&$(g,"dragend",this),Kt(g),g.style["will-change"]="",ut&&!Je&&le(g,J?J.options.ghostClass:this.options.ghostClass,!1),le(g,this.options.chosenClass,!1),oe({sortable:this,name:"unchoose",toEl:j,newIndex:null,newDraggableIndex:null,originalEvent:e}),N!==j?(ce>=0&&(oe({rootEl:j,name:"add",toEl:j,fromEl:N,originalEvent:e}),oe({sortable:this,name:"remove",toEl:j,originalEvent:e}),oe({rootEl:j,name:"sort",toEl:j,fromEl:N,originalEvent:e}),oe({sortable:this,name:"sort",toEl:j,originalEvent:e})),J&&J.save()):ce!==Ze&&ce>=0&&(oe({sortable:this,name:"update",toEl:j,originalEvent:e}),oe({sortable:this,name:"sort",toEl:j,originalEvent:e})),D.active&&((ce==null||ce===-1)&&(ce=Ze,Re=lt),oe({sortable:this,name:"end",toEl:j,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){se("nulling",this),N=g=j=I=Ne=Y=Tt=Me=ze=_e=ut=ce=Re=Ze=lt=et=ct=J=Lt=D.dragged=D.ghost=D.clone=D.active=null,It.forEach(function(e){e.checked=!0}),It.length=Yt=Gt=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":g&&(this._onDragOver(e),ui(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],o,n=this.el.children,s=0,l=n.length,a=this.options;s<l;s++)o=n[s],we(o,a.draggable,this.el,!1)&&e.push(o.getAttribute(a.dataIdAttr)||pi(o));return e},sort:function(e,o){var n={},s=this.el;this.toArray().forEach(function(l,a){var r=s.children[a];we(r,this.options.draggable,s,!1)&&(n[l]=r)},this),o&&this.captureAnimationState(),e.forEach(function(l){n[l]&&(s.removeChild(n[l]),s.appendChild(n[l]))}),o&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,o){return we(e,o||this.options.draggable,this.el,!1)},option:function(e,o){var n=this.options;if(o===void 0)return n[e];var s=rt.modifyOption(this,e,o);typeof s!="undefined"?n[e]=s:n[e]=o,e==="group"&&Fn(n)},destroy:function(){se("destroy",this);var e=this.el;e[ue]=null,$(e,"mousedown",this._onTapStart),$(e,"touchstart",this._onTapStart),$(e,"pointerdown",this._onTapStart),this.nativeDraggable&&($(e,"dragover",this),$(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(o){o.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),xt.splice(xt.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Me){if(se("hideClone",this),D.eventCanceled)return;L(Y,"display","none"),this.options.removeCloneOnHide&&Y.parentNode&&Y.parentNode.removeChild(Y),Me=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(Me){if(se("showClone",this),D.eventCanceled)return;g.parentNode==N&&!this.options.group.revertClone?N.insertBefore(Y,g):Ne?N.insertBefore(Y,Ne):N.appendChild(Y),this.options.group.revertClone&&this.animate(g,Y),L(Y,"display",""),Me=!1}}};function ui(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function Vt(t,e,o,n,s,l,a,r){var i,u=t[ue],c=u.options.onMove,d;return window.CustomEvent&&!Le&&!it?i=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(i=document.createEvent("Event"),i.initEvent("move",!0,!0)),i.to=e,i.from=t,i.dragged=o,i.draggedRect=n,i.related=s||e,i.relatedRect=l||Q(e),i.willInsertAfter=r,i.originalEvent=a,t.dispatchEvent(i),c&&(d=c.call(u,i,a)),d}function Kt(t){t.draggable=!1}function ci(){Qt=!1}function di(t,e,o){var n=Q(Qe(o.el,0,o.options,!0)),s=10;return e?t.clientX<n.left-s||t.clientY<n.top&&t.clientX<n.right:t.clientY<n.top-s||t.clientY<n.bottom&&t.clientX<n.left}function fi(t,e,o){var n=Q(Wt(o.el,o.options.draggable)),s=10;return e?t.clientX>n.right+s||t.clientX<=n.right&&t.clientY>n.bottom&&t.clientX>=n.left:t.clientX>n.right&&t.clientY>n.top||t.clientX<=n.right&&t.clientY>n.bottom+s}function mi(t,e,o,n,s,l,a,r){var i=n?t.clientY:t.clientX,u=n?o.height:o.width,c=n?o.top:o.left,d=n?o.bottom:o.right,f=!1;if(!a){if(r&&At<u*s){if(!dt&&(ct===1?i>c+u*l/2:i<d-u*l/2)&&(dt=!0),dt)f=!0;else if(ct===1?i<c+At:i>d-At)return-ct}else if(i>c+u*(1-s)/2&&i<d-u*(1-s)/2)return hi(e)}return f=f||a,f&&(i<c+u*l/2||i>d-u*l/2)?i>c+u/2?1:-1:0}function hi(t){return pe(g)<pe(t)?1:-1}function pi(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,o=e.length,n=0;o--;)n+=e.charCodeAt(o);return n.toString(36)}function gi(t){It.length=0;for(var e=t.getElementsByTagName("input"),o=e.length;o--;){var n=e[o];n.checked&&It.push(n)}}function Ot(t){return setTimeout(t,0)}function Zt(t){return clearTimeout(t)}$t&&V(document,"touchmove",function(t){(D.active||Je)&&t.cancelable&&t.preventDefault()});D.utils={on:V,off:$,css:L,find:Cn,is:function(e,o){return!!we(e,o,e,!1)},extend:Zo,throttle:Tn,closest:we,toggleClass:le,clone:Dn,index:pe,nextTick:Ot,cancelNextTick:Zt,detectDirection:$n,getChild:Qe};D.get=function(t){return t[ue]};D.mount=function(){for(var t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];e[0].constructor===Array&&(e=e[0]),e.forEach(function(n){if(!n.prototype||!n.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(n));n.utils&&(D.utils=ve(ve({},D.utils),n.utils)),rt.mount(n)})};D.create=function(t,e){return new D(t,e)};D.version=Go;var U=[],ft,Jt,en=!1,tn,nn,Mt,mt;function _i(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(o){var n=o.originalEvent;this.sortable.nativeDraggable?V(document,"dragover",this._handleAutoScroll):this.options.supportPointer?V(document,"pointermove",this._handleFallbackAutoScroll):n.touches?V(document,"touchmove",this._handleFallbackAutoScroll):V(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(o){var n=o.originalEvent;!this.options.dragOverBubble&&!n.rootEl&&this._handleAutoScroll(n)},drop:function(){this.sortable.nativeDraggable?$(document,"dragover",this._handleAutoScroll):($(document,"pointermove",this._handleFallbackAutoScroll),$(document,"touchmove",this._handleFallbackAutoScroll),$(document,"mousemove",this._handleFallbackAutoScroll)),Mn(),Rt(),Jo()},nulling:function(){Mt=Jt=ft=en=mt=tn=nn=null,U.length=0},_handleFallbackAutoScroll:function(o){this._handleAutoScroll(o,!0)},_handleAutoScroll:function(o,n){var s=this,l=(o.touches?o.touches[0]:o).clientX,a=(o.touches?o.touches[0]:o).clientY,r=document.elementFromPoint(l,a);if(Mt=o,n||this.options.forceAutoScrollFallback||it||Le||st){on(o,this.options,r,n);var i=Oe(r,!0);en&&(!mt||l!==tn||a!==nn)&&(mt&&Mn(),mt=setInterval(function(){var u=Oe(document.elementFromPoint(l,a),!0);u!==i&&(i=u,Rt()),on(o,s.options,u,n)},10),tn=l,nn=a)}else{if(!this.options.bubbleScroll||Oe(r,!0)===Ce()){Rt();return}on(o,this.options,Oe(r,!1),!1)}}},Ee(t,{pluginName:"scroll",initializeByDefault:!0})}function Rt(){U.forEach(function(t){clearInterval(t.pid)}),U=[]}function Mn(){clearInterval(mt)}var on=Tn(function(t,e,o,n){if(!!e.scroll){var s=(t.touches?t.touches[0]:t).clientX,l=(t.touches?t.touches[0]:t).clientY,a=e.scrollSensitivity,r=e.scrollSpeed,i=Ce(),u=!1,c;Jt!==o&&(Jt=o,Rt(),ft=e.scroll,c=e.scrollFn,ft===!0&&(ft=Oe(o,!0)));var d=0,f=ft;do{var p=f,b=Q(p),C=b.top,q=b.bottom,W=b.left,E=b.right,T=b.width,M=b.height,R=void 0,K=void 0,be=p.scrollWidth,De=p.scrollHeight,ne=L(p),Be=p.scrollLeft,ee=p.scrollTop;p===i?(R=T<be&&(ne.overflowX==="auto"||ne.overflowX==="scroll"||ne.overflowX==="visible"),K=M<De&&(ne.overflowY==="auto"||ne.overflowY==="scroll"||ne.overflowY==="visible")):(R=T<be&&(ne.overflowX==="auto"||ne.overflowX==="scroll"),K=M<De&&(ne.overflowY==="auto"||ne.overflowY==="scroll"));var Pe=R&&(Math.abs(E-s)<=a&&Be+T<be)-(Math.abs(W-s)<=a&&!!Be),ge=K&&(Math.abs(q-l)<=a&&ee+M<De)-(Math.abs(C-l)<=a&&!!ee);if(!U[d])for(var Se=0;Se<=d;Se++)U[Se]||(U[Se]={});(U[d].vx!=Pe||U[d].vy!=ge||U[d].el!==p)&&(U[d].el=p,U[d].vx=Pe,U[d].vy=ge,clearInterval(U[d].pid),(Pe!=0||ge!=0)&&(u=!0,U[d].pid=setInterval(function(){n&&this.layer===0&&D.active._onTouchMove(Mt);var xe=U[this.layer].vy?U[this.layer].vy*r:0,de=U[this.layer].vx?U[this.layer].vx*r:0;typeof c=="function"&&c.call(D.dragged.parentNode[ue],de,xe,t,Mt,U[this.layer].el)!=="continue"||Ln(U[this.layer].el,de,xe)}.bind({layer:d}),24))),d++}while(e.bubbleScroll&&f!==i&&(f=Oe(f,!1)));en=u}},30),Rn=function(e){var o=e.originalEvent,n=e.putSortable,s=e.dragEl,l=e.activeSortable,a=e.dispatchSortableEvent,r=e.hideGhostForTarget,i=e.unhideGhostForTarget;if(!!o){var u=n||l;r();var c=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:o,d=document.elementFromPoint(c.clientX,c.clientY);i(),u&&!u.el.contains(d)&&(a("spill"),this.onSpill({dragEl:s,putSortable:n}))}};function sn(){}sn.prototype={startIndex:null,dragStart:function(e){var o=e.oldDraggableIndex;this.startIndex=o},onSpill:function(e){var o=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var s=Qe(this.sortable.el,this.startIndex,this.options);s?this.sortable.el.insertBefore(o,s):this.sortable.el.appendChild(o),this.sortable.animateAll(),n&&n.animateAll()},drop:Rn};Ee(sn,{pluginName:"revertOnSpill"});function an(){}an.prototype={onSpill:function(e){var o=e.dragEl,n=e.putSortable,s=n||this.sortable;s.captureAnimationState(),o.parentNode&&o.parentNode.removeChild(o),s.animateAll()},drop:Rn};Ee(an,{pluginName:"removeOnSpill"});D.mount(new _i);D.mount(an,sn);const bi=je({name:"layoutTagsViewContextmenu",props:{dropdown:{type:Object}},setup(t,{emit:e}){const o=ae({isShow:!1,dropdownList:[{contextMenuClickId:0,txt:"message.tagsView.refresh",affix:!1,icon:"el-icon-refresh-right"},{contextMenuClickId:1,txt:"message.tagsView.close",affix:!1,icon:"el-icon-close"},{contextMenuClickId:2,txt:"message.tagsView.closeOther",affix:!1,icon:"el-icon-circle-close"},{contextMenuClickId:3,txt:"message.tagsView.closeAll",affix:!1,icon:"el-icon-folder-delete"},{contextMenuClickId:4,txt:"message.tagsView.fullscreen",affix:!1,icon:"iconfont icon-fullscreen"}],item:{}}),n=F(()=>t.dropdown),s=r=>{e("currentContextmenuClick",Object.assign({},{contextMenuClickId:r},o.item))},l=r=>{o.item=r,r.meta.isAffix?o.dropdownList[1].affix=!0:o.dropdownList[1].affix=!1,a(),setTimeout(()=>{o.isShow=!0},10)},a=()=>{o.isShow=!1};return Fe(()=>{document.body.addEventListener("click",a)}),ot(()=>{document.body.removeEventListener("click",a)}),P({dropdowns:n,openContextmenu:l,closeContextmenu:a,onCurrentContextmenuClick:s},re(o))}}),yi=t=>(_t("data-v-2b39c751"),t=t(),bt(),t),vi={class:"el-dropdown-menu"},wi=["onClick"],Ci=yi(()=>w("div",{class:"el-popper__arrow",style:{left:"10px"}},null,-1));function Si(t,e,o,n,s,l){return _(),O(jn,{name:"el-zoom-in-center"},{default:A(()=>[yt((_(),k("div",{"aria-hidden":"true",class:"el-dropdown__popper el-popper is-light is-pure custom-contextmenu",role:"tooltip","data-popper-placement":"bottom",style:wt(`top: ${t.dropdowns.y+5}px;left: ${t.dropdowns.x}px;`),key:Math.random()},[w("ul",vi,[(_(!0),k(ie,null,Ae(t.dropdownList,(a,r)=>(_(),k(ie,null,[a.affix?G("",!0):(_(),k("li",{class:"el-dropdown-menu__item","aria-disabled":"false",tabindex:"-1",key:r,onClick:i=>t.onCurrentContextmenuClick(a.contextMenuClickId)},[w("i",{class:B(a.icon)},null,2),w("span",null,H(t.$t(a.txt)),1)],8,wi))],64))),256))]),Ci],4)),[[vt,t.isShow]])]),_:1})}var Ei=X(bi,[["render",Si],["__scopeId","data-v-2b39c751"]]);const Ti={name:"layoutTagsView",components:{Contextmenu:Ei},setup(){const{proxy:t}=he(),e=Ve([]),o=Ve(),n=Ve(),s=Ve(),l=Z(),a=Ie(),r=nt(),i=ae({routeActive:"",routePath:a.path,dropdown:{x:"",y:""},tagsRefsIndex:0,tagsViewList:[],sortable:"",tagsViewRoutesList:[]}),u=F(()=>l.state.themeConfig.themeConfig.tagsStyle),c=F(()=>l.state.themeConfig.themeConfig),d=h=>c.value.isShareTagsView?h.path===i.routePath:h.url?h.url===i.routeActive:h.path===i.routeActive,f=h=>{Xe.set("tagsViewList",h)},p=async()=>{i.routeActive=await ee(a),i.routePath=await a.meta.isDynamic?a.meta.isDynamicPath:a.path,i.tagsViewList=[],i.tagsViewRoutesList=l.state.tagsViewRoutes.tagsViewRoutes,b()},b=async()=>{Xe.get("tagsViewList")&&c.value.isCacheTagsView?i.tagsViewList=await Xe.get("tagsViewList"):(await i.tagsViewRoutesList.map(h=>{h.meta.isAffix&&!h.meta.isHide&&(h.url=ee(h),i.tagsViewList.push(P({},h)))}),await W(a.path,a)),xe(c.value.isShareTagsView?i.routePath:i.routeActive)},C=async(h,m)=>{let S=m.meta.isDynamic?m.meta.isDynamicPath:h;if(i.tagsViewList.filter(z=>z.path===S&&Nt(m.meta.isDynamic?z.params?z.params:null:z.query?z.query:null,m.meta.isDynamic?(m==null?void 0:m.params)?m==null?void 0:m.params:null:(m==null?void 0:m.query)?m==null?void 0:m.query:null)).length<=0){let z=i.tagsViewRoutesList.find(fe=>fe.path===S);if(z.meta.isAffix||z.meta.isLink&&!z.meta.isIframe)return!1;m.meta.isDynamic?z.params=m.params:z.query=m.query,z.url=ee(z),i.tagsViewList.push(P({},z)),f(i.tagsViewList)}},q=(h,m)=>{let S=m.meta.isDynamic?m.meta.isDynamicPath:h;i.tagsViewList.forEach(v=>{v.path===S&&!Nt(m.meta.isDynamic?v.params?v.params:null:v.query?v.query:null,m.meta.isDynamic?(m==null?void 0:m.params)?m==null?void 0:m.params:null:(m==null?void 0:m.query)?m==null?void 0:m.query:null)&&(m.meta.isDynamic?v.params=m.params:v.query=m.query,v.url=ee(v),f(i.tagsViewList))})},W=(h,m)=>{Ge(async()=>{let S="";if(m&&m.meta.isDynamic){if(c.value.isShareTagsView?await q(h,m):await C(h,m),i.tagsViewList.some(v=>v.path===m.meta.isDynamicPath))return!1;S=i.tagsViewRoutesList.find(v=>v.path===m.meta.isDynamicPath)}else{if(c.value.isShareTagsView?await q(h,m):await C(h,m),i.tagsViewList.some(v=>v.path===h))return!1;S=i.tagsViewRoutesList.find(v=>v.path===h)}if(S.meta.isLink&&!S.meta.isIframe)return!1;m&&m.meta.isDynamic?S.params=(m==null?void 0:m.params)?m==null?void 0:m.params:a.params:S.query=(m==null?void 0:m.query)?m==null?void 0:m.query:a.query,S.url=ee(S),await i.tagsViewList.push(P({},S)),await f(i.tagsViewList)})},E=h=>{t.mittBus.emit("onTagsViewRefreshRouterView",h)},T=h=>{i.tagsViewList.map((m,S,v)=>{m.meta.isAffix||(c.value.isShareTagsView?m.path===h:m.url===h)&&(i.tagsViewList.splice(S,1),setTimeout(()=>{(i.tagsViewList.length===S&&c.value.isShareTagsView?i.routePath===h:i.routeActive===h)?v[v.length-1].meta.isDynamic?S!==v.length?r.push({name:v[S].name,params:v[S].params}):r.push({name:v[v.length-1].name,params:v[v.length-1].params}):S!==v.length?r.push({path:v[S].path,query:v[S].query}):r.push({path:v[v.length-1].path,query:v[v.length-1].query}):(i.tagsViewList.length!==S&&c.value.isShareTagsView?i.routePath===h:i.routeActive===h)&&(v[S].meta.isDynamic?r.push({name:v[S].name,params:v[S].params}):r.push({path:v[S].path,query:v[S].query}))},0))}),f(i.tagsViewList)},M=h=>{i.tagsViewList=[],i.tagsViewRoutesList.map(m=>{m.meta.isAffix&&!m.meta.isHide&&i.tagsViewList.push(P({},m))}),W(h,a)},R=()=>{i.tagsViewList=[],i.tagsViewRoutesList.map(h=>{h.meta.isAffix&&!h.meta.isHide&&(i.tagsViewList.push(P({},h)),r.push({path:i.tagsViewList[i.tagsViewList.length-1].path}))}),f(i.tagsViewList)},K=async h=>{const m=i.tagsViewList.find(S=>c.value.isShareTagsView?S.path===h:S.url===h);m.meta.isDynamic?await r.push({name:m.name,params:m.params}):await r.push({name:m.name,query:m.query}),l.dispatch("tagsViewRoutes/setCurrenFullscreen",!0)},be=(h,m)=>(Xe.get("tagsViewList")?Xe.get("tagsViewList"):i.tagsViewList).find(v=>{if(v.path===h&&Nt(v.meta.isDynamic?v.params?v.params:null:v.query?v.query:null,m&&Object.keys(m||{}).length>0?m:null))return v;if(v.path===h&&Object.keys(m||{}).length<=0)return v}),De=async h=>{const m=h.meta.isDynamic?h.params:h.query;if(!be(h.path,m))return zt({type:"warning",message:"\u8BF7\u6B63\u786E\u8F93\u5165\u8DEF\u5F84\u53CA\u5B8C\u6574\u53C2\u6570\uFF08query\u3001params\uFF09"});const{path:S,name:v,params:z,query:fe,meta:ht,url:We}=be(h.path,m);switch(h.contextMenuClickId){case 0:ht.isDynamic?await r.push({name:v,params:z}):await r.push({path:S,query:fe}),E(a.fullPath);break;case 1:T(c.value.isShareTagsView?S:We);break;case 2:ht.isDynamic?await r.push({name:v,params:z}):await r.push({path:S,query:fe}),M(S);break;case 3:R();break;case 4:K(c.value.isShareTagsView?S:We);break}},ne=(h,m)=>{const{clientX:S,clientY:v}=m;i.dropdown.x=S,i.dropdown.y=v,n.value.openContextmenu(h)},Be=(h,m)=>{i.tagsRefsIndex=m,r.push(h)},ee=h=>{let m=h.query&&Object.keys(h.query).length>0?h.query:h.params;if(!m||Object.keys(m).length<=0)return h.path;let S="";for(let v in m)S+=m[v];return`${h.meta.isDynamic?h.meta.isDynamicPath:h.path}-${S}`},Pe=()=>{t.$refs.scrollbarRef.update()},ge=h=>{t.$refs.scrollbarRef.$refs.wrap.scrollLeft+=h.wheelDelta/4},Se=()=>{Ge(()=>{if(e.value.length<=0)return!1;let h=e.value[i.tagsRefsIndex],m=i.tagsRefsIndex,S=e.value.length,v=e.value[0],z=e.value[e.value.length-1],fe=t.$refs.scrollbarRef.$refs.wrap,ht=fe.scrollWidth,We=fe.offsetWidth,rn=fe.scrollLeft,Ht=e.value[i.tagsRefsIndex-1],ln=e.value[i.tagsRefsIndex+1],pt="",gt="";h===v?fe.scrollLeft=0:h===z?fe.scrollLeft=ht-We:(m===0?pt=v.offsetLeft-5:pt=(Ht==null?void 0:Ht.offsetLeft)-5,m===S?gt=z.offsetLeft+z.offsetWidth+5:gt=ln.offsetLeft+ln.offsetWidth+5,gt>rn+We?fe.scrollLeft=gt-We:pt<rn&&(fe.scrollLeft=pt)),Pe()})},xe=h=>{Ge(async()=>{let m=await i.tagsViewList;i.tagsRefsIndex=m.findIndex(S=>c.value.isShareTagsView?S.path===h:S.url===h),Se()})},de=()=>{const h=document.querySelector(".layout-navbars-tagsview-ul");if(!h)return!1;i.sortable&&i.sortable.destroy(),i.sortable=D.create(h,{animation:300,dataIdAttr:"data-url",disabled:!c.value.isSortableTagsView,onEnd:()=>{const m=[];i.sortable.toArray().map(S=>{i.tagsViewList.map(v=>{v.url===S&&m.push(P({},v))})}),f(m)}})},ke=()=>{document.body.clientWidth<1e3?c.value.isSortableTagsView=!1:c.value.isSortableTagsView=!0,de()};return tt(()=>{ke(),window.addEventListener("resize",ke),t.mittBus.on("onCurrentContextmenuClick",h=>{De(h)}),t.mittBus.on("openOrCloseSortable",()=>{de()}),t.mittBus.on("openShareTagsView",()=>{c.value.isShareTagsView&&(r.push("/home"),i.tagsViewList=[],i.tagsViewRoutesList.map(h=>{h.meta.isAffix&&!h.meta.isHide&&(h.url=ee(h),i.tagsViewList.push(P({},h)))}))})}),ot(()=>{t.mittBus.off("onCurrentContextmenuClick"),t.mittBus.off("openOrCloseSortable"),t.mittBus.off("openShareTagsView"),window.removeEventListener("resize",ke)}),Yn(()=>{e.value=[]}),Fe(()=>{p(),de()}),Ye(async h=>{i.routeActive=ee(h),i.routePath=h.meta.isDynamic?h.meta.isDynamicPath:h.path,await W(h.path,h),xe(c.value.isShareTagsView?i.routePath:i.routeActive)}),$e(l.state,h=>{if(h.tagsViewRoutes.tagsViewRoutes.length===i.tagsViewRoutesList.length)return!1;p()}),P({isActive:d,onContextmenu:ne,getTagsViewRoutes:p,onTagsClick:Be,tagsRefs:e,contextmenuRef:n,scrollbarRef:o,tagsUlRef:s,onHandleScroll:ge,getThemeConfig:c,setTagsStyle:u,refreshCurrentTagsView:E,closeCurrentTagsView:T,onCurrentContextmenuClick:De},re(i))}},Li=["data-url","onContextmenu","onClick"],Di={key:0,class:"iconfont icon-webicon318 layout-navbars-tagsview-ul-li-iconfont font14"},xi=["onClick"],ki=["onClick"];function Ai(t,e,o,n,s,l){const a=y("el-scrollbar"),r=y("Contextmenu");return _(),k("div",{class:B(["layout-navbars-tagsview",{"layout-navbars-tagsview-shadow":n.getThemeConfig.layout==="classic"}])},[x(a,{ref:"scrollbarRef",onWheel:He(n.onHandleScroll,["prevent"])},{default:A(()=>[w("ul",{class:B(["layout-navbars-tagsview-ul",n.setTagsStyle]),ref:"tagsUlRef"},[(_(!0),k(ie,null,Ae(t.tagsViewList,(i,u)=>(_(),k("li",{key:u,class:B(["layout-navbars-tagsview-ul-li",{"is-active":n.isActive(i)}]),"data-url":i.url,onContextmenu:He(c=>n.onContextmenu(i,c),["prevent"]),onClick:c=>n.onTagsClick(i,u),ref:c=>{c&&(n.tagsRefs[u]=c)}},[n.isActive(i)?(_(),k("i",Di)):G("",!0),!n.isActive(i)&&n.getThemeConfig.isTagsviewIcon?(_(),k("i",{key:1,class:B(["layout-navbars-tagsview-ul-li-iconfont",i.meta.icon])},null,2)):G("",!0),w("span",null,H(t.$t(i.meta.title)),1),n.isActive(i)?(_(),k(ie,{key:2},[w("i",{class:"el-icon-refresh-right ml5",onClick:e[0]||(e[0]=He(c=>n.refreshCurrentTagsView(t.$route.fullPath),["stop"]))}),i.meta.isAffix?G("",!0):(_(),k("i",{key:0,class:"el-icon-close layout-navbars-tagsview-ul-li-icon layout-icon-active",onClick:He(c=>n.closeCurrentTagsView(n.getThemeConfig.isShareTagsView?i.path:i.url),["stop"])},null,8,xi))],64)):G("",!0),i.meta.isAffix?G("",!0):(_(),k("i",{key:3,class:"el-icon-close layout-navbars-tagsview-ul-li-icon layout-icon-three",onClick:He(c=>n.closeCurrentTagsView(n.getThemeConfig.isShareTagsView?i.path:i.url),["stop"])},null,8,ki))],42,Li))),128))],2)]),_:1},8,["onWheel"]),x(r,{dropdown:t.dropdown,ref:"contextmenuRef",onCurrentContextmenuClick:n.onCurrentContextmenuClick},null,8,["dropdown","onCurrentContextmenuClick"])],2)}var Bn=X(Ti,[["render",Ai],["__scopeId","data-v-1b68a914"]]);const Ii={name:"layoutNavBars",components:{BreadcrumbIndex:Wo,TagsView:Bn},setup(){const t=Z();return{setShowTagsView:F(()=>{let{layout:o,isTagsview:n}=t.state.themeConfig.themeConfig;return o!=="classic"&&n})}}},$i={class:"layout-navbars-container"};function Fi(t,e,o,n,s,l){const a=y("BreadcrumbIndex"),r=y("TagsView");return _(),k("div",$i,[x(a),n.setShowTagsView?(_(),O(r,{key:0})):G("",!0)])}var Vi=X(Ii,[["render",Fi],["__scopeId","data-v-4d355550"]]);const Oi={name:"layoutHeader",components:{NavBarsIndex:Vi},setup(){const t=Z(),e=F(()=>{let{isTagsview:n,layout:s}=t.state.themeConfig.themeConfig;return n&&s!=="classic"?"84px":"50px"}),o=F(()=>t.state.tagsViewRoutes.isTagsViewCurrenFull);return{setHeaderHeight:e,isTagsViewCurrenFull:o}}};function Mi(t,e,o,n,s,l){const a=y("NavBarsIndex"),r=y("el-header");return yt((_(),O(r,{class:"layout-header",height:n.setHeaderHeight},{default:A(()=>[x(a)]),_:1},8,["height"])),[[vt,!n.isTagsViewCurrenFull]])}var Bt=X(Oi,[["render",Mi]]);const Ri={name:"layoutFooter",setup(){const t=ae({isDelayFooter:!0});return Ye(()=>{t.isDelayFooter=!1,setTimeout(()=>{t.isDelayFooter=!0},800)}),P({},re(t))}},Bi=t=>(_t("data-v-19515c88"),t=t(),bt(),t),Pi={class:"layout-footer mt15"},Hi={class:"layout-footer-warp"},Ni=Bi(()=>w("div",null,"vue-next-admin\uFF0CMade by lyt with \u2764\uFE0F",-1)),zi={class:"mt5"};function qi(t,e,o,n,s,l){return yt((_(),k("div",Pi,[w("div",Hi,[Ni,w("div",zi,H(t.$t("message.copyright.one5")),1)])],512)),[[vt,t.isDelayFooter]])}var Wi=X(Ri,[["render",qi],["__scopeId","data-v-19515c88"]]);const Xi=je({name:"layoutMain",components:{LayoutParentView:Gn,Footer:Wi},setup(){const{proxy:t}=he(),e=Ie(),o=Z(),n=ae({headerHeight:"",currentRouteMeta:{}}),s=F(()=>o.state.themeConfig.themeConfig),l=()=>{let{isTagsview:r}=o.state.themeConfig.themeConfig;return r?n.headerHeight="84px":n.headerHeight="50px"},a=()=>{n.currentRouteMeta=e.meta};return tt(()=>{l(),a()}),$e(o.state.themeConfig.themeConfig,r=>{if(n.headerHeight=r.isTagsview?"84px":"50px",r.isFixedHeaderChange!==r.isFixedHeader){if(!t.$refs.layoutScrollbarRef)return!1;t.$refs.layoutScrollbarRef.update()}}),$e(()=>e.path,()=>{n.currentRouteMeta=e.meta}),P({getThemeConfig:s},re(n))}});function ji(t,e,o,n,s,l){const a=y("LayoutParentView"),r=y("Footer"),i=y("el-scrollbar"),u=y("el-main");return _(),O(u,{class:"layout-main"},{default:A(()=>[x(i,{class:"layout-scrollbar",ref:"layoutScrollbarRef",style:wt({minHeight:`calc(100vh - ${t.headerHeight})`,padding:t.currentRouteMeta.isLink&&t.currentRouteMeta.isIframe?0:"",transition:"padding 0.3s ease-in-out"})},{default:A(()=>[x(a),t.getThemeConfig.isFooter?(_(),O(r,{key:0})):G("",!0)]),_:1},8,["style"])]),_:1})}var Pt=X(Xi,[["render",ji]]);const Yi={name:"layoutDefaults",components:{Aside:qt,Header:Bt,Main:Pt},setup(){const{proxy:t}=he(),e=Z(),o=Ie(),n=F(()=>e.state.themeConfig.themeConfig.isFixedHeader);return $e(()=>o.path,()=>{t.$refs.layoutDefaultsScrollbarRef.wrap.scrollTop=0}),{isFixedHeader:n}}};function Gi(t,e,o,n,s,l){const a=y("Aside"),r=y("Header"),i=y("Main"),u=y("el-scrollbar"),c=y("el-container"),d=y("el-backtop");return _(),O(c,{class:"layout-container"},{default:A(()=>[x(a),x(c,{class:B(["flex-center",{"layout-backtop":!n.isFixedHeader}])},{default:A(()=>[n.isFixedHeader?(_(),O(r,{key:0})):G("",!0),x(u,{ref:"layoutDefaultsScrollbarRef",class:B({"layout-backtop":n.isFixedHeader})},{default:A(()=>[n.isFixedHeader?G("",!0):(_(),O(r,{key:0})),x(i)]),_:1},8,["class"])]),_:1},8,["class"]),x(d,{target:".layout-backtop .el-scrollbar__wrap"})]),_:1})}var Ui=X(Yi,[["render",Gi]]);const Qi={name:"layoutClassic",components:{Aside:qt,Header:Bt,Main:Pt,TagsView:Bn},setup(){const t=Z();return{getThemeConfig:F(()=>t.state.themeConfig.themeConfig)}}},Ki={class:"flex-center layout-backtop"};function Zi(t,e,o,n,s,l){const a=y("Header"),r=y("Aside"),i=y("TagsView"),u=y("Main"),c=y("el-container"),d=y("el-backtop");return _(),O(c,{class:"layout-container flex-center"},{default:A(()=>[x(a),x(c,{class:"layout-mian-height-50"},{default:A(()=>[x(r),w("div",Ki,[n.getThemeConfig.isTagsview?(_(),O(i,{key:0})):G("",!0),x(u)])]),_:1}),x(d,{target:".layout-backtop .el-main .el-scrollbar__wrap"})]),_:1})}var Ji=X(Qi,[["render",Zi]]);const es={name:"layoutTransverse",components:{Header:Bt,Main:Pt}};function ts(t,e,o,n,s,l){const a=y("Header"),r=y("Main"),i=y("el-backtop"),u=y("el-container");return _(),O(u,{class:"layout-container flex-center layout-backtop"},{default:A(()=>[x(a),x(r),x(i,{target:".layout-backtop .el-main .el-scrollbar__wrap"})]),_:1})}var ns=X(es,[["render",ts]]);const os={name:"layoutColumnsAside",setup(){const t=Ve([]),e=Ve(),{proxy:o}=he(),n=Z(),s=Ie(),l=nt(),a=ae({columnsAsideList:[],liIndex:0,liOldIndex:null,liHoverIndex:null,liOldPath:null,difference:0,routeSplit:[],isNavHover:!1}),r=F(()=>n.state.themeConfig.themeConfig.columnsAsideStyle),i=F(()=>n.state.themeConfig.themeConfig.columnsAsideLayout),u=E=>{a.liIndex=E,e.value.style.top=`${t.value[E].offsetTop+a.difference}px`},c=(E,T)=>{u(T);let{path:M,redirect:R}=E;R?l.push(R):l.push(M)},d=(E,T)=>{let{path:M}=E;a.liOldPath=M,a.liOldIndex=T,a.liHoverIndex=T,o.mittBus.emit("setSendColumnsChildren",C(M)),n.dispatch("routesList/setColumnsMenuHover",!1),n.dispatch("routesList/setColumnsNavHover",!0),a.isNavHover=!0},f=async()=>{await n.dispatch("routesList/setColumnsNavHover",!1),setTimeout(()=>{const{isColumnsMenuHover:E,isColumnsNavHover:T}=n.state.routesList;!E&&!T&&o.mittBus.emit("restoreDefault")},100)},p=E=>{Ge(()=>{u(E)})},b=()=>{a.columnsAsideList=q(n.state.routesList.routesList);const E=C(s.path);if(Object.keys(E).length<=0)return!1;p(E.item[0].k),o.mittBus.emit("setSendColumnsChildren",E)},C=E=>{const T=E.split("/");let M={};return a.columnsAsideList.map((R,K)=>{R.path===`/${T[1]}`&&(R.k=K,M.item=[P({},R)],M.children=[P({},R)],R.children&&(M.children=R.children))}),M},q=E=>E.filter(T=>!T.meta.isHide).map(T=>(T=Object.assign({},T),T.children&&(T.children=q(T.children)),T)),W=E=>{a.routeSplit=E.split("/"),a.routeSplit.shift();const T=`/${a.routeSplit[0]}`,M=a.columnsAsideList.find(R=>R.path===T);if(!M)return!1;setTimeout(()=>{p(M.k)},0)};return $e(n.state,E=>{if(E.themeConfig.themeConfig.columnsAsideStyle==="columnsRound"?a.difference=3:a.difference=0,!E.routesList.isColumnsMenuHover&&!E.routesList.isColumnsNavHover)a.liHoverIndex=null,o.mittBus.emit("setSendColumnsChildren",C(s.path));else{if(a.liHoverIndex=a.liOldIndex,!a.liOldPath)return!1;o.mittBus.emit("setSendColumnsChildren",C(a.liOldPath))}}),Fe(()=>{b(),o.mittBus.on("restoreDefault",()=>{a.liOldIndex=null,a.liOldPath=null})}),ot(()=>{o.mittBus.off("restoreDefault",()=>{})}),Ye(E=>{W(E.path),o.mittBus.emit("setSendColumnsChildren",C(E.path))}),P({columnsAsideOffsetTopRefs:t,columnsAsideActiveRef:e,onColumnsAsideDown:p,setColumnsAsideStyle:r,setColumnsAsidelayout:i,onColumnsAsideMenuClick:c,onColumnsAsideMenuMouseenter:d,onColumnsAsideMenuMouseleave:f},re(a))}},is={class:"layout-columns-aside"},ss=["onClick","onMouseenter","title"],as={class:"columns-vertical-title font12"},rs=["href"],ls={class:"columns-vertical-title font12"};function us(t,e,o,n,s,l){const a=y("el-scrollbar");return _(),k("div",is,[x(a,null,{default:A(()=>[w("ul",{onMouseleave:e[0]||(e[0]=r=>n.onColumnsAsideMenuMouseleave())},[(_(!0),k(ie,null,Ae(t.columnsAsideList,(r,i)=>(_(),k("li",{key:i,onClick:u=>n.onColumnsAsideMenuClick(r,i),onMouseenter:u=>n.onColumnsAsideMenuMouseenter(r,i),ref:u=>{u&&(n.columnsAsideOffsetTopRefs[i]=u)},class:B({"layout-columns-active":t.liIndex===i,"layout-columns-hover":t.liHoverIndex===i}),title:t.$t(r.meta.title)},[!r.meta.isLink||r.meta.isLink&&r.meta.isIframe?(_(),k("div",{key:0,class:B(n.setColumnsAsidelayout)},[w("i",{class:B(r.meta.icon)},null,2),w("div",as,H(t.$t(r.meta.title)&&t.$t(r.meta.title).length>=4?t.$t(r.meta.title).substr(0,n.setColumnsAsidelayout==="columns-vertical"?4:3):t.$t(r.meta.title)),1)],2)):(_(),k("div",{key:1,class:B(n.setColumnsAsidelayout)},[w("a",{href:r.meta.isLink,target:"_blank"},[w("i",{class:B(r.meta.icon)},null,2),w("div",ls,H(t.$t(r.meta.title)&&t.$t(r.meta.title).length>=4?t.$t(r.meta.title).substr(0,n.setColumnsAsidelayout==="columns-vertical"?4:3):t.$t(r.meta.title)),1)],8,rs)],2))],42,ss))),128)),w("div",{ref:"columnsAsideActiveRef",class:B(n.setColumnsAsideStyle)},null,2)],32)]),_:1})])}var cs=X(os,[["render",us],["__scopeId","data-v-8d5d0ac0"]]);const ds={name:"layoutColumns",components:{Aside:qt,Header:Bt,Main:Pt,ColumnsAside:cs},setup(){const t=Z();return{isFixedHeader:F(()=>t.state.themeConfig.themeConfig.isFixedHeader)}}},fs={class:"layout-columns-warp"};function ms(t,e,o,n,s,l){const a=y("ColumnsAside"),r=y("Aside"),i=y("Header"),u=y("Main"),c=y("el-scrollbar"),d=y("el-container"),f=y("el-backtop");return _(),O(d,{class:"layout-container"},{default:A(()=>[x(a),w("div",fs,[x(r),x(d,{class:B(["flex-center layout-backtop",{"layout-backtop":!n.isFixedHeader}])},{default:A(()=>[n.isFixedHeader?(_(),O(i,{key:0})):G("",!0),x(c,{class:B({"layout-backtop":n.isFixedHeader})},{default:A(()=>[n.isFixedHeader?G("",!0):(_(),O(i,{key:0})),x(u)]),_:1},8,["class"])]),_:1},8,["class"])]),x(f,{target:".layout-backtop .el-scrollbar__wrap"})]),_:1})}var hs=X(ds,[["render",ms]]);const ps={name:"layout",components:{Defaults:Ui,Classic:Ji,Transverse:ns,Columns:hs},setup(){const{proxy:t}=he(),e=Z(),o=F(()=>e.state.themeConfig.themeConfig),n=()=>{me.get("oldLayout")||me.set("oldLayout",o.value.layout);const s=document.body.clientWidth;s<1e3?(o.value.isCollapse=!1,t.mittBus.emit("layoutMobileResize",{layout:"defaults",clientWidth:s})):t.mittBus.emit("layoutMobileResize",{layout:me.get("oldLayout")?me.get("oldLayout"):o.value.layout,clientWidth:s})};return tt(()=>{n(),window.addEventListener("resize",n)}),ot(()=>{window.removeEventListener("resize",n)}),{getThemeConfig:o}}};function gs(t,e,o,n,s,l){const a=y("Defaults"),r=y("Classic"),i=y("Transverse"),u=y("Columns");return n.getThemeConfig.layout==="defaults"?(_(),O(a,{key:0})):n.getThemeConfig.layout==="classic"?(_(),O(r,{key:1})):n.getThemeConfig.layout==="transverse"?(_(),O(i,{key:2})):n.getThemeConfig.layout==="columns"?(_(),O(u,{key:3})):G("",!0)}var ws=X(ps,[["render",gs]]);export{ws as default};
