import{h as I,Z as z,o as L,j as r,a4 as P,k as M,l as g,a5 as i,w as A,O as d,y as p,J as _,B as c,x as l,s as h,q as B,E as D}from"./vendor.a22db959.js";import{M as j,a as U,N as V}from"./index.70831d5c.js";import{_ as q}from"./index.465eb10d.js";const E=B("\u53D6\u6D88"),H={setup(T){const e=I({seachField:{},tableData:{loading:!1,pagination:{pageSize:10,pageNum:1,totalPage:0,more:0},rows:[]},formData:{userId:parseInt(window.localStorage.getItem("userId")||"")},rules:{locationNo:[{required:!0,message:"\u8BF7\u8F93\u5165SPU\u7F16\u53F7",trigger:"blur"}],locationName:[{required:!0,message:"\u8BF7\u8F93\u5165SPU\u540D\u79F0",trigger:"blur"}]},scrapStatusList:[],scrapApplyMemoStatusList:[]});z();function f(t){e.tableData.pagination.pageSize=t,u()}function w(t){e.tableData.pagination.pageNum=t,u()}function u(){e.tableData.loading=!0,j({applicant:e.formData.userId,pageSize:e.tableData.pagination.pageSize,pageNum:e.tableData.pagination.pageNum}).then(t=>{console.log(t),e.tableData.rows=t.items?t.items:[],e.tableData.pagination.totalPage=t.totalPage,e.tableData.loading=!1}).catch(t=>{console.log(t)})}function y(t,n){V({containerId:n.containerId,id:n.id,status:1,userId:e.formData.userId}).then(a=>{a&&a.code==200?D.success("\u64CD\u4F5C\u6210\u529F"):D.success("\u64CD\u4F5C\u6210\u529F"),u()})}function S(){return"padding:3px;"}function v(){return"padding:3px;"}function m(t,n){var a=[];switch(n){case 14:a=e.scrapStatusList;break;case 13:a=e.scrapApplyMemoStatusList;break}for(let s=0;s<a.length;s++)if(t==a[s].itemId)return a[s].itemName;return""}function b(t){U({groupId:t}).then(n=>{if(n.code==200&&n.items.length>0)switch(t){case 14:e.scrapStatusList=n.items;break;case 13:e.scrapApplyMemoStatusList=n.items;break}}).catch(n=>{console.log(n)})}return L(()=>{u(),b(14),b(13)}),(t,n)=>{const a=r("el-table-column"),s=r("el-button"),N=r("el-table"),k=r("el-empty"),x=r("el-pagination"),C=P("loading");return c(),M("div",null,[g("div",null,[i(e).tableData.rows.length>0?A((c(),d(N,{key:0,data:i(e).tableData.rows,stripe:"","cell-style":S,"header-cell-style":v,border:"",class:"container_table"},{default:p(()=>[l(a,{label:"#",prop:"id",width:"50"}),l(a,{label:"\u6807\u7B7E\u53F7",prop:"containerNo",width:"100"}),l(a,{label:"\u4ED3\u5E93\u53F7",prop:"locationNo",width:"200"}),l(a,{label:"\u5F53\u524D\u5E93\u5B58",prop:"curAmount",width:"100"}),l(a,{label:"SKU",prop:"skuName",width:"200"}),l(a,{label:"\u5907\u6CE8",prop:"memo",width:"200"}),l(a,{label:"\u7533\u8BF7\u539F\u56E0",prop:"applyMemo",width:"100"},{default:p(o=>[g("div",null,h(m(o.row.applyMemo,13)),1)]),_:1}),l(a,{label:"\u72B6\u6001",prop:"status",width:"100"},{default:p(o=>[g("div",null,h(m(o.row.status,14)),1)]),_:1}),l(a,{label:"\u64CD\u4F5C",width:"120"},{default:p(o=>[o.row.status==10?(c(),d(s,{key:0,type:"text",onClick:$=>y(o.$index,o.row),size:"mini"},{default:p(()=>[E]),_:2},1032,["onClick"])):_("",!0)]),_:1})]),_:1},8,["data"])),[[C,i(e).tableData.loading]]):(c(),d(k,{key:1,description:"\u6682\u65E0\u6570\u636E"})),i(e).tableData.rows.length>0?(c(),d(x,{key:2,currentPage:i(e).tableData.pagination.pageNum,"onUpdate:currentPage":n[0]||(n[0]=o=>i(e).tableData.pagination.pageNum=o),"page-size":i(e).tableData.pagination.pageSize,layout:"prev, pager, next",onCurrentChange:w,onSizeChange:f,"page-count":i(e).tableData.pagination.totalPage},null,8,["currentPage","page-size","page-count"])):_("",!0)])])}}};var O=q(H,[["__scopeId","data-v-6dd30401"]]);export{O as default};
