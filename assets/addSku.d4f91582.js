import{h as P,Z as R,o as z,j as i,k as m,x as o,y as u,a5 as l,E as k,B as n,W as p,U as f,l as B,q as b,O as D,s as y,D as j}from"./vendor.a22db959.js";import{a as C,f as Y,c as E,l as F,o as M}from"./index.d0f5265b.js";import{_ as $}from"./index.6b1aa83f.js";const O={class:"container"},T={class:"buttonclass"},W=b("\u786E \u5B9A"),Z={setup(G){const{proxy:N}=j(),e=P({formData:{userId:parseInt(window.localStorage.getItem("userId")||""),sessionId:window.localStorage.getItem("sessionId")||"",spuId:"",skuId:"",skuNo:"",skuName:"",description:"",unit:"",status:20,coperationId:"",moperationId:"",requiredReturn:10,requiredApply:10,currentSeqNo:"",maxInventory:"",minInventory:1,locationId:"",unitPrice:0,useDevice:"",vendor:"",memo:""},spuList:[],rules:{spuId:[{required:!0,message:"\u8BF7\u9009\u62E9spu",trigger:"blur"}],skuNo:[{required:!0,message:"\u8BF7\u8F93\u5165sku\u7F16\u53F7",trigger:"blur"}],skuName:[{required:!0,message:"\u8BF7\u8F93\u5165sku\u540D\u79F0",trigger:"blur"}]},canDialogDetail:!1,statusList:[],unitList:[],sysYesNoList:[],locationList:[],supplierList:[]});R();function _(r){C({groupId:r}).then(a=>{if(a.code==200&&a.items.length>0)switch(r){case 1:e.statusList=a.items;break;case 3:e.unitList=a.items;break;case 10:e.sysYesNoList=a.items;break}}).catch(a=>{console.log(a)})}function L(){N.$refs.ruleForm.validate().then(r=>{if(r){var a={userId:parseInt(window.localStorage.getItem("userId")||""),sessionId:window.localStorage.getItem("sessionId"),spuId:e.formData.spuId,skuName:e.formData.skuName,unit:e.formData.unit,description:e.formData.description,minInventory:e.formData.minInventory,maxInventory:e.formData.maxInventory,requiredApply:e.formData.requiredApply,requiredReturn:e.formData.requiredReturn,locationId:e.formData.locationId,status:e.formData.status,unitPrice:e.formData.unitPrice,useDevice:e.formData.useDevice,vendor:e.formData.vendor,memo:e.formData.memo};for(var d in e.spuList)a.spuId==e.spuList[d].spuId&&(a.skuNo=e.spuList[d].spuNo+"-"+e.formData.skuNo);M(a).then(c=>{k.success("\u521B\u5EFA\u6210\u529F"),e.canDialogDetail=!1}).catch(c=>{k.error("\u64CD\u4F5C\u5931\u8D25")})}})}function S(){Y({status:20,pageNum:1,pageSize:1e4}).then(r=>{r&&r.code&&r.items&&r.items.length>0&&(console.log("res",r.items),e.spuList=r.items)}).catch(r=>{k.error(r)})}function x(){E({status:20,pageSize:1e3,pageNum:1}).then(r=>{e.locationList=r.items?r.items:[]}).catch(r=>{console.log(r)})}function U(){F({status:20,pageSize:1e3,pageNum:1}).then(r=>{e.supplierList=r.items?r.items:[]}).catch(r=>{console.log(r)})}return z(()=>{_(1),_(3),_(10),S(),x(),U()}),(r,a)=>{const d=i("el-option"),c=i("el-select"),s=i("el-form-item"),I=i("el-input"),v=i("el-radio"),V=i("el-radio-group"),g=i("el-input-number"),q=i("el-button"),A=i("el-form");return n(),m("div",O,[o(A,{ref:(t,w)=>{w.ruleForm=t},model:l(e).formData,rules:l(e).rules,size:"mini","label-width":"100px"},{default:u(()=>[o(s,{label:"SPU",prop:"spuId"},{default:u(()=>[o(c,{modelValue:l(e).formData.spuId,"onUpdate:modelValue":a[0]||(a[0]=t=>l(e).formData.spuId=t),placeholder:"SPU",size:"small",clearable:""},{default:u(()=>[(n(!0),m(p,null,f(l(e).spuList,t=>(n(),D(d,{label:t.spuName,value:t.spuId,key:t.itemId},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),o(s,{label:"\u7F16\u53F7",prop:"skuNo"},{default:u(()=>[o(I,{modelValue:l(e).formData.skuNo,"onUpdate:modelValue":a[1]||(a[1]=t=>l(e).formData.skuNo=t)},null,8,["modelValue"])]),_:1}),o(s,{label:"Sku\u540D\u79F0",prop:"skuName"},{default:u(()=>[o(I,{modelValue:l(e).formData.skuName,"onUpdate:modelValue":a[2]||(a[2]=t=>l(e).formData.skuName=t)},null,8,["modelValue"])]),_:1}),o(s,{label:"Sku\u63CF\u8FF0",prop:"description"},{default:u(()=>[o(I,{modelValue:l(e).formData.description,"onUpdate:modelValue":a[3]||(a[3]=t=>l(e).formData.description=t)},null,8,["modelValue"])]),_:1}),o(s,{label:"\u8BA1\u91CF\u5355\u4F4D",prop:"unit"},{default:u(()=>[o(c,{modelValue:l(e).formData.unit,"onUpdate:modelValue":a[4]||(a[4]=t=>l(e).formData.unit=t),placeholder:"\u8BA1\u91CF\u5355\u4F4D",size:"small"},{default:u(()=>[(n(!0),m(p,null,f(l(e).unitList,t=>(n(),D(d,{label:t.itemName,value:t.itemId,key:t.itemId,clearable:""},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),o(s,{label:"\u5E93\u4F4D\u7F16\u53F7",prop:"locationId"},{default:u(()=>[o(c,{modelValue:l(e).formData.locationId,"onUpdate:modelValue":a[5]||(a[5]=t=>l(e).formData.locationId=t),placeholder:"\u9009\u62E9\u5E93\u4F4D",filterable:"",clearable:""},{default:u(()=>[(n(!0),m(p,null,f(l(e).locationList,t=>(n(),D(d,{label:t.locationNo,value:t.id},null,8,["label","value"]))),256))]),_:1},8,["modelValue"])]),_:1}),o(s,{label:"\u72B6\u6001",prop:"status"},{default:u(()=>[o(V,{modelValue:l(e).formData.status,"onUpdate:modelValue":a[6]||(a[6]=t=>l(e).formData.status=t)},{default:u(()=>[(n(!0),m(p,null,f(l(e).statusList,t=>(n(),D(v,{label:t.itemId},{default:u(()=>[b(y(t.itemName),1)]),_:2},1032,["label"]))),256))]),_:1},8,["modelValue"])]),_:1}),o(s,{label:"\u662F\u5426\u9700\u8981\u7533\u8BF7",prop:"requiredApply"},{default:u(()=>[o(V,{modelValue:l(e).formData.requiredApply,"onUpdate:modelValue":a[7]||(a[7]=t=>l(e).formData.requiredApply=t)},{default:u(()=>[(n(!0),m(p,null,f(l(e).sysYesNoList,t=>(n(),D(v,{label:t.itemId},{default:u(()=>[b(y(t.itemName),1)]),_:2},1032,["label"]))),256))]),_:1},8,["modelValue"])]),_:1}),o(s,{label:"\u662F\u5426\u5F3A\u5236\u5F52\u8FD8",prop:"requiredReturn"},{default:u(()=>[o(V,{modelValue:l(e).formData.requiredReturn,"onUpdate:modelValue":a[8]||(a[8]=t=>l(e).formData.requiredReturn=t)},{default:u(()=>[(n(!0),m(p,null,f(l(e).sysYesNoList,t=>(n(),D(v,{label:t.itemId},{default:u(()=>[b(y(t.itemName),1)]),_:2},1032,["label"]))),256))]),_:1},8,["modelValue"])]),_:1}),o(s,{label:"\u6700\u5C0F\u5E93\u5B58",prop:"minInventory"},{default:u(()=>[o(g,{min:1,modelValue:l(e).formData.minInventory,"onUpdate:modelValue":a[9]||(a[9]=t=>l(e).formData.minInventory=t)},null,8,["modelValue"])]),_:1}),o(s,{label:"\u6700\u5927\u5E93\u5B58",prop:"maxInventory"},{default:u(()=>[o(g,{min:l(e).formData.minInventory,modelValue:l(e).formData.maxInventory,"onUpdate:modelValue":a[10]||(a[10]=t=>l(e).formData.maxInventory=t)},null,8,["min","modelValue"])]),_:1}),o(s,{label:"\u5355\u4EF7",prop:"unitPrice"},{default:u(()=>[o(g,{min:0,modelValue:l(e).formData.unitPrice,"onUpdate:modelValue":a[11]||(a[11]=t=>l(e).formData.unitPrice=t)},null,8,["modelValue"])]),_:1}),o(s,{label:"\u4F7F\u7528\u8BBE\u5907",prop:"useDevice"},{default:u(()=>[o(I,{min:l(e).formData.useDevice,modelValue:l(e).formData.useDevice,"onUpdate:modelValue":a[12]||(a[12]=t=>l(e).formData.useDevice=t)},null,8,["min","modelValue"])]),_:1}),o(s,{label:"\u4F9B\u5E94\u5546",prop:"maxInventory"},{default:u(()=>[o(c,{modelValue:l(e).formData.vendor,"onUpdate:modelValue":a[13]||(a[13]=t=>l(e).formData.vendor=t),filterable:"",placeholder:"\u4F9B\u5E94\u5546\u5217\u8868",clearable:""},{default:u(()=>[(n(!0),m(p,null,f(l(e).supplierList,t=>(n(),D(d,{label:t.supplierName,value:t.id},null,8,["label","value"]))),256))]),_:1},8,["modelValue"])]),_:1}),o(s,{label:"\u5907\u6CE8",prop:"memo"},{default:u(()=>[o(I,{modelValue:l(e).formData.memo,"onUpdate:modelValue":a[14]||(a[14]=t=>l(e).formData.memo=t)},null,8,["modelValue"])]),_:1}),o(s,null,{default:u(()=>[B("div",T,[o(q,{class:"subButton",type:"primary",onClick:a[15]||(a[15]=t=>L())},{default:u(()=>[W]),_:1})])]),_:1})]),_:1},8,["model","rules"])])}}};var Q=$(Z,[["__scopeId","data-v-d4b26e9c"]]);export{Q as default};
