var Bn=Object.defineProperty;var un=Object.getOwnPropertySymbols;var Pn=Object.prototype.hasOwnProperty,Hn=Object.prototype.propertyIsEnumerable;var cn=(t,e,o)=>e in t?Bn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,P=(t,e)=>{for(var o in e||(e={}))Pn.call(e,o)&&cn(t,o,e[o]);if(un)for(var o of un(e))Hn.call(e,o)&&cn(t,o,e[o]);return t};import{_ as j,u as J,L as pe,S as je,r as Nn,a as zn,i as Nt}from"./index.10c62aa1.js";import{H as V,B as _,j as k,k as C,q as H,D as ue,y as It,z as Ft,g as Je,A as b,W as Oe,X as se,O,x as A,l as B,s as x,p as ve,K as Me,h as ce,M as Ve,o as Re,Y as et,t as de,Z as vn,L as ut,w as Vt,v as Ot,J as G,$ as ct,a0 as qn,m as qe,I as Mt,r as Ie,F as wn,n as Qe,E as Kt,a1 as Wn,i as dt,T as Xn,a2 as Yn}from"./vendor.8327e786.js";import jn from"./parent.8f3c3eea.js";const Gn={name:"layoutLogo",setup(){const{proxy:t}=ue(),e=J(),o=V(()=>e.state.themeConfig.themeConfig);return{setShowLogo:V(()=>{let{isCollapse:l,layout:a}=e.state.themeConfig.themeConfig;return!l||a==="classic"||document.body.clientWidth<1e3}),getThemeConfig:o,onThemeConfigChange:()=>{if(e.state.themeConfig.themeConfig.layout==="transverse")return!1;t.mittBus.emit("onMenuClick"),e.state.themeConfig.themeConfig.isCollapse=!e.state.themeConfig.themeConfig.isCollapse}}}},Un=t=>(It("data-v-3427d01c"),t=t(),Ft(),t),Qn=Un(()=>C("img",{src:"https://gitee.com/lyt-top/vue-next-admin-images/raw/master/logo/logo-mini.svg",class:"layout-logo-size-img"},null,-1)),Kn=[Qn];function Zn(t,e,o,n,s,l){return n.setShowLogo?(_(),k("div",{key:0,class:"layout-logo",onClick:e[0]||(e[0]=(...a)=>n.onThemeConfigChange&&n.onThemeConfigChange(...a))},[C("span",null,H(n.getThemeConfig.globalTitle),1)])):(_(),k("div",{key:1,class:"layout-logo-size",onClick:e[1]||(e[1]=(...a)=>n.onThemeConfigChange&&n.onThemeConfigChange(...a))},Kn))}var Cn=j(Gn,[["render",Zn],["__scopeId","data-v-3427d01c"]]);const Jn=Je({name:"navMenuSubItem",props:{chil:{type:Array,default:()=>[]}},setup(t){const{proxy:e}=ue();return{chils:V(()=>t.chil),proxy:e}}}),eo=["href"];function to(t,e,o,n,s,l){const a=b("sub-item",!0),r=b("el-sub-menu"),i=b("el-menu-item");return _(!0),k(se,null,Oe(t.chils,u=>(_(),k(se,null,[u.children&&u.children.length>0?(_(),O(r,{index:u.path,key:u.path},{title:A(()=>[C("i",{class:B(u.meta.icon)},null,2),C("span",null,H(u.meta.i18nTitle?t.proxy.$i(u.meta.i18nTitle):t.$t(u.meta.title)),1)]),default:A(()=>[x(a,{chil:u.children},null,8,["chil"])]),_:2},1032,["index"])):(_(),O(i,{index:u.path,key:u.path},{default:A(()=>[!u.meta.isLink||u.meta.isLink&&u.meta.isIframe?(_(),k(se,{key:0},[C("i",{class:B(u.meta.icon?u.meta.icon:"")},null,2),C("span",null,H(u.meta.i18nTitle?t.proxy.$i(u.meta.i18nTitle):t.$t(u.meta.title)),1)],64)):(_(),k("a",{key:1,href:u.meta.isLink,target:"_blank",rel:"opener"},[C("i",{class:B(u.meta.icon?u.meta.icon:"")},null,2),ve(" "+H(u.meta.i18nTitle?t.proxy.$i(u.meta.i18nTitle):t.$t(u.meta.title)),1)],8,eo))]),_:2},1032,["index"]))],64))),256)}var Sn=j(Jn,[["render",to]]);const no=Je({name:"navMenuVertical",components:{SubItem:Sn},props:{menuList:{type:Array,default:()=>[]}},setup(t){const{proxy:e}=ue(),o=J(),n=Me(),s=ce({defaultActive:n.meta.isDynamic?n.meta.isDynamicPath:n.path,isCollapse:!1}),l=V(()=>t.menuList),a=V(()=>o.state.themeConfig.themeConfig),r=i=>{const{path:u,meta:c}=i,d=c.isDynamic?c.isDynamicPath.split("/"):u.split("/");return d.length>=4&&c.isHide?d.splice(0,3).join("/"):u};return Ve(o.state.themeConfig.themeConfig,()=>{document.body.clientWidth<=1e3?s.isCollapse=!1:s.isCollapse=a.value.isCollapse},{immediate:!0}),Re(()=>{s.defaultActive=r(n)}),et(i=>{s.defaultActive=r(i),e.mittBus.emit("onMenuClick"),document.body.clientWidth<1e3&&(a.value.isCollapse=!1)}),P({proxy:e,menuLists:l,getThemeConfig:a},de(s))}});function oo(t,e,o,n,s,l){const a=b("SubItem"),r=b("el-sub-menu"),i=b("el-menu-item"),u=b("el-menu");return _(),O(u,{router:"","default-active":t.defaultActive,"background-color":"transparent",collapse:t.isCollapse,"unique-opened":t.getThemeConfig.isUniqueOpened,"collapse-transition":!1},{default:A(()=>[(_(!0),k(se,null,Oe(t.menuLists,c=>(_(),k(se,null,[c.children&&c.children.length>0?(_(),O(r,{index:c.path,key:c.path},{title:A(()=>[C("i",{class:B(c.meta.icon?c.meta.icon:"")},null,2),C("span",null,H(c.meta.i18nTitle?t.proxy.$i(c.meta.i18nTitle):t.$t(c.meta.title)),1)]),default:A(()=>[x(a,{chil:c.children},null,8,["chil"])]),_:2},1032,["index"])):(_(),O(i,{index:c.path,key:c.path},vn({default:A(()=>[C("i",{class:B(c.meta.icon?c.meta.icon:"")},null,2)]),_:2},[!c.meta.isLink||c.meta.isLink&&c.meta.isIframe?{name:"title",fn:A(()=>[C("span",null,H(c.meta.i18nTitle?t.proxy.$i(c.meta.i18nTitle):t.$t(c.meta.title)),1)])}:{name:"title",fn:A(()=>[C("a",{href:c.meta.isLink,target:"_blank",rel:"opener"},H(c.meta.i18nTitle?t.proxy.$i(c.meta.i18nTitle):t.$t(c.meta.title)),9,["href"])])}]),1032,["index"]))],64))),256))]),_:1},8,["default-active","collapse","unique-opened"])}var io=j(no,[["render",oo]]);const so={name:"layoutAside",components:{Logo:Cn,Vertical:io},setup(){const{proxy:t}=ue(),e=J(),o=ce({menuList:[],clientWidth:""}),n=V(()=>e.state.themeConfig.themeConfig),s=V(()=>e.state.tagsViewRoutes.isTagsViewCurrenFull),l=V(()=>{const{layout:f,isCollapse:p,menuBar:y}=e.state.themeConfig.themeConfig,w=y==="#FFFFFF"||y==="#FFF"||y==="#fff"||y==="#ffffff"?"layout-el-aside-br-color":"";if(o.clientWidth<=1e3)if(p){document.body.setAttribute("class","el-popup-parent--hidden");const q=document.querySelector(".layout-container"),W=document.createElement("div");return W.setAttribute("class","layout-aside-mobile-mode"),q.appendChild(W),W.addEventListener("click",a),[w,"layout-aside-mobile","layout-aside-mobile-open"]}else return a(),[w,"layout-aside-mobile","layout-aside-mobile-close"];else return f==="columns"?p?[w,"layout-aside-pc-1"]:[w,"layout-aside-pc-220"]:p?[w,"layout-aside-pc-64"]:[w,"layout-aside-pc-220"]}),a=()=>{var y;const f=document.querySelector(".layout-aside-mobile-mode");f&&((y=f.parentNode)==null||y.removeChild(f)),document.body.clientWidth<1e3&&(e.state.themeConfig.themeConfig.isCollapse=!1),document.body.setAttribute("class","")},r=V(()=>{let{layout:f,isShowLogo:p}=e.state.themeConfig.themeConfig;return p&&f==="defaults"||p&&f==="columns"}),i=()=>{if(e.state.themeConfig.themeConfig.layout==="columns")return!1;o.menuList=u(e.state.routesList.routesList)},u=f=>f.filter(p=>!p.meta.isHide).map(p=>(p=Object.assign({},p),p.children&&(p.children=u(p.children)),p)),c=f=>{o.clientWidth=f},d=f=>{let{layout:p}=e.state.themeConfig.themeConfig;if(p!=="columns")return!1;f||t.mittBus.emit("restoreDefault"),e.dispatch("routesList/setColumnsMenuHover",f)};return Ve(e.state.themeConfig.themeConfig,f=>{if(f.isShowLogoChange!==f.isShowLogo){if(!t.$refs.layoutAsideScrollbarRef)return!1;t.$refs.layoutAsideScrollbarRef.update()}}),Ve(e.state,f=>{let{layout:p,isClassicSplitMenu:y}=f.themeConfig.themeConfig;if(p==="classic"&&y)return!1;i()}),ut(()=>{c(document.body.clientWidth),i(),t.mittBus.on("setSendColumnsChildren",f=>{o.menuList=f.children}),t.mittBus.on("setSendClassicChildren",f=>{let{layout:p,isClassicSplitMenu:y}=e.state.themeConfig.themeConfig;p==="classic"&&y&&(o.menuList=[],o.menuList=f.children)}),t.mittBus.on("getBreadcrumbIndexSetFilterRoutes",()=>{i()}),t.mittBus.on("layoutMobileResize",f=>{c(f.clientWidth),a()})}),P({setCollapseStyle:l,setShowLogo:r,getThemeConfig:n,isTagsViewCurrenFull:s,onAsideEnterLeave:d},de(o))}},ao={class:"h100"};function ro(t,e,o,n,s,l){const a=b("Logo"),r=b("Vertical"),i=b("el-scrollbar"),u=b("el-aside");return Vt((_(),k("div",ao,[x(u,{class:B(["layout-aside",n.setCollapseStyle])},{default:A(()=>[n.setShowLogo?(_(),O(a,{key:0})):G("",!0),x(i,{class:"flex-auto",ref:"layoutAsideScrollbarRef",onMouseenter:e[0]||(e[0]=c=>n.onAsideEnterLeave(!0)),onMouseleave:e[1]||(e[1]=c=>n.onAsideEnterLeave(!1))},{default:A(()=>[x(r,{menuList:t.menuList},null,8,["menuList"])]),_:1},512)]),_:1},8,["class"])],512)),[[Ot,!n.isTagsViewCurrenFull]])}var nn=j(so,[["render",ro]]);const lo={name:"layoutBreadcrumb",setup(){const{proxy:t}=ue(),e=J(),o=Me(),n=ct(),s=ce({breadcrumbList:[],routeSplit:[],routeSplitFirst:"",routeSplitIndex:1}),l=V(()=>e.state.themeConfig.themeConfig),a=V(()=>{c(o.path);const{layout:d,isBreadcrumb:f}=e.state.themeConfig.themeConfig;return d==="classic"||d==="transverse"?"none":f?"":"none"}),r=d=>{const{redirect:f,path:p}=d;f?n.push(f):n.push(p)},i=()=>{t.mittBus.emit("onMenuClick"),e.state.themeConfig.themeConfig.isCollapse=!e.state.themeConfig.themeConfig.isCollapse},u=d=>{d.map(f=>{s.routeSplit.map((p,y,w)=>{s.routeSplitFirst===f.path&&(s.routeSplitFirst+=`/${w[s.routeSplitIndex]}`,s.breadcrumbList.push(f),s.routeSplitIndex++,f.children&&u(f.children))})})},c=d=>{if(!e.state.themeConfig.themeConfig.isBreadcrumb)return!1;s.breadcrumbList=[e.state.routesList.routesList[0]],s.routeSplit=d.split("/"),s.routeSplit.shift(),s.routeSplitFirst=`/${s.routeSplit[0]}`,s.routeSplitIndex=1,u(e.state.routesList.routesList)};return Re(()=>{c(o.path)}),et(d=>{c(d.path)}),P({onThemeConfigChange:i,isShowBreadcrumb:a,getThemeConfig:l,onBreadcrumbClick:r},de(s))}},uo={key:0,class:"layout-navbars-breadcrumb-span"},co=["onClick"];function fo(t,e,o,n,s,l){const a=b("el-breadcrumb-item"),r=b("el-breadcrumb");return _(),k("div",{class:"layout-navbars-breadcrumb",style:Mt({display:n.isShowBreadcrumb})},[C("i",{class:B(["layout-navbars-breadcrumb-icon",n.getThemeConfig.isCollapse?"el-icon-s-unfold":"el-icon-s-fold"]),onClick:e[0]||(e[0]=(...i)=>n.onThemeConfigChange&&n.onThemeConfigChange(...i))},null,2),x(r,{class:"layout-navbars-breadcrumb-hide"},{default:A(()=>[x(qn,{name:"breadcrumb",mode:"out-in"},{default:A(()=>[(_(!0),k(se,null,Oe(t.breadcrumbList,(i,u)=>(_(),O(a,{key:i.meta.title},{default:A(()=>[u===t.breadcrumbList.length-1?(_(),k("span",uo,[n.getThemeConfig.isBreadcrumbIcon?(_(),k("i",{key:0,class:B([i.meta.icon,"layout-navbars-breadcrumb-iconfont"])},null,2)):G("",!0),ve(H(t.$t(i.meta.title)),1)])):(_(),k("a",{key:1,onClick:qe(c=>n.onBreadcrumbClick(i),["prevent"])},[n.getThemeConfig.isBreadcrumbIcon?(_(),k("i",{key:0,class:B([i.meta.icon,"layout-navbars-breadcrumb-iconfont"])},null,2)):G("",!0),ve(H(t.$t(i.meta.title)),1)],8,co))]),_:2},1024))),128))]),_:1})]),_:1})],4)}var mo=j(lo,[["render",fo],["__scopeId","data-v-bf50da32"]]),Tn={exports:{}};/*!
* screenfull
* v5.2.0 - 2021-11-03
* (c) Sindre Sorhus; MIT License
*/(function(t){(function(){var e=typeof window!="undefined"&&typeof window.document!="undefined"?window.document:{},o=t.exports,n=function(){for(var a,r=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],i=0,u=r.length,c={};i<u;i++)if(a=r[i],a&&a[1]in e){for(i=0;i<a.length;i++)c[r[0][i]]=a[i];return c}return!1}(),s={change:n.fullscreenchange,error:n.fullscreenerror},l={request:function(a,r){return new Promise(function(i,u){var c=function(){this.off("change",c),i()}.bind(this);this.on("change",c),a=a||e.documentElement;var d=a[n.requestFullscreen](r);d instanceof Promise&&d.then(c).catch(u)}.bind(this))},exit:function(){return new Promise(function(a,r){if(!this.isFullscreen){a();return}var i=function(){this.off("change",i),a()}.bind(this);this.on("change",i);var u=e[n.exitFullscreen]();u instanceof Promise&&u.then(i).catch(r)}.bind(this))},toggle:function(a,r){return this.isFullscreen?this.exit():this.request(a,r)},onchange:function(a){this.on("change",a)},onerror:function(a){this.on("error",a)},on:function(a,r){var i=s[a];i&&e.addEventListener(i,r,!1)},off:function(a,r){var i=s[a];i&&e.removeEventListener(i,r,!1)},raw:n};if(!n){o?t.exports={isEnabled:!1}:window.screenfull={isEnabled:!1};return}Object.defineProperties(l,{isFullscreen:{get:function(){return Boolean(e[n.fullscreenElement])}},element:{enumerable:!0,get:function(){return e[n.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(e[n.fullscreenEnabled])}}}),o?t.exports=l:window.screenfull=l})()})(Tn);var _t=Tn.exports;const ho={name:"layoutBreadcrumbUserNews",setup(){const t=ce({newsList:[{label:"\u5173\u4E8E\u7248\u672C\u53D1\u5E03\u7684\u901A\u77E5",value:"vue-next-admin\uFF0C\u57FA\u4E8E vue3 + CompositionAPI + typescript + vite + element plus\uFF0C\u6B63\u5F0F\u53D1\u5E03\u65F6\u95F4\uFF1A2021\u5E7402\u670828\u65E5\uFF01",time:"2020-12-08"},{label:"\u5173\u4E8E\u5B66\u4E60\u4EA4\u6D41\u7684\u901A\u77E5",value:"QQ\u7FA4\u53F7\u7801 665452019\uFF0C\u6B22\u8FCE\u5C0F\u4F19\u4F34\u5165\u7FA4\u5B66\u4E60\u4EA4\u6D41\u63A2\u8BA8\uFF01",time:"2020-12-08"}]});return P({onAllReadClick:()=>{t.newsList=[]},onGoToGiteeClick:()=>{window.open("https://gitee.com/lyt-top/vue-next-admin")}},de(t))}},po={class:"layout-navbars-breadcrumb-user-news"},go={class:"head-box"},_o={class:"head-box-title"},yo={class:"content-box"},bo={class:"content-box-msg"},vo={class:"content-box-time"};function wo(t,e,o,n,s,l){const a=b("el-empty");return _(),k("div",po,[C("div",go,[C("div",_o,H(t.$t("message.user.newTitle")),1),t.newsList.length>0?(_(),k("div",{key:0,class:"head-box-btn",onClick:e[0]||(e[0]=(...r)=>n.onAllReadClick&&n.onAllReadClick(...r))},H(t.$t("message.user.newBtn")),1)):G("",!0)]),C("div",yo,[t.newsList.length>0?(_(!0),k(se,{key:0},Oe(t.newsList,(r,i)=>(_(),k("div",{class:"content-box-item",key:i},[C("div",null,H(r.label),1),C("div",bo,H(r.value),1),C("div",vo,H(r.time),1)]))),128)):(_(),O(a,{key:1,description:t.$t("message.user.newDesc")},null,8,["description"]))]),t.newsList.length>0?(_(),k("div",{key:0,class:"foot-box",onClick:e[1]||(e[1]=(...r)=>n.onGoToGiteeClick&&n.onGoToGiteeClick(...r))},H(t.$t("message.user.newGo")),1)):G("",!0)])}var Co=j(ho,[["render",wo],["__scopeId","data-v-2a18bc52"]]);const So=Je({name:"layoutBreadcrumbSearch",setup(){const t=Ie(),{t:e}=wn(),o=J(),n=ct(),s=ce({isShowSearch:!1,menuQuery:"",tagsViewList:[]}),l=()=>{s.menuQuery="",s.isShowSearch=!0,u(),Qe(()=>{t.value.focus()})},a=()=>{s.isShowSearch=!1},r=(f,p)=>{let y=f?s.tagsViewList.filter(i(f)):s.tagsViewList;p(y)},i=f=>p=>p.path.toLowerCase().indexOf(f.toLowerCase())>-1||p.meta.title.toLowerCase().indexOf(f.toLowerCase())>-1||e(p.meta.title).indexOf(f.toLowerCase())>-1,u=()=>{if(s.tagsViewList.length>0)return!1;o.state.tagsViewRoutes.tagsViewRoutes.map(f=>{f.meta.isHide||s.tagsViewList.push(P({},f))})};return P({layoutMenuAutocompleteRef:t,openSearch:l,closeSearch:a,menuSearch:r,onHandleSelect:f=>{let{path:p,redirect:y}=f;f.meta.isLink&&!f.meta.isIframe?window.open(f.meta.isLink):y?n.push(y):n.push(p),a()},onSearchBlur:()=>{a()}},de(s))}}),To={class:"layout-search-dialog"};function Eo(t,e,o,n,s,l){const a=b("el-autocomplete"),r=b("el-dialog");return _(),k("div",To,[x(r,{modelValue:t.isShowSearch,"onUpdate:modelValue":e[1]||(e[1]=i=>t.isShowSearch=i),width:"300px","destroy-on-close":"",modal:!1,fullscreen:"","show-close":!1},{default:A(()=>[x(a,{modelValue:t.menuQuery,"onUpdate:modelValue":e[0]||(e[0]=i=>t.menuQuery=i),"fetch-suggestions":t.menuSearch,placeholder:t.$t("message.user.searchPlaceholder"),"prefix-icon":"el-icon-search",ref:"layoutMenuAutocompleteRef",onSelect:t.onHandleSelect,onBlur:t.onSearchBlur},{default:A(({item:i})=>[C("div",null,[C("i",{class:B([i.meta.icon,"mr10"])},null,2),ve(H(t.$t(i.meta.title)),1)])]),_:1},8,["modelValue","fetch-suggestions","placeholder","onSelect","onBlur"])]),_:1},8,["modelValue"])])}var Lo=j(So,[["render",Eo],["__scopeId","data-v-5ad024c2"]]);const Do={name:"layoutBreadcrumbUser",components:{UserNews:Co,Search:Lo},setup(){const{t}=wn(),{proxy:e}=ue(),o=ct(),n=J(),s=zn(),l=Ie(),a=ce({isScreenfull:!1,isShowUserNewsPopover:!1,disabledI18n:"zh-cn",disabledSize:""}),r=V(()=>n.state.userInfos.userInfos),i=V(()=>n.state.themeConfig.themeConfig),u=V(()=>{let{layout:E,isClassicSplitMenu:M}=i.value,R="";return E==="defaults"||E==="classic"&&!M||E==="columns"?R=1:R=null,R}),c=()=>{if(!_t.isEnabled)return Kt.warning("\u6682\u4E0D\u4E0D\u652F\u6301\u5168\u5C4F"),!1;_t.toggle(),_t.on("change",()=>{_t.isFullscreen?a.isScreenfull=!0:a.isScreenfull=!1})},d=()=>{e.mittBus.emit("openSetingsDrawer")},f=E=>{E==="logOut"?Wn({closeOnClickModal:!1,closeOnPressEscape:!1,title:t("message.user.logOutTitle"),message:t("message.user.logOutMessage"),showCancelButton:!0,confirmButtonText:t("message.user.logOutConfirm"),cancelButtonText:t("message.user.logOutCancel"),beforeClose:(M,R,K)=>{M==="confirm"?(R.confirmButtonLoading=!0,R.confirmButtonText=t("message.user.logOutExit"),setTimeout(()=>{K(),setTimeout(()=>{R.confirmButtonLoading=!1},300)},700)):K()}}).then(()=>{je.clear(),pe.clear(),Nn(),o.push("/login"),setTimeout(()=>{Kt.success(t("message.user.logOutSuccess"))},300)}).catch(()=>{}):o.push(E)},p=()=>{l.value.openSearch()},y=E=>{pe.remove("themeConfig"),i.value.globalComponentSize=E,pe.set("themeConfig",i.value),e.$ELEMENT.size=E,T(),window.location.reload()},w=E=>{pe.remove("themeConfig"),i.value.globalI18n=E,pe.set("themeConfig",i.value),e.$i18n.locale=E,W(),s()},q=E=>{e.mittBus.emit("getI18nConfig",e.$i18n.messages[E])},W=()=>{switch(pe.get("themeConfig").globalI18n){case"zh-cn":a.disabledI18n="zh-cn",q("zh-cn");break;case"en":a.disabledI18n="en",q("en");break}},T=()=>{switch(pe.get("themeConfig").globalComponentSize){case"":a.disabledSize="";break;case"medium":a.disabledSize="medium";break;case"small":a.disabledSize="small";break;case"mini":a.disabledSize="mini";break}};return Re(()=>{pe.get("themeConfig")&&(W(),T())}),P({getUserInfos:r,onLayoutSetingClick:d,onHandleCommandClick:f,onScreenfullClick:c,onSearchClick:p,onComponentSizeChange:y,onLanguageChange:w,searchRef:l,layoutUserFlexNum:u},de(a))}},xo=t=>(It("data-v-37cb9fef"),t=t(),Ft(),t),ko=["title"],Ao=["title"],$o=["title"],Io={class:"layout-navbars-breadcrumb-user-link"},Fo=xo(()=>C("i",{class:"el-icon-arrow-down el-icon--right"},null,-1));function Vo(t,e,o,n,s,l){const a=b("el-dropdown-item"),r=b("el-dropdown-menu"),i=b("el-dropdown"),u=b("Search");return _(),k("div",{class:"layout-navbars-breadcrumb-user",style:Mt({flex:n.layoutUserFlexNum})},[C("div",{class:"layout-navbars-breadcrumb-user-icon",onClick:e[0]||(e[0]=(...c)=>n.onSearchClick&&n.onSearchClick(...c))},[C("i",{class:"el-icon-search",title:t.$t("message.user.title2")},null,8,ko)]),C("div",{class:"layout-navbars-breadcrumb-user-icon",onClick:e[1]||(e[1]=(...c)=>n.onLayoutSetingClick&&n.onLayoutSetingClick(...c))},[C("i",{class:"icon-skin iconfont",title:t.$t("message.user.title3")},null,8,Ao)]),C("div",{class:"layout-navbars-breadcrumb-user-icon mr10",onClick:e[2]||(e[2]=(...c)=>n.onScreenfullClick&&n.onScreenfullClick(...c))},[C("i",{class:B(["iconfont",t.isScreenfull?"icon-tuichuquanping":"icon-fullscreen"]),title:t.isScreenfull?t.$t("message.user.title6"):t.$t("message.user.title5")},null,10,$o)]),x(i,{"show-timeout":70,"hide-timeout":50,onCommand:n.onHandleCommandClick},{dropdown:A(()=>[x(r,null,{default:A(()=>[x(a,{command:"/home"},{default:A(()=>[ve(H(t.$t("message.user.dropdown1")),1)]),_:1}),x(a,{divided:"",command:"/user/modifyPwd"},{default:A(()=>[ve(H(t.$t("message.user.dropdown7")),1)]),_:1}),x(a,{divided:"",command:"logOut"},{default:A(()=>[ve(H(t.$t("message.user.dropdown5")),1)]),_:1})]),_:1})]),default:A(()=>[C("span",Io,[ve(H(n.getUserInfos.userName===""?"test":n.getUserInfos.userName)+" ",1),Fo])]),_:1},8,["onCommand"]),x(u,{ref:"searchRef"},null,512)],4)}var Oo=j(Do,[["render",Vo],["__scopeId","data-v-37cb9fef"]]);const Mo=Je({name:"navMenuHorizontal",components:{SubItem:Sn},props:{menuList:{type:Array,default:()=>[]}},setup(t){const{proxy:e}=ue(),o=Me(),n=J(),s=ce({defaultActive:null}),l=V(()=>t.menuList),a=d=>{const f=d.wheelDelta||-d.deltaY*40;e.$refs.elMenuHorizontalScrollRef.$refs.wrap.scrollLeft=e.$refs.elMenuHorizontalScrollRef.$refs.wrap.scrollLeft+f/4},r=()=>{Qe(()=>{let d=document.querySelector(".el-menu.el-menu--horizontal li.is-active");if(!d)return!1;e.$refs.elMenuHorizontalScrollRef.$refs.wrap.scrollLeft=d.offsetLeft})},i=d=>d.filter(f=>!f.meta.isHide).map(f=>(f=Object.assign({},f),f.children&&(f.children=i(f.children)),f)),u=d=>{const f=d.split("/");let p={};return i(n.state.routesList.routesList).map((y,w)=>{y.path===`/${f[1]}`&&(y.k=w,p.item=[P({},y)],p.children=[P({},y)],y.children&&(p.children=y.children))}),p},c=d=>{const{path:f,meta:p}=d;if(n.state.themeConfig.themeConfig.layout==="classic")s.defaultActive=`/${f.split("/")[1]}`;else{const y=p.isDynamic?p.isDynamicPath.split("/"):f.split("/");y.length>=4&&p.isHide?s.defaultActive=y.splice(0,3).join("/"):s.defaultActive=f}};return ut(()=>{c(o)}),Re(()=>{r()}),et(d=>{c(d),e.mittBus.emit("onMenuClick");let{layout:f,isClassicSplitMenu:p}=n.state.themeConfig.themeConfig;f==="classic"&&p&&e.mittBus.emit("setSendClassicChildren",u(d.path))}),P({proxy:e,menuLists:l,onElMenuHorizontalScroll:a},de(s))}}),Ro={class:"el-menu-horizontal-warp"};function Bo(t,e,o,n,s,l){const a=b("SubItem"),r=b("el-sub-menu"),i=b("el-menu-item"),u=b("el-menu"),c=b("el-scrollbar");return _(),k("div",Ro,[x(c,{onWheel:qe(t.onElMenuHorizontalScroll,["prevent"]),ref:"elMenuHorizontalScrollRef"},{default:A(()=>[x(u,{router:"","default-active":t.defaultActive,"background-color":"transparent",mode:"horizontal"},{default:A(()=>[(_(!0),k(se,null,Oe(t.menuLists,d=>(_(),k(se,null,[d.children&&d.children.length>0?(_(),O(r,{index:d.path,key:d.path},{title:A(()=>[C("i",{class:B(d.meta.icon?d.meta.icon:"")},null,2),C("span",null,H(d.meta.i18nTitle?t.proxy.$i(d.meta.i18nTitle):t.$t(d.meta.title)),1)]),default:A(()=>[x(a,{chil:d.children},null,8,["chil"])]),_:2},1032,["index"])):(_(),O(i,{index:d.path,key:d.path},vn({_:2},[!d.meta.isLink||d.meta.isLink&&d.meta.isIframe?{name:"title",fn:A(()=>[C("i",{class:B(d.meta.icon?d.meta.icon:"")},null,2),ve(" "+H(d.meta.i18nTitle?t.proxy.$i(d.meta.i18nTitle):t.$t(d.meta.title)),1)])}:{name:"title",fn:A(()=>[C("a",{href:d.meta.isLink,target:"_blank",rel:"opener"},[C("i",{class:B(d.meta.icon?d.meta.icon:"")},null,2),ve(" "+H(d.meta.i18nTitle?t.proxy.$i(d.meta.i18nTitle):t.$t(d.meta.title)),1)],8,["href"])])}]),1032,["index"]))],64))),256))]),_:1},8,["default-active"])]),_:1},8,["onWheel"])])}var Po=j(Mo,[["render",Bo],["__scopeId","data-v-5e6542ed"]]);const Ho={name:"layoutBreadcrumbIndex",components:{Breadcrumb:mo,User:Oo,Logo:Cn,Horizontal:Po},setup(){const{proxy:t}=ue(),e=J(),o=Me(),n=ce({menuList:[]}),s=V(()=>e.state.themeConfig.themeConfig),l=V(()=>{let{isShowLogo:d,layout:f}=e.state.themeConfig.themeConfig;return d&&f==="classic"||d&&f==="transverse"}),a=V(()=>{let{layout:d,isClassicSplitMenu:f}=e.state.themeConfig.themeConfig;return d==="transverse"||f&&d==="classic"}),r=()=>{let{layout:d,isClassicSplitMenu:f}=e.state.themeConfig.themeConfig;if(d==="classic"&&f){n.menuList=i(u(e.state.routesList.routesList));const p=c(o.path);t.mittBus.emit("setSendClassicChildren",p)}else n.menuList=u(e.state.routesList.routesList)},i=d=>(d.map(f=>{f.children&&delete f.children}),d),u=d=>d.filter(f=>!f.meta.isHide).map(f=>(f=Object.assign({},f),f.children&&(f.children=u(f.children)),f)),c=d=>{const f=d.split("/");let p={};return u(e.state.routesList.routesList).map((y,w)=>{y.path===`/${f[1]}`&&(y.k=w,p.item=[P({},y)],p.children=[P({},y)],y.children&&(p.children=y.children))}),p};return Re(()=>{r(),t.mittBus.on("getBreadcrumbIndexSetFilterRoutes",()=>{r()})}),dt(()=>{t.mittBus.off("getBreadcrumbIndexSetFilterRoutes")}),P({getThemeConfig:s,setIsShowLogo:l,isLayoutTransverse:a},de(n))}},No={class:"layout-navbars-breadcrumb-index"};function zo(t,e,o,n,s,l){const a=b("Logo"),r=b("Breadcrumb"),i=b("Horizontal"),u=b("User");return _(),k("div",No,[n.setIsShowLogo?(_(),O(a,{key:0})):G("",!0),x(r),n.isLayoutTransverse?(_(),O(i,{key:1,menuList:t.menuList},null,8,["menuList"])):G("",!0),x(u)])}var qo=j(Ho,[["render",zo],["__scopeId","data-v-4596ab6e"]]);/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function dn(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),o.push.apply(o,n)}return o}function Ce(t){for(var e=1;e<arguments.length;e++){var o=arguments[e]!=null?arguments[e]:{};e%2?dn(Object(o),!0).forEach(function(n){Wo(t,n,o[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):dn(Object(o)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(o,n))})}return t}function Ct(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ct=function(e){return typeof e}:Ct=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ct(t)}function Wo(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function Ee(){return Ee=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t},Ee.apply(this,arguments)}function Xo(t,e){if(t==null)return{};var o={},n=Object.keys(t),s,l;for(l=0;l<n.length;l++)s=n[l],!(e.indexOf(s)>=0)&&(o[s]=t[s]);return o}function Yo(t,e){if(t==null)return{};var o=Xo(t,e),n,s;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(s=0;s<l.length;s++)n=l[s],!(e.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,n)||(o[n]=t[n]))}return o}var jo="1.14.0";function Te(t){if(typeof window!="undefined"&&window.navigator)return!!navigator.userAgent.match(t)}var Le=Te(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),ft=Te(/Edge/i),fn=Te(/firefox/i),it=Te(/safari/i)&&!Te(/chrome/i)&&!Te(/android/i),En=Te(/iP(ad|od|hone)/i),Go=Te(/chrome/i)&&Te(/android/i),Ln={capture:!1,passive:!1};function F(t,e,o){t.addEventListener(e,o,!Le&&Ln)}function I(t,e,o){t.removeEventListener(e,o,!Le&&Ln)}function Dt(t,e){if(!!e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function Uo(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function be(t,e,o,n){if(t){o=o||document;do{if(e!=null&&(e[0]===">"?t.parentNode===o&&Dt(t,e):Dt(t,e))||n&&t===o)return t;if(t===o)break}while(t=Uo(t))}return null}var mn=/\s+/g;function ae(t,e,o){if(t&&e)if(t.classList)t.classList[o?"add":"remove"](e);else{var n=(" "+t.className+" ").replace(mn," ").replace(" "+e+" "," ");t.className=(n+(o?" "+e:"")).replace(mn," ")}}function L(t,e,o){var n=t&&t.style;if(n){if(o===void 0)return document.defaultView&&document.defaultView.getComputedStyle?o=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(o=t.currentStyle),e===void 0?o:o[e];!(e in n)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),n[e]=o+(typeof o=="string"?"":"px")}}function Ke(t,e){var o="";if(typeof t=="string")o=t;else do{var n=L(t,"transform");n&&n!=="none"&&(o=n+" "+o)}while(!e&&(t=t.parentNode));var s=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return s&&new s(o)}function Dn(t,e,o){if(t){var n=t.getElementsByTagName(e),s=0,l=n.length;if(o)for(;s<l;s++)o(n[s],s);return n}return[]}function we(){var t=document.scrollingElement;return t||document.documentElement}function Q(t,e,o,n,s){if(!(!t.getBoundingClientRect&&t!==window)){var l,a,r,i,u,c,d;if(t!==window&&t.parentNode&&t!==we()?(l=t.getBoundingClientRect(),a=l.top,r=l.left,i=l.bottom,u=l.right,c=l.height,d=l.width):(a=0,r=0,i=window.innerHeight,u=window.innerWidth,c=window.innerHeight,d=window.innerWidth),(e||o)&&t!==window&&(s=s||t.parentNode,!Le))do if(s&&s.getBoundingClientRect&&(L(s,"transform")!=="none"||o&&L(s,"position")!=="static")){var f=s.getBoundingClientRect();a-=f.top+parseInt(L(s,"border-top-width")),r-=f.left+parseInt(L(s,"border-left-width")),i=a+l.height,u=r+l.width;break}while(s=s.parentNode);if(n&&t!==window){var p=Ke(s||t),y=p&&p.a,w=p&&p.d;p&&(a/=w,r/=y,d/=y,c/=w,i=a+c,u=r+d)}return{top:a,left:r,bottom:i,right:u,width:d,height:c}}}function hn(t,e,o){for(var n=Fe(t,!0),s=Q(t)[e];n;){var l=Q(n)[o],a=void 0;if(o==="top"||o==="left"?a=s>=l:a=s<=l,!a)return n;if(n===we())break;n=Fe(n,!1)}return!1}function Ze(t,e,o,n){for(var s=0,l=0,a=t.children;l<a.length;){if(a[l].style.display!=="none"&&a[l]!==D.ghost&&(n||a[l]!==D.dragged)&&be(a[l],o.draggable,t,!1)){if(s===e)return a[l];s++}l++}return null}function on(t,e){for(var o=t.lastElementChild;o&&(o===D.ghost||L(o,"display")==="none"||e&&!Dt(o,e));)o=o.previousElementSibling;return o||null}function he(t,e){var o=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==D.clone&&(!e||Dt(t,e))&&o++;return o}function pn(t){var e=0,o=0,n=we();if(t)do{var s=Ke(t),l=s.a,a=s.d;e+=t.scrollLeft*l,o+=t.scrollTop*a}while(t!==n&&(t=t.parentNode));return[e,o]}function Qo(t,e){for(var o in t)if(!!t.hasOwnProperty(o)){for(var n in e)if(e.hasOwnProperty(n)&&e[n]===t[o][n])return Number(o)}return-1}function Fe(t,e){if(!t||!t.getBoundingClientRect)return we();var o=t,n=!1;do if(o.clientWidth<o.scrollWidth||o.clientHeight<o.scrollHeight){var s=L(o);if(o.clientWidth<o.scrollWidth&&(s.overflowX=="auto"||s.overflowX=="scroll")||o.clientHeight<o.scrollHeight&&(s.overflowY=="auto"||s.overflowY=="scroll")){if(!o.getBoundingClientRect||o===document.body)return we();if(n||e)return o;n=!0}}while(o=o.parentNode);return we()}function Ko(t,e){if(t&&e)for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);return t}function zt(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var st;function xn(t,e){return function(){if(!st){var o=arguments,n=this;o.length===1?t.call(n,o[0]):t.apply(n,o),st=setTimeout(function(){st=void 0},e)}}}function Zo(){clearTimeout(st),st=void 0}function kn(t,e,o){t.scrollLeft+=e,t.scrollTop+=o}function An(t){var e=window.Polymer,o=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):o?o(t).clone(!0)[0]:t.cloneNode(!0)}var le="Sortable"+new Date().getTime();function Jo(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var n=[].slice.call(this.el.children);n.forEach(function(s){if(!(L(s,"display")==="none"||s===D.ghost)){t.push({target:s,rect:Q(s)});var l=Ce({},t[t.length-1].rect);if(s.thisAnimationDuration){var a=Ke(s,!0);a&&(l.top-=a.f,l.left-=a.e)}s.fromRect=l}})}},addAnimationState:function(n){t.push(n)},removeAnimationState:function(n){t.splice(Qo(t,{target:n}),1)},animateAll:function(n){var s=this;if(!this.options.animation){clearTimeout(e),typeof n=="function"&&n();return}var l=!1,a=0;t.forEach(function(r){var i=0,u=r.target,c=u.fromRect,d=Q(u),f=u.prevFromRect,p=u.prevToRect,y=r.rect,w=Ke(u,!0);w&&(d.top-=w.f,d.left-=w.e),u.toRect=d,u.thisAnimationDuration&&zt(f,d)&&!zt(c,d)&&(y.top-d.top)/(y.left-d.left)===(c.top-d.top)/(c.left-d.left)&&(i=ti(y,f,p,s.options)),zt(d,c)||(u.prevFromRect=c,u.prevToRect=d,i||(i=s.options.animation),s.animate(u,y,d,i)),i&&(l=!0,a=Math.max(a,i),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},i),u.thisAnimationDuration=i)}),clearTimeout(e),l?e=setTimeout(function(){typeof n=="function"&&n()},a):typeof n=="function"&&n(),t=[]},animate:function(n,s,l,a){if(a){L(n,"transition",""),L(n,"transform","");var r=Ke(this.el),i=r&&r.a,u=r&&r.d,c=(s.left-l.left)/(i||1),d=(s.top-l.top)/(u||1);n.animatingX=!!c,n.animatingY=!!d,L(n,"transform","translate3d("+c+"px,"+d+"px,0)"),this.forRepaintDummy=ei(n),L(n,"transition","transform "+a+"ms"+(this.options.easing?" "+this.options.easing:"")),L(n,"transform","translate3d(0,0,0)"),typeof n.animated=="number"&&clearTimeout(n.animated),n.animated=setTimeout(function(){L(n,"transition",""),L(n,"transform",""),n.animated=!1,n.animatingX=!1,n.animatingY=!1},a)}}}}function ei(t){return t.offsetWidth}function ti(t,e,o,n){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-o.top,2)+Math.pow(e.left-o.left,2))*n.animation}var Xe=[],qt={initializeByDefault:!0},mt={mount:function(e){for(var o in qt)qt.hasOwnProperty(o)&&!(o in e)&&(e[o]=qt[o]);Xe.forEach(function(n){if(n.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),Xe.push(e)},pluginEvent:function(e,o,n){var s=this;this.eventCanceled=!1,n.cancel=function(){s.eventCanceled=!0};var l=e+"Global";Xe.forEach(function(a){!o[a.pluginName]||(o[a.pluginName][l]&&o[a.pluginName][l](Ce({sortable:o},n)),o.options[a.pluginName]&&o[a.pluginName][e]&&o[a.pluginName][e](Ce({sortable:o},n)))})},initializePlugins:function(e,o,n,s){Xe.forEach(function(r){var i=r.pluginName;if(!(!e.options[i]&&!r.initializeByDefault)){var u=new r(e,o,e.options);u.sortable=e,u.options=e.options,e[i]=u,Ee(n,u.defaults)}});for(var l in e.options)if(!!e.options.hasOwnProperty(l)){var a=this.modifyOption(e,l,e.options[l]);typeof a!="undefined"&&(e.options[l]=a)}},getEventProperties:function(e,o){var n={};return Xe.forEach(function(s){typeof s.eventProperties=="function"&&Ee(n,s.eventProperties.call(o[s.pluginName],e))}),n},modifyOption:function(e,o,n){var s;return Xe.forEach(function(l){!e[l.pluginName]||l.optionListeners&&typeof l.optionListeners[o]=="function"&&(s=l.optionListeners[o].call(e[l.pluginName],n))}),s}};function ni(t){var e=t.sortable,o=t.rootEl,n=t.name,s=t.targetEl,l=t.cloneEl,a=t.toEl,r=t.fromEl,i=t.oldIndex,u=t.newIndex,c=t.oldDraggableIndex,d=t.newDraggableIndex,f=t.originalEvent,p=t.putSortable,y=t.extraEventProperties;if(e=e||o&&o[le],!!e){var w,q=e.options,W="on"+n.charAt(0).toUpperCase()+n.substr(1);window.CustomEvent&&!Le&&!ft?w=new CustomEvent(n,{bubbles:!0,cancelable:!0}):(w=document.createEvent("Event"),w.initEvent(n,!0,!0)),w.to=a||o,w.from=r||o,w.item=s||o,w.clone=l,w.oldIndex=i,w.newIndex=u,w.oldDraggableIndex=c,w.newDraggableIndex=d,w.originalEvent=f,w.pullMode=p?p.lastPutMode:void 0;var T=Ce(Ce({},y),mt.getEventProperties(n,e));for(var E in T)w[E]=T[E];o&&o.dispatchEvent(w),q[W]&&q[W].call(e,w)}}var oi=["evt"],ie=function(e,o){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=n.evt,l=Yo(n,oi);mt.pluginEvent.bind(D)(e,o,Ce({dragEl:g,parentEl:X,ghostEl:$,rootEl:N,nextEl:ze,lastDownEl:St,cloneEl:Y,cloneHidden:$e,dragStarted:tt,putSortable:Z,activeSortable:D.active,originalEvent:s,oldIndex:Ue,oldDraggableIndex:at,newIndex:re,newDraggableIndex:Ae,hideGhostForTarget:Vn,unhideGhostForTarget:On,cloneNowHidden:function(){$e=!0},cloneNowShown:function(){$e=!1},dispatchSortableEvent:function(r){oe({sortable:o,name:r,originalEvent:s})}},l))};function oe(t){ni(Ce({putSortable:Z,cloneEl:Y,targetEl:g,rootEl:N,oldIndex:Ue,oldDraggableIndex:at,newIndex:re,newDraggableIndex:Ae},t))}var g,X,$,N,ze,St,Y,$e,Ue,re,at,Ae,yt,Z,Ge=!1,xt=!1,kt=[],He,_e,Wt,Xt,gn,_n,tt,Ye,rt,lt=!1,bt=!1,Tt,te,Yt=[],Zt=!1,At=[],Rt=typeof document!="undefined",vt=En,yn=ft||Le?"cssFloat":"float",ii=Rt&&!Go&&!En&&"draggable"in document.createElement("div"),$n=function(){if(!!Rt){if(Le)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}}(),In=function(e,o){var n=L(e),s=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),l=Ze(e,0,o),a=Ze(e,1,o),r=l&&L(l),i=a&&L(a),u=r&&parseInt(r.marginLeft)+parseInt(r.marginRight)+Q(l).width,c=i&&parseInt(i.marginLeft)+parseInt(i.marginRight)+Q(a).width;if(n.display==="flex")return n.flexDirection==="column"||n.flexDirection==="column-reverse"?"vertical":"horizontal";if(n.display==="grid")return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(l&&r.float&&r.float!=="none"){var d=r.float==="left"?"left":"right";return a&&(i.clear==="both"||i.clear===d)?"vertical":"horizontal"}return l&&(r.display==="block"||r.display==="flex"||r.display==="table"||r.display==="grid"||u>=s&&n[yn]==="none"||a&&n[yn]==="none"&&u+c>s)?"vertical":"horizontal"},si=function(e,o,n){var s=n?e.left:e.top,l=n?e.right:e.bottom,a=n?e.width:e.height,r=n?o.left:o.top,i=n?o.right:o.bottom,u=n?o.width:o.height;return s===r||l===i||s+a/2===r+u/2},ai=function(e,o){var n;return kt.some(function(s){var l=s[le].options.emptyInsertThreshold;if(!(!l||on(s))){var a=Q(s),r=e>=a.left-l&&e<=a.right+l,i=o>=a.top-l&&o<=a.bottom+l;if(r&&i)return n=s}}),n},Fn=function(e){function o(l,a){return function(r,i,u,c){var d=r.options.group.name&&i.options.group.name&&r.options.group.name===i.options.group.name;if(l==null&&(a||d))return!0;if(l==null||l===!1)return!1;if(a&&l==="clone")return l;if(typeof l=="function")return o(l(r,i,u,c),a)(r,i,u,c);var f=(a?r:i).options.group.name;return l===!0||typeof l=="string"&&l===f||l.join&&l.indexOf(f)>-1}}var n={},s=e.group;(!s||Ct(s)!="object")&&(s={name:s}),n.name=s.name,n.checkPull=o(s.pull,!0),n.checkPut=o(s.put),n.revertClone=s.revertClone,e.group=n},Vn=function(){!$n&&$&&L($,"display","none")},On=function(){!$n&&$&&L($,"display","")};Rt&&document.addEventListener("click",function(t){if(xt)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),xt=!1,!1},!0);var Ne=function(e){if(g){e=e.touches?e.touches[0]:e;var o=ai(e.clientX,e.clientY);if(o){var n={};for(var s in e)e.hasOwnProperty(s)&&(n[s]=e[s]);n.target=n.rootEl=o,n.preventDefault=void 0,n.stopPropagation=void 0,o[le]._onDragOver(n)}}},ri=function(e){g&&g.parentNode[le]._isOutsideThisEl(e.target)};function D(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=Ee({},e),t[le]=this;var o={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return In(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(a,r){a.setData("Text",r.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:D.supportPointer!==!1&&"PointerEvent"in window&&!it,emptyInsertThreshold:5};mt.initializePlugins(this,t,o);for(var n in o)!(n in e)&&(e[n]=o[n]);Fn(e);for(var s in this)s.charAt(0)==="_"&&typeof this[s]=="function"&&(this[s]=this[s].bind(this));this.nativeDraggable=e.forceFallback?!1:ii,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?F(t,"pointerdown",this._onTapStart):(F(t,"mousedown",this._onTapStart),F(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(F(t,"dragover",this),F(t,"dragenter",this)),kt.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),Ee(this,Jo())}D.prototype={constructor:D,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(Ye=null)},_getDirection:function(e,o){return typeof this.options.direction=="function"?this.options.direction.call(this,e,o,g):this.options.direction},_onTapStart:function(e){if(!!e.cancelable){var o=this,n=this.el,s=this.options,l=s.preventOnFilter,a=e.type,r=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,i=(r||e).target,u=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||i,c=s.filter;if(pi(n),!g&&!(/mousedown|pointerdown/.test(a)&&e.button!==0||s.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&it&&i&&i.tagName.toUpperCase()==="SELECT")&&(i=be(i,s.draggable,n,!1),!(i&&i.animated)&&St!==i)){if(Ue=he(i),at=he(i,s.draggable),typeof c=="function"){if(c.call(this,e,i,this)){oe({sortable:o,rootEl:u,name:"filter",targetEl:i,toEl:n,fromEl:n}),ie("filter",o,{evt:e}),l&&e.cancelable&&e.preventDefault();return}}else if(c&&(c=c.split(",").some(function(d){if(d=be(u,d.trim(),n,!1),d)return oe({sortable:o,rootEl:d,name:"filter",targetEl:i,fromEl:n,toEl:n}),ie("filter",o,{evt:e}),!0}),c)){l&&e.cancelable&&e.preventDefault();return}s.handle&&!be(u,s.handle,n,!1)||this._prepareDragStart(e,r,i)}}},_prepareDragStart:function(e,o,n){var s=this,l=s.el,a=s.options,r=l.ownerDocument,i;if(n&&!g&&n.parentNode===l){var u=Q(n);if(N=l,g=n,X=g.parentNode,ze=g.nextSibling,St=n,yt=a.group,D.dragged=g,He={target:g,clientX:(o||e).clientX,clientY:(o||e).clientY},gn=He.clientX-u.left,_n=He.clientY-u.top,this._lastX=(o||e).clientX,this._lastY=(o||e).clientY,g.style["will-change"]="all",i=function(){if(ie("delayEnded",s,{evt:e}),D.eventCanceled){s._onDrop();return}s._disableDelayedDragEvents(),!fn&&s.nativeDraggable&&(g.draggable=!0),s._triggerDragStart(e,o),oe({sortable:s,name:"choose",originalEvent:e}),ae(g,a.chosenClass,!0)},a.ignore.split(",").forEach(function(c){Dn(g,c.trim(),jt)}),F(r,"dragover",Ne),F(r,"mousemove",Ne),F(r,"touchmove",Ne),F(r,"mouseup",s._onDrop),F(r,"touchend",s._onDrop),F(r,"touchcancel",s._onDrop),fn&&this.nativeDraggable&&(this.options.touchStartThreshold=4,g.draggable=!0),ie("delayStart",this,{evt:e}),a.delay&&(!a.delayOnTouchOnly||o)&&(!this.nativeDraggable||!(ft||Le))){if(D.eventCanceled){this._onDrop();return}F(r,"mouseup",s._disableDelayedDrag),F(r,"touchend",s._disableDelayedDrag),F(r,"touchcancel",s._disableDelayedDrag),F(r,"mousemove",s._delayedDragTouchMoveHandler),F(r,"touchmove",s._delayedDragTouchMoveHandler),a.supportPointer&&F(r,"pointermove",s._delayedDragTouchMoveHandler),s._dragStartTimer=setTimeout(i,a.delay)}else i()}},_delayedDragTouchMoveHandler:function(e){var o=e.touches?e.touches[0]:e;Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){g&&jt(g),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;I(e,"mouseup",this._disableDelayedDrag),I(e,"touchend",this._disableDelayedDrag),I(e,"touchcancel",this._disableDelayedDrag),I(e,"mousemove",this._delayedDragTouchMoveHandler),I(e,"touchmove",this._delayedDragTouchMoveHandler),I(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,o){o=o||e.pointerType=="touch"&&e,!this.nativeDraggable||o?this.options.supportPointer?F(document,"pointermove",this._onTouchMove):o?F(document,"touchmove",this._onTouchMove):F(document,"mousemove",this._onTouchMove):(F(g,"dragend",this),F(N,"dragstart",this._onDragStart));try{document.selection?Et(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,o){if(Ge=!1,N&&g){ie("dragStarted",this,{evt:o}),this.nativeDraggable&&F(document,"dragover",ri);var n=this.options;!e&&ae(g,n.dragClass,!1),ae(g,n.ghostClass,!0),D.active=this,e&&this._appendGhost(),oe({sortable:this,name:"start",originalEvent:o})}else this._nulling()},_emulateDragOver:function(){if(_e){this._lastX=_e.clientX,this._lastY=_e.clientY,Vn();for(var e=document.elementFromPoint(_e.clientX,_e.clientY),o=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(_e.clientX,_e.clientY),e!==o);)o=e;if(g.parentNode[le]._isOutsideThisEl(e),o)do{if(o[le]){var n=void 0;if(n=o[le]._onDragOver({clientX:_e.clientX,clientY:_e.clientY,target:e,rootEl:o}),n&&!this.options.dragoverBubble)break}e=o}while(o=o.parentNode);On()}},_onTouchMove:function(e){if(He){var o=this.options,n=o.fallbackTolerance,s=o.fallbackOffset,l=e.touches?e.touches[0]:e,a=$&&Ke($,!0),r=$&&a&&a.a,i=$&&a&&a.d,u=vt&&te&&pn(te),c=(l.clientX-He.clientX+s.x)/(r||1)+(u?u[0]-Yt[0]:0)/(r||1),d=(l.clientY-He.clientY+s.y)/(i||1)+(u?u[1]-Yt[1]:0)/(i||1);if(!D.active&&!Ge){if(n&&Math.max(Math.abs(l.clientX-this._lastX),Math.abs(l.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if($){a?(a.e+=c-(Wt||0),a.f+=d-(Xt||0)):a={a:1,b:0,c:0,d:1,e:c,f:d};var f="matrix(".concat(a.a,",").concat(a.b,",").concat(a.c,",").concat(a.d,",").concat(a.e,",").concat(a.f,")");L($,"webkitTransform",f),L($,"mozTransform",f),L($,"msTransform",f),L($,"transform",f),Wt=c,Xt=d,_e=l}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!$){var e=this.options.fallbackOnBody?document.body:N,o=Q(g,!0,vt,!0,e),n=this.options;if(vt){for(te=e;L(te,"position")==="static"&&L(te,"transform")==="none"&&te!==document;)te=te.parentNode;te!==document.body&&te!==document.documentElement?(te===document&&(te=we()),o.top+=te.scrollTop,o.left+=te.scrollLeft):te=we(),Yt=pn(te)}$=g.cloneNode(!0),ae($,n.ghostClass,!1),ae($,n.fallbackClass,!0),ae($,n.dragClass,!0),L($,"transition",""),L($,"transform",""),L($,"box-sizing","border-box"),L($,"margin",0),L($,"top",o.top),L($,"left",o.left),L($,"width",o.width),L($,"height",o.height),L($,"opacity","0.8"),L($,"position",vt?"absolute":"fixed"),L($,"zIndex","100000"),L($,"pointerEvents","none"),D.ghost=$,e.appendChild($),L($,"transform-origin",gn/parseInt($.style.width)*100+"% "+_n/parseInt($.style.height)*100+"%")}},_onDragStart:function(e,o){var n=this,s=e.dataTransfer,l=n.options;if(ie("dragStart",this,{evt:e}),D.eventCanceled){this._onDrop();return}ie("setupClone",this),D.eventCanceled||(Y=An(g),Y.draggable=!1,Y.style["will-change"]="",this._hideClone(),ae(Y,this.options.chosenClass,!1),D.clone=Y),n.cloneId=Et(function(){ie("clone",n),!D.eventCanceled&&(n.options.removeCloneOnHide||N.insertBefore(Y,g),n._hideClone(),oe({sortable:n,name:"clone"}))}),!o&&ae(g,l.dragClass,!0),o?(xt=!0,n._loopId=setInterval(n._emulateDragOver,50)):(I(document,"mouseup",n._onDrop),I(document,"touchend",n._onDrop),I(document,"touchcancel",n._onDrop),s&&(s.effectAllowed="move",l.setData&&l.setData.call(n,s,g)),F(document,"drop",n),L(g,"transform","translateZ(0)")),Ge=!0,n._dragStartId=Et(n._dragStarted.bind(n,o,e)),F(document,"selectstart",n),tt=!0,it&&L(document.body,"user-select","none")},_onDragOver:function(e){var o=this.el,n=e.target,s,l,a,r=this.options,i=r.group,u=D.active,c=yt===i,d=r.sort,f=Z||u,p,y=this,w=!1;if(Zt)return;function q(h,m){ie(h,y,Ce({evt:e,isOwner:c,axis:p?"vertical":"horizontal",revert:a,dragRect:s,targetRect:l,canSort:d,fromSortable:f,target:n,completed:T,onMove:function(v,z){return wt(N,o,g,s,v,Q(v),e,z)},changed:E},m))}function W(){q("dragOverAnimationCapture"),y.captureAnimationState(),y!==f&&f.captureAnimationState()}function T(h){return q("dragOverCompleted",{insertion:h}),h&&(c?u._hideClone():u._showClone(y),y!==f&&(ae(g,Z?Z.options.ghostClass:u.options.ghostClass,!1),ae(g,r.ghostClass,!0)),Z!==y&&y!==D.active?Z=y:y===D.active&&Z&&(Z=null),f===y&&(y._ignoreWhileAnimating=n),y.animateAll(function(){q("dragOverAnimationComplete"),y._ignoreWhileAnimating=null}),y!==f&&(f.animateAll(),f._ignoreWhileAnimating=null)),(n===g&&!g.animated||n===o&&!n.animated)&&(Ye=null),!r.dragoverBubble&&!e.rootEl&&n!==document&&(g.parentNode[le]._isOutsideThisEl(e.target),!h&&Ne(e)),!r.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),w=!0}function E(){re=he(g),Ae=he(g,r.draggable),oe({sortable:y,name:"change",toEl:o,newIndex:re,newDraggableIndex:Ae,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),n=be(n,r.draggable,o,!0),q("dragOver"),D.eventCanceled)return w;if(g.contains(e.target)||n.animated&&n.animatingX&&n.animatingY||y._ignoreWhileAnimating===n)return T(!1);if(xt=!1,u&&!r.disabled&&(c?d||(a=X!==N):Z===this||(this.lastPutMode=yt.checkPull(this,u,g,e))&&i.checkPut(this,u,g,e))){if(p=this._getDirection(e,n)==="vertical",s=Q(g),q("dragOverValid"),D.eventCanceled)return w;if(a)return X=N,W(),this._hideClone(),q("revert"),D.eventCanceled||(ze?N.insertBefore(g,ze):N.appendChild(g)),T(!0);var M=on(o,r.draggable);if(!M||di(e,p,this)&&!M.animated){if(M===g)return T(!1);if(M&&o===e.target&&(n=M),n&&(l=Q(n)),wt(N,o,g,s,n,l,e,!!n)!==!1)return W(),o.appendChild(g),X=o,E(),T(!0)}else if(M&&ci(e,p,this)){var R=Ze(o,0,r,!0);if(R===g)return T(!1);if(n=R,l=Q(n),wt(N,o,g,s,n,l,e,!1)!==!1)return W(),o.insertBefore(g,R),X=o,E(),T(!0)}else if(n.parentNode===o){l=Q(n);var K=0,ye,De=g.parentNode!==o,ne=!si(g.animated&&g.toRect||s,n.animated&&n.toRect||l,p),Be=p?"top":"left",ee=hn(n,"top","top")||hn(g,"top","top"),Pe=ee?ee.scrollTop:void 0;Ye!==n&&(ye=l[Be],lt=!1,bt=!ne&&r.invertSwap||De),K=fi(e,n,l,p,ne?1:r.swapThreshold,r.invertedSwapThreshold==null?r.swapThreshold:r.invertedSwapThreshold,bt,Ye===n);var ge;if(K!==0){var Se=he(g);do Se-=K,ge=X.children[Se];while(ge&&(L(ge,"display")==="none"||ge===$))}if(K===0||ge===n)return T(!1);Ye=n,rt=K;var xe=n.nextElementSibling,fe=!1;fe=K===1;var ke=wt(N,o,g,s,n,l,e,fe);if(ke!==!1)return(ke===1||ke===-1)&&(fe=ke===1),Zt=!0,setTimeout(ui,30),W(),fe&&!xe?o.appendChild(g):n.parentNode.insertBefore(g,fe?xe:n),ee&&kn(ee,0,Pe-ee.scrollTop),X=g.parentNode,ye!==void 0&&!bt&&(Tt=Math.abs(ye-Q(n)[Be])),E(),T(!0)}if(o.contains(g))return T(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){I(document,"mousemove",this._onTouchMove),I(document,"touchmove",this._onTouchMove),I(document,"pointermove",this._onTouchMove),I(document,"dragover",Ne),I(document,"mousemove",Ne),I(document,"touchmove",Ne)},_offUpEvents:function(){var e=this.el.ownerDocument;I(e,"mouseup",this._onDrop),I(e,"touchend",this._onDrop),I(e,"pointerup",this._onDrop),I(e,"touchcancel",this._onDrop),I(document,"selectstart",this)},_onDrop:function(e){var o=this.el,n=this.options;if(re=he(g),Ae=he(g,n.draggable),ie("drop",this,{evt:e}),X=g&&g.parentNode,re=he(g),Ae=he(g,n.draggable),D.eventCanceled){this._nulling();return}Ge=!1,bt=!1,lt=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Jt(this.cloneId),Jt(this._dragStartId),this.nativeDraggable&&(I(document,"drop",this),I(o,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),it&&L(document.body,"user-select",""),L(g,"transform",""),e&&(tt&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),$&&$.parentNode&&$.parentNode.removeChild($),(N===X||Z&&Z.lastPutMode!=="clone")&&Y&&Y.parentNode&&Y.parentNode.removeChild(Y),g&&(this.nativeDraggable&&I(g,"dragend",this),jt(g),g.style["will-change"]="",tt&&!Ge&&ae(g,Z?Z.options.ghostClass:this.options.ghostClass,!1),ae(g,this.options.chosenClass,!1),oe({sortable:this,name:"unchoose",toEl:X,newIndex:null,newDraggableIndex:null,originalEvent:e}),N!==X?(re>=0&&(oe({rootEl:X,name:"add",toEl:X,fromEl:N,originalEvent:e}),oe({sortable:this,name:"remove",toEl:X,originalEvent:e}),oe({rootEl:X,name:"sort",toEl:X,fromEl:N,originalEvent:e}),oe({sortable:this,name:"sort",toEl:X,originalEvent:e})),Z&&Z.save()):re!==Ue&&re>=0&&(oe({sortable:this,name:"update",toEl:X,originalEvent:e}),oe({sortable:this,name:"sort",toEl:X,originalEvent:e})),D.active&&((re==null||re===-1)&&(re=Ue,Ae=at),oe({sortable:this,name:"end",toEl:X,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){ie("nulling",this),N=g=X=$=ze=Y=St=$e=He=_e=tt=re=Ae=Ue=at=Ye=rt=Z=yt=D.dragged=D.ghost=D.clone=D.active=null,At.forEach(function(e){e.checked=!0}),At.length=Wt=Xt=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":g&&(this._onDragOver(e),li(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],o,n=this.el.children,s=0,l=n.length,a=this.options;s<l;s++)o=n[s],be(o,a.draggable,this.el,!1)&&e.push(o.getAttribute(a.dataIdAttr)||hi(o));return e},sort:function(e,o){var n={},s=this.el;this.toArray().forEach(function(l,a){var r=s.children[a];be(r,this.options.draggable,s,!1)&&(n[l]=r)},this),o&&this.captureAnimationState(),e.forEach(function(l){n[l]&&(s.removeChild(n[l]),s.appendChild(n[l]))}),o&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,o){return be(e,o||this.options.draggable,this.el,!1)},option:function(e,o){var n=this.options;if(o===void 0)return n[e];var s=mt.modifyOption(this,e,o);typeof s!="undefined"?n[e]=s:n[e]=o,e==="group"&&Fn(n)},destroy:function(){ie("destroy",this);var e=this.el;e[le]=null,I(e,"mousedown",this._onTapStart),I(e,"touchstart",this._onTapStart),I(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(I(e,"dragover",this),I(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(o){o.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),kt.splice(kt.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!$e){if(ie("hideClone",this),D.eventCanceled)return;L(Y,"display","none"),this.options.removeCloneOnHide&&Y.parentNode&&Y.parentNode.removeChild(Y),$e=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if($e){if(ie("showClone",this),D.eventCanceled)return;g.parentNode==N&&!this.options.group.revertClone?N.insertBefore(Y,g):ze?N.insertBefore(Y,ze):N.appendChild(Y),this.options.group.revertClone&&this.animate(g,Y),L(Y,"display",""),$e=!1}}};function li(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function wt(t,e,o,n,s,l,a,r){var i,u=t[le],c=u.options.onMove,d;return window.CustomEvent&&!Le&&!ft?i=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(i=document.createEvent("Event"),i.initEvent("move",!0,!0)),i.to=e,i.from=t,i.dragged=o,i.draggedRect=n,i.related=s||e,i.relatedRect=l||Q(e),i.willInsertAfter=r,i.originalEvent=a,t.dispatchEvent(i),c&&(d=c.call(u,i,a)),d}function jt(t){t.draggable=!1}function ui(){Zt=!1}function ci(t,e,o){var n=Q(Ze(o.el,0,o.options,!0)),s=10;return e?t.clientX<n.left-s||t.clientY<n.top&&t.clientX<n.right:t.clientY<n.top-s||t.clientY<n.bottom&&t.clientX<n.left}function di(t,e,o){var n=Q(on(o.el,o.options.draggable)),s=10;return e?t.clientX>n.right+s||t.clientX<=n.right&&t.clientY>n.bottom&&t.clientX>=n.left:t.clientX>n.right&&t.clientY>n.top||t.clientX<=n.right&&t.clientY>n.bottom+s}function fi(t,e,o,n,s,l,a,r){var i=n?t.clientY:t.clientX,u=n?o.height:o.width,c=n?o.top:o.left,d=n?o.bottom:o.right,f=!1;if(!a){if(r&&Tt<u*s){if(!lt&&(rt===1?i>c+u*l/2:i<d-u*l/2)&&(lt=!0),lt)f=!0;else if(rt===1?i<c+Tt:i>d-Tt)return-rt}else if(i>c+u*(1-s)/2&&i<d-u*(1-s)/2)return mi(e)}return f=f||a,f&&(i<c+u*l/2||i>d-u*l/2)?i>c+u/2?1:-1:0}function mi(t){return he(g)<he(t)?1:-1}function hi(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,o=e.length,n=0;o--;)n+=e.charCodeAt(o);return n.toString(36)}function pi(t){At.length=0;for(var e=t.getElementsByTagName("input"),o=e.length;o--;){var n=e[o];n.checked&&At.push(n)}}function Et(t){return setTimeout(t,0)}function Jt(t){return clearTimeout(t)}Rt&&F(document,"touchmove",function(t){(D.active||Ge)&&t.cancelable&&t.preventDefault()});D.utils={on:F,off:I,css:L,find:Dn,is:function(e,o){return!!be(e,o,e,!1)},extend:Ko,throttle:xn,closest:be,toggleClass:ae,clone:An,index:he,nextTick:Et,cancelNextTick:Jt,detectDirection:In,getChild:Ze};D.get=function(t){return t[le]};D.mount=function(){for(var t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];e[0].constructor===Array&&(e=e[0]),e.forEach(function(n){if(!n.prototype||!n.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(n));n.utils&&(D.utils=Ce(Ce({},D.utils),n.utils)),mt.mount(n)})};D.create=function(t,e){return new D(t,e)};D.version=jo;var U=[],nt,en,tn=!1,Gt,Ut,$t,ot;function gi(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(o){var n=o.originalEvent;this.sortable.nativeDraggable?F(document,"dragover",this._handleAutoScroll):this.options.supportPointer?F(document,"pointermove",this._handleFallbackAutoScroll):n.touches?F(document,"touchmove",this._handleFallbackAutoScroll):F(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(o){var n=o.originalEvent;!this.options.dragOverBubble&&!n.rootEl&&this._handleAutoScroll(n)},drop:function(){this.sortable.nativeDraggable?I(document,"dragover",this._handleAutoScroll):(I(document,"pointermove",this._handleFallbackAutoScroll),I(document,"touchmove",this._handleFallbackAutoScroll),I(document,"mousemove",this._handleFallbackAutoScroll)),bn(),Lt(),Zo()},nulling:function(){$t=en=nt=tn=ot=Gt=Ut=null,U.length=0},_handleFallbackAutoScroll:function(o){this._handleAutoScroll(o,!0)},_handleAutoScroll:function(o,n){var s=this,l=(o.touches?o.touches[0]:o).clientX,a=(o.touches?o.touches[0]:o).clientY,r=document.elementFromPoint(l,a);if($t=o,n||this.options.forceAutoScrollFallback||ft||Le||it){Qt(o,this.options,r,n);var i=Fe(r,!0);tn&&(!ot||l!==Gt||a!==Ut)&&(ot&&bn(),ot=setInterval(function(){var u=Fe(document.elementFromPoint(l,a),!0);u!==i&&(i=u,Lt()),Qt(o,s.options,u,n)},10),Gt=l,Ut=a)}else{if(!this.options.bubbleScroll||Fe(r,!0)===we()){Lt();return}Qt(o,this.options,Fe(r,!1),!1)}}},Ee(t,{pluginName:"scroll",initializeByDefault:!0})}function Lt(){U.forEach(function(t){clearInterval(t.pid)}),U=[]}function bn(){clearInterval(ot)}var Qt=xn(function(t,e,o,n){if(!!e.scroll){var s=(t.touches?t.touches[0]:t).clientX,l=(t.touches?t.touches[0]:t).clientY,a=e.scrollSensitivity,r=e.scrollSpeed,i=we(),u=!1,c;en!==o&&(en=o,Lt(),nt=e.scroll,c=e.scrollFn,nt===!0&&(nt=Fe(o,!0)));var d=0,f=nt;do{var p=f,y=Q(p),w=y.top,q=y.bottom,W=y.left,T=y.right,E=y.width,M=y.height,R=void 0,K=void 0,ye=p.scrollWidth,De=p.scrollHeight,ne=L(p),Be=p.scrollLeft,ee=p.scrollTop;p===i?(R=E<ye&&(ne.overflowX==="auto"||ne.overflowX==="scroll"||ne.overflowX==="visible"),K=M<De&&(ne.overflowY==="auto"||ne.overflowY==="scroll"||ne.overflowY==="visible")):(R=E<ye&&(ne.overflowX==="auto"||ne.overflowX==="scroll"),K=M<De&&(ne.overflowY==="auto"||ne.overflowY==="scroll"));var Pe=R&&(Math.abs(T-s)<=a&&Be+E<ye)-(Math.abs(W-s)<=a&&!!Be),ge=K&&(Math.abs(q-l)<=a&&ee+M<De)-(Math.abs(w-l)<=a&&!!ee);if(!U[d])for(var Se=0;Se<=d;Se++)U[Se]||(U[Se]={});(U[d].vx!=Pe||U[d].vy!=ge||U[d].el!==p)&&(U[d].el=p,U[d].vx=Pe,U[d].vy=ge,clearInterval(U[d].pid),(Pe!=0||ge!=0)&&(u=!0,U[d].pid=setInterval(function(){n&&this.layer===0&&D.active._onTouchMove($t);var xe=U[this.layer].vy?U[this.layer].vy*r:0,fe=U[this.layer].vx?U[this.layer].vx*r:0;typeof c=="function"&&c.call(D.dragged.parentNode[le],fe,xe,t,$t,U[this.layer].el)!=="continue"||kn(U[this.layer].el,fe,xe)}.bind({layer:d}),24))),d++}while(e.bubbleScroll&&f!==i&&(f=Fe(f,!1)));tn=u}},30),Mn=function(e){var o=e.originalEvent,n=e.putSortable,s=e.dragEl,l=e.activeSortable,a=e.dispatchSortableEvent,r=e.hideGhostForTarget,i=e.unhideGhostForTarget;if(!!o){var u=n||l;r();var c=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:o,d=document.elementFromPoint(c.clientX,c.clientY);i(),u&&!u.el.contains(d)&&(a("spill"),this.onSpill({dragEl:s,putSortable:n}))}};function sn(){}sn.prototype={startIndex:null,dragStart:function(e){var o=e.oldDraggableIndex;this.startIndex=o},onSpill:function(e){var o=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var s=Ze(this.sortable.el,this.startIndex,this.options);s?this.sortable.el.insertBefore(o,s):this.sortable.el.appendChild(o),this.sortable.animateAll(),n&&n.animateAll()},drop:Mn};Ee(sn,{pluginName:"revertOnSpill"});function an(){}an.prototype={onSpill:function(e){var o=e.dragEl,n=e.putSortable,s=n||this.sortable;s.captureAnimationState(),o.parentNode&&o.parentNode.removeChild(o),s.animateAll()},drop:Mn};Ee(an,{pluginName:"removeOnSpill"});D.mount(new gi);D.mount(an,sn);const _i=Je({name:"layoutTagsViewContextmenu",props:{dropdown:{type:Object}},setup(t,{emit:e}){const o=ce({isShow:!1,dropdownList:[{contextMenuClickId:0,txt:"message.tagsView.refresh",affix:!1,icon:"el-icon-refresh-right"},{contextMenuClickId:1,txt:"message.tagsView.close",affix:!1,icon:"el-icon-close"},{contextMenuClickId:2,txt:"message.tagsView.closeOther",affix:!1,icon:"el-icon-circle-close"},{contextMenuClickId:3,txt:"message.tagsView.closeAll",affix:!1,icon:"el-icon-folder-delete"},{contextMenuClickId:4,txt:"message.tagsView.fullscreen",affix:!1,icon:"iconfont icon-fullscreen"}],item:{}}),n=V(()=>t.dropdown),s=r=>{e("currentContextmenuClick",Object.assign({},{contextMenuClickId:r},o.item))},l=r=>{o.item=r,r.meta.isAffix?o.dropdownList[1].affix=!0:o.dropdownList[1].affix=!1,a(),setTimeout(()=>{o.isShow=!0},10)},a=()=>{o.isShow=!1};return Re(()=>{document.body.addEventListener("click",a)}),dt(()=>{document.body.removeEventListener("click",a)}),P({dropdowns:n,openContextmenu:l,closeContextmenu:a,onCurrentContextmenuClick:s},de(o))}}),yi=t=>(It("data-v-2b39c751"),t=t(),Ft(),t),bi={class:"el-dropdown-menu"},vi=["onClick"],wi=yi(()=>C("div",{class:"el-popper__arrow",style:{left:"10px"}},null,-1));function Ci(t,e,o,n,s,l){return _(),O(Xn,{name:"el-zoom-in-center"},{default:A(()=>[Vt((_(),k("div",{"aria-hidden":"true",class:"el-dropdown__popper el-popper is-light is-pure custom-contextmenu",role:"tooltip","data-popper-placement":"bottom",style:Mt(`top: ${t.dropdowns.y+5}px;left: ${t.dropdowns.x}px;`),key:Math.random()},[C("ul",bi,[(_(!0),k(se,null,Oe(t.dropdownList,(a,r)=>(_(),k(se,null,[a.affix?G("",!0):(_(),k("li",{class:"el-dropdown-menu__item","aria-disabled":"false",tabindex:"-1",key:r,onClick:i=>t.onCurrentContextmenuClick(a.contextMenuClickId)},[C("i",{class:B(a.icon)},null,2),C("span",null,H(t.$t(a.txt)),1)],8,vi))],64))),256))]),wi],4)),[[Ot,t.isShow]])]),_:1})}var Si=j(_i,[["render",Ci],["__scopeId","data-v-2b39c751"]]);const Ti={name:"layoutTagsView",components:{Contextmenu:Si},setup(){const{proxy:t}=ue(),e=Ie([]),o=Ie(),n=Ie(),s=Ie(),l=J(),a=Me(),r=ct(),i=ce({routeActive:"",routePath:a.path,dropdown:{x:"",y:""},tagsRefsIndex:0,tagsViewList:[],sortable:"",tagsViewRoutesList:[]}),u=V(()=>l.state.themeConfig.themeConfig.tagsStyle),c=V(()=>l.state.themeConfig.themeConfig),d=h=>c.value.isShareTagsView?h.path===i.routePath:h.url?h.url===i.routeActive:h.path===i.routeActive,f=h=>{je.set("tagsViewList",h)},p=async()=>{i.routeActive=await ee(a),i.routePath=await a.meta.isDynamic?a.meta.isDynamicPath:a.path,i.tagsViewList=[],i.tagsViewRoutesList=l.state.tagsViewRoutes.tagsViewRoutes,y()},y=async()=>{je.get("tagsViewList")&&c.value.isCacheTagsView?i.tagsViewList=await je.get("tagsViewList"):(await i.tagsViewRoutesList.map(h=>{h.meta.isAffix&&!h.meta.isHide&&(h.url=ee(h),i.tagsViewList.push(P({},h)))}),await W(a.path,a)),xe(c.value.isShareTagsView?i.routePath:i.routeActive)},w=async(h,m)=>{let S=m.meta.isDynamic?m.meta.isDynamicPath:h;if(i.tagsViewList.filter(z=>z.path===S&&Nt(m.meta.isDynamic?z.params?z.params:null:z.query?z.query:null,m.meta.isDynamic?(m==null?void 0:m.params)?m==null?void 0:m.params:null:(m==null?void 0:m.query)?m==null?void 0:m.query:null)).length<=0){let z=i.tagsViewRoutesList.find(me=>me.path===S);if(z.meta.isAffix||z.meta.isLink&&!z.meta.isIframe)return!1;m.meta.isDynamic?z.params=m.params:z.query=m.query,z.url=ee(z),i.tagsViewList.push(P({},z)),f(i.tagsViewList)}},q=(h,m)=>{let S=m.meta.isDynamic?m.meta.isDynamicPath:h;i.tagsViewList.forEach(v=>{v.path===S&&!Nt(m.meta.isDynamic?v.params?v.params:null:v.query?v.query:null,m.meta.isDynamic?(m==null?void 0:m.params)?m==null?void 0:m.params:null:(m==null?void 0:m.query)?m==null?void 0:m.query:null)&&(m.meta.isDynamic?v.params=m.params:v.query=m.query,v.url=ee(v),f(i.tagsViewList))})},W=(h,m)=>{Qe(async()=>{let S="";if(m&&m.meta.isDynamic){if(c.value.isShareTagsView?await q(h,m):await w(h,m),i.tagsViewList.some(v=>v.path===m.meta.isDynamicPath))return!1;S=i.tagsViewRoutesList.find(v=>v.path===m.meta.isDynamicPath)}else{if(c.value.isShareTagsView?await q(h,m):await w(h,m),i.tagsViewList.some(v=>v.path===h))return!1;S=i.tagsViewRoutesList.find(v=>v.path===h)}if(S.meta.isLink&&!S.meta.isIframe)return!1;m&&m.meta.isDynamic?S.params=(m==null?void 0:m.params)?m==null?void 0:m.params:a.params:S.query=(m==null?void 0:m.query)?m==null?void 0:m.query:a.query,S.url=ee(S),await i.tagsViewList.push(P({},S)),await f(i.tagsViewList)})},T=h=>{t.mittBus.emit("onTagsViewRefreshRouterView",h)},E=h=>{i.tagsViewList.map((m,S,v)=>{m.meta.isAffix||(c.value.isShareTagsView?m.path===h:m.url===h)&&(i.tagsViewList.splice(S,1),setTimeout(()=>{(i.tagsViewList.length===S&&c.value.isShareTagsView?i.routePath===h:i.routeActive===h)?v[v.length-1].meta.isDynamic?S!==v.length?r.push({name:v[S].name,params:v[S].params}):r.push({name:v[v.length-1].name,params:v[v.length-1].params}):S!==v.length?r.push({path:v[S].path,query:v[S].query}):r.push({path:v[v.length-1].path,query:v[v.length-1].query}):(i.tagsViewList.length!==S&&c.value.isShareTagsView?i.routePath===h:i.routeActive===h)&&(v[S].meta.isDynamic?r.push({name:v[S].name,params:v[S].params}):r.push({path:v[S].path,query:v[S].query}))},0))}),f(i.tagsViewList)},M=h=>{i.tagsViewList=[],i.tagsViewRoutesList.map(m=>{m.meta.isAffix&&!m.meta.isHide&&i.tagsViewList.push(P({},m))}),W(h,a)},R=()=>{i.tagsViewList=[],i.tagsViewRoutesList.map(h=>{h.meta.isAffix&&!h.meta.isHide&&(i.tagsViewList.push(P({},h)),r.push({path:i.tagsViewList[i.tagsViewList.length-1].path}))}),f(i.tagsViewList)},K=async h=>{const m=i.tagsViewList.find(S=>c.value.isShareTagsView?S.path===h:S.url===h);m.meta.isDynamic?await r.push({name:m.name,params:m.params}):await r.push({name:m.name,query:m.query}),l.dispatch("tagsViewRoutes/setCurrenFullscreen",!0)},ye=(h,m)=>(je.get("tagsViewList")?je.get("tagsViewList"):i.tagsViewList).find(v=>{if(v.path===h&&Nt(v.meta.isDynamic?v.params?v.params:null:v.query?v.query:null,m&&Object.keys(m||{}).length>0?m:null))return v;if(v.path===h&&Object.keys(m||{}).length<=0)return v}),De=async h=>{const m=h.meta.isDynamic?h.params:h.query;if(!ye(h.path,m))return Kt({type:"warning",message:"\u8BF7\u6B63\u786E\u8F93\u5165\u8DEF\u5F84\u53CA\u5B8C\u6574\u53C2\u6570\uFF08query\u3001params\uFF09"});const{path:S,name:v,params:z,query:me,meta:ht,url:We}=ye(h.path,m);switch(h.contextMenuClickId){case 0:ht.isDynamic?await r.push({name:v,params:z}):await r.push({path:S,query:me}),T(a.fullPath);break;case 1:E(c.value.isShareTagsView?S:We);break;case 2:ht.isDynamic?await r.push({name:v,params:z}):await r.push({path:S,query:me}),M(S);break;case 3:R();break;case 4:K(c.value.isShareTagsView?S:We);break}},ne=(h,m)=>{const{clientX:S,clientY:v}=m;i.dropdown.x=S,i.dropdown.y=v,n.value.openContextmenu(h)},Be=(h,m)=>{i.tagsRefsIndex=m,r.push(h)},ee=h=>{let m=h.query&&Object.keys(h.query).length>0?h.query:h.params;if(!m||Object.keys(m).length<=0)return h.path;let S="";for(let v in m)S+=m[v];return`${h.meta.isDynamic?h.meta.isDynamicPath:h.path}-${S}`},Pe=()=>{t.$refs.scrollbarRef.update()},ge=h=>{t.$refs.scrollbarRef.$refs.wrap.scrollLeft+=h.wheelDelta/4},Se=()=>{Qe(()=>{if(e.value.length<=0)return!1;let h=e.value[i.tagsRefsIndex],m=i.tagsRefsIndex,S=e.value.length,v=e.value[0],z=e.value[e.value.length-1],me=t.$refs.scrollbarRef.$refs.wrap,ht=me.scrollWidth,We=me.offsetWidth,rn=me.scrollLeft,Ht=e.value[i.tagsRefsIndex-1],ln=e.value[i.tagsRefsIndex+1],pt="",gt="";h===v?me.scrollLeft=0:h===z?me.scrollLeft=ht-We:(m===0?pt=v.offsetLeft-5:pt=(Ht==null?void 0:Ht.offsetLeft)-5,m===S?gt=z.offsetLeft+z.offsetWidth+5:gt=ln.offsetLeft+ln.offsetWidth+5,gt>rn+We?me.scrollLeft=gt-We:pt<rn&&(me.scrollLeft=pt)),Pe()})},xe=h=>{Qe(async()=>{let m=await i.tagsViewList;i.tagsRefsIndex=m.findIndex(S=>c.value.isShareTagsView?S.path===h:S.url===h),Se()})},fe=()=>{const h=document.querySelector(".layout-navbars-tagsview-ul");if(!h)return!1;i.sortable&&i.sortable.destroy(),i.sortable=D.create(h,{animation:300,dataIdAttr:"data-url",disabled:!c.value.isSortableTagsView,onEnd:()=>{const m=[];i.sortable.toArray().map(S=>{i.tagsViewList.map(v=>{v.url===S&&m.push(P({},v))})}),f(m)}})},ke=()=>{document.body.clientWidth<1e3?c.value.isSortableTagsView=!1:c.value.isSortableTagsView=!0,fe()};return ut(()=>{ke(),window.addEventListener("resize",ke),t.mittBus.on("onCurrentContextmenuClick",h=>{De(h)}),t.mittBus.on("openOrCloseSortable",()=>{fe()}),t.mittBus.on("openShareTagsView",()=>{c.value.isShareTagsView&&(r.push("/home"),i.tagsViewList=[],i.tagsViewRoutesList.map(h=>{h.meta.isAffix&&!h.meta.isHide&&(h.url=ee(h),i.tagsViewList.push(P({},h)))}))})}),dt(()=>{t.mittBus.off("onCurrentContextmenuClick"),t.mittBus.off("openOrCloseSortable"),t.mittBus.off("openShareTagsView"),window.removeEventListener("resize",ke)}),Yn(()=>{e.value=[]}),Re(()=>{p(),fe()}),et(async h=>{i.routeActive=ee(h),i.routePath=h.meta.isDynamic?h.meta.isDynamicPath:h.path,await W(h.path,h),xe(c.value.isShareTagsView?i.routePath:i.routeActive)}),Ve(l.state,h=>{if(h.tagsViewRoutes.tagsViewRoutes.length===i.tagsViewRoutesList.length)return!1;p()}),P({isActive:d,onContextmenu:ne,getTagsViewRoutes:p,onTagsClick:Be,tagsRefs:e,contextmenuRef:n,scrollbarRef:o,tagsUlRef:s,onHandleScroll:ge,getThemeConfig:c,setTagsStyle:u,refreshCurrentTagsView:T,closeCurrentTagsView:E,onCurrentContextmenuClick:De},de(i))}},Ei=["data-url","onContextmenu","onClick"],Li={key:0,class:"iconfont icon-webicon318 layout-navbars-tagsview-ul-li-iconfont font14"},Di=["onClick"],xi=["onClick"];function ki(t,e,o,n,s,l){const a=b("el-scrollbar"),r=b("Contextmenu");return _(),k("div",{class:B(["layout-navbars-tagsview",{"layout-navbars-tagsview-shadow":n.getThemeConfig.layout==="classic"}])},[x(a,{ref:"scrollbarRef",onWheel:qe(n.onHandleScroll,["prevent"])},{default:A(()=>[C("ul",{class:B(["layout-navbars-tagsview-ul",n.setTagsStyle]),ref:"tagsUlRef"},[(_(!0),k(se,null,Oe(t.tagsViewList,(i,u)=>(_(),k("li",{key:u,class:B(["layout-navbars-tagsview-ul-li",{"is-active":n.isActive(i)}]),"data-url":i.url,onContextmenu:qe(c=>n.onContextmenu(i,c),["prevent"]),onClick:c=>n.onTagsClick(i,u),ref_for:!0,ref:c=>{c&&(n.tagsRefs[u]=c)}},[n.isActive(i)?(_(),k("i",Li)):G("",!0),!n.isActive(i)&&n.getThemeConfig.isTagsviewIcon?(_(),k("i",{key:1,class:B(["layout-navbars-tagsview-ul-li-iconfont",i.meta.icon])},null,2)):G("",!0),C("span",null,H(t.$t(i.meta.title)),1),n.isActive(i)?(_(),k(se,{key:2},[C("i",{class:"el-icon-refresh-right ml5",onClick:e[0]||(e[0]=qe(c=>n.refreshCurrentTagsView(t.$route.fullPath),["stop"]))}),i.meta.isAffix?G("",!0):(_(),k("i",{key:0,class:"el-icon-close layout-navbars-tagsview-ul-li-icon layout-icon-active",onClick:qe(c=>n.closeCurrentTagsView(n.getThemeConfig.isShareTagsView?i.path:i.url),["stop"])},null,8,Di))],64)):G("",!0),i.meta.isAffix?G("",!0):(_(),k("i",{key:3,class:"el-icon-close layout-navbars-tagsview-ul-li-icon layout-icon-three",onClick:qe(c=>n.closeCurrentTagsView(n.getThemeConfig.isShareTagsView?i.path:i.url),["stop"])},null,8,xi))],42,Ei))),128))],2)]),_:1},8,["onWheel"]),x(r,{dropdown:t.dropdown,ref:"contextmenuRef",onCurrentContextmenuClick:n.onCurrentContextmenuClick},null,8,["dropdown","onCurrentContextmenuClick"])],2)}var Rn=j(Ti,[["render",ki],["__scopeId","data-v-1b68a914"]]);const Ai={name:"layoutNavBars",components:{BreadcrumbIndex:qo,TagsView:Rn},setup(){const t=J();return{setShowTagsView:V(()=>{let{layout:o,isTagsview:n}=t.state.themeConfig.themeConfig;return o!=="classic"&&n})}}},$i={class:"layout-navbars-container"};function Ii(t,e,o,n,s,l){const a=b("BreadcrumbIndex"),r=b("TagsView");return _(),k("div",$i,[x(a),n.setShowTagsView?(_(),O(r,{key:0})):G("",!0)])}var Fi=j(Ai,[["render",Ii],["__scopeId","data-v-4d355550"]]);const Vi={name:"layoutHeader",components:{NavBarsIndex:Fi},setup(){const t=J(),e=V(()=>{let{isTagsview:n,layout:s}=t.state.themeConfig.themeConfig;return n&&s!=="classic"?"84px":"50px"}),o=V(()=>t.state.tagsViewRoutes.isTagsViewCurrenFull);return{setHeaderHeight:e,isTagsViewCurrenFull:o}}};function Oi(t,e,o,n,s,l){const a=b("NavBarsIndex"),r=b("el-header");return Vt((_(),O(r,{class:"layout-header",height:n.setHeaderHeight},{default:A(()=>[x(a)]),_:1},8,["height"])),[[Ot,!n.isTagsViewCurrenFull]])}var Bt=j(Vi,[["render",Oi]]);const Mi={name:"layoutFooter",setup(){const t=ce({isDelayFooter:!0});return et(()=>{t.isDelayFooter=!1,setTimeout(()=>{t.isDelayFooter=!0},800)}),P({},de(t))}},Ri=t=>(It("data-v-19515c88"),t=t(),Ft(),t),Bi={class:"layout-footer mt15"},Pi={class:"layout-footer-warp"},Hi=Ri(()=>C("div",null,"vue-next-admin\uFF0CMade by lyt with \u2764\uFE0F",-1)),Ni={class:"mt5"};function zi(t,e,o,n,s,l){return Vt((_(),k("div",Bi,[C("div",Pi,[Hi,C("div",Ni,H(t.$t("message.copyright.one5")),1)])],512)),[[Ot,t.isDelayFooter]])}var qi=j(Mi,[["render",zi],["__scopeId","data-v-19515c88"]]);const Wi=Je({name:"layoutMain",components:{LayoutParentView:jn,Footer:qi},setup(){const{proxy:t}=ue(),e=Me(),o=J(),n=ce({headerHeight:"",currentRouteMeta:{}}),s=V(()=>o.state.themeConfig.themeConfig),l=()=>{let{isTagsview:r}=o.state.themeConfig.themeConfig;return r?n.headerHeight="84px":n.headerHeight="50px"},a=()=>{n.currentRouteMeta=e.meta};return ut(()=>{l(),a()}),Ve(o.state.themeConfig.themeConfig,r=>{if(n.headerHeight=r.isTagsview?"84px":"50px",r.isFixedHeaderChange!==r.isFixedHeader){if(!t.$refs.layoutScrollbarRef)return!1;t.$refs.layoutScrollbarRef.update()}}),Ve(()=>e.path,()=>{n.currentRouteMeta=e.meta}),P({getThemeConfig:s},de(n))}});function Xi(t,e,o,n,s,l){const a=b("LayoutParentView"),r=b("Footer"),i=b("el-scrollbar"),u=b("el-main");return _(),O(u,{class:"layout-main"},{default:A(()=>[x(i,{class:"layout-scrollbar",ref:"layoutScrollbarRef",style:Mt({minHeight:`calc(100vh - ${t.headerHeight})`,padding:t.currentRouteMeta.isLink&&t.currentRouteMeta.isIframe?0:"",transition:"padding 0.3s ease-in-out"})},{default:A(()=>[x(a),t.getThemeConfig.isFooter?(_(),O(r,{key:0})):G("",!0)]),_:1},8,["style"])]),_:1})}var Pt=j(Wi,[["render",Xi]]);const Yi={name:"layoutDefaults",components:{Aside:nn,Header:Bt,Main:Pt},setup(){const{proxy:t}=ue(),e=J(),o=Me(),n=V(()=>e.state.themeConfig.themeConfig.isFixedHeader);return Ve(()=>o.path,()=>{t.$refs.layoutDefaultsScrollbarRef.wrap.scrollTop=0}),{isFixedHeader:n}}};function ji(t,e,o,n,s,l){const a=b("Aside"),r=b("Header"),i=b("Main"),u=b("el-scrollbar"),c=b("el-container"),d=b("el-backtop");return _(),O(c,{class:"layout-container"},{default:A(()=>[x(a),x(c,{class:B(["flex-center",{"layout-backtop":!n.isFixedHeader}])},{default:A(()=>[n.isFixedHeader?(_(),O(r,{key:0})):G("",!0),x(u,{ref:"layoutDefaultsScrollbarRef",class:B({"layout-backtop":n.isFixedHeader})},{default:A(()=>[n.isFixedHeader?G("",!0):(_(),O(r,{key:0})),x(i)]),_:1},8,["class"])]),_:1},8,["class"]),x(d,{target:".layout-backtop .el-scrollbar__wrap"})]),_:1})}var Gi=j(Yi,[["render",ji]]);const Ui={name:"layoutClassic",components:{Aside:nn,Header:Bt,Main:Pt,TagsView:Rn},setup(){const t=J();return{getThemeConfig:V(()=>t.state.themeConfig.themeConfig)}}},Qi={class:"flex-center layout-backtop"};function Ki(t,e,o,n,s,l){const a=b("Header"),r=b("Aside"),i=b("TagsView"),u=b("Main"),c=b("el-container"),d=b("el-backtop");return _(),O(c,{class:"layout-container flex-center"},{default:A(()=>[x(a),x(c,{class:"layout-mian-height-50"},{default:A(()=>[x(r),C("div",Qi,[n.getThemeConfig.isTagsview?(_(),O(i,{key:0})):G("",!0),x(u)])]),_:1}),x(d,{target:".layout-backtop .el-main .el-scrollbar__wrap"})]),_:1})}var Zi=j(Ui,[["render",Ki]]);const Ji={name:"layoutTransverse",components:{Header:Bt,Main:Pt}};function es(t,e,o,n,s,l){const a=b("Header"),r=b("Main"),i=b("el-backtop"),u=b("el-container");return _(),O(u,{class:"layout-container flex-center layout-backtop"},{default:A(()=>[x(a),x(r),x(i,{target:".layout-backtop .el-main .el-scrollbar__wrap"})]),_:1})}var ts=j(Ji,[["render",es]]);const ns={name:"layoutColumnsAside",setup(){const t=Ie([]),e=Ie(),{proxy:o}=ue(),n=J(),s=Me(),l=ct(),a=ce({columnsAsideList:[],liIndex:0,liOldIndex:null,liHoverIndex:null,liOldPath:null,difference:0,routeSplit:[],isNavHover:!1}),r=V(()=>n.state.themeConfig.themeConfig.columnsAsideStyle),i=V(()=>n.state.themeConfig.themeConfig.columnsAsideLayout),u=T=>{a.liIndex=T,e.value.style.top=`${t.value[T].offsetTop+a.difference}px`},c=(T,E)=>{u(E);let{path:M,redirect:R}=T;R?l.push(R):l.push(M)},d=(T,E)=>{let{path:M}=T;a.liOldPath=M,a.liOldIndex=E,a.liHoverIndex=E,o.mittBus.emit("setSendColumnsChildren",w(M)),n.dispatch("routesList/setColumnsMenuHover",!1),n.dispatch("routesList/setColumnsNavHover",!0),a.isNavHover=!0},f=async()=>{await n.dispatch("routesList/setColumnsNavHover",!1),setTimeout(()=>{const{isColumnsMenuHover:T,isColumnsNavHover:E}=n.state.routesList;!T&&!E&&o.mittBus.emit("restoreDefault")},100)},p=T=>{Qe(()=>{u(T)})},y=()=>{a.columnsAsideList=q(n.state.routesList.routesList);const T=w(s.path);if(Object.keys(T).length<=0)return!1;p(T.item[0].k),o.mittBus.emit("setSendColumnsChildren",T)},w=T=>{const E=T.split("/");let M={};return a.columnsAsideList.map((R,K)=>{R.path===`/${E[1]}`&&(R.k=K,M.item=[P({},R)],M.children=[P({},R)],R.children&&(M.children=R.children))}),M},q=T=>T.filter(E=>!E.meta.isHide).map(E=>(E=Object.assign({},E),E.children&&(E.children=q(E.children)),E)),W=T=>{a.routeSplit=T.split("/"),a.routeSplit.shift();const E=`/${a.routeSplit[0]}`,M=a.columnsAsideList.find(R=>R.path===E);if(!M)return!1;setTimeout(()=>{p(M.k)},0)};return Ve(n.state,T=>{if(T.themeConfig.themeConfig.columnsAsideStyle==="columnsRound"?a.difference=3:a.difference=0,!T.routesList.isColumnsMenuHover&&!T.routesList.isColumnsNavHover)a.liHoverIndex=null,o.mittBus.emit("setSendColumnsChildren",w(s.path));else{if(a.liHoverIndex=a.liOldIndex,!a.liOldPath)return!1;o.mittBus.emit("setSendColumnsChildren",w(a.liOldPath))}}),Re(()=>{y(),o.mittBus.on("restoreDefault",()=>{a.liOldIndex=null,a.liOldPath=null})}),dt(()=>{o.mittBus.off("restoreDefault",()=>{})}),et(T=>{W(T.path),o.mittBus.emit("setSendColumnsChildren",w(T.path))}),P({columnsAsideOffsetTopRefs:t,columnsAsideActiveRef:e,onColumnsAsideDown:p,setColumnsAsideStyle:r,setColumnsAsidelayout:i,onColumnsAsideMenuClick:c,onColumnsAsideMenuMouseenter:d,onColumnsAsideMenuMouseleave:f},de(a))}},os={class:"layout-columns-aside"},is=["onClick","onMouseenter","title"],ss={class:"columns-vertical-title font12"},as=["href"],rs={class:"columns-vertical-title font12"};function ls(t,e,o,n,s,l){const a=b("el-scrollbar");return _(),k("div",os,[x(a,null,{default:A(()=>[C("ul",{onMouseleave:e[0]||(e[0]=r=>n.onColumnsAsideMenuMouseleave())},[(_(!0),k(se,null,Oe(t.columnsAsideList,(r,i)=>(_(),k("li",{key:i,onClick:u=>n.onColumnsAsideMenuClick(r,i),onMouseenter:u=>n.onColumnsAsideMenuMouseenter(r,i),ref_for:!0,ref:u=>{u&&(n.columnsAsideOffsetTopRefs[i]=u)},class:B({"layout-columns-active":t.liIndex===i,"layout-columns-hover":t.liHoverIndex===i}),title:t.$t(r.meta.title)},[!r.meta.isLink||r.meta.isLink&&r.meta.isIframe?(_(),k("div",{key:0,class:B(n.setColumnsAsidelayout)},[C("i",{class:B(r.meta.icon)},null,2),C("div",ss,H(t.$t(r.meta.title)&&t.$t(r.meta.title).length>=4?t.$t(r.meta.title).substr(0,n.setColumnsAsidelayout==="columns-vertical"?4:3):t.$t(r.meta.title)),1)],2)):(_(),k("div",{key:1,class:B(n.setColumnsAsidelayout)},[C("a",{href:r.meta.isLink,target:"_blank"},[C("i",{class:B(r.meta.icon)},null,2),C("div",rs,H(t.$t(r.meta.title)&&t.$t(r.meta.title).length>=4?t.$t(r.meta.title).substr(0,n.setColumnsAsidelayout==="columns-vertical"?4:3):t.$t(r.meta.title)),1)],8,as)],2))],42,is))),128)),C("div",{ref:"columnsAsideActiveRef",class:B(n.setColumnsAsideStyle)},null,2)],32)]),_:1})])}var us=j(ns,[["render",ls],["__scopeId","data-v-8d5d0ac0"]]);const cs={name:"layoutColumns",components:{Aside:nn,Header:Bt,Main:Pt,ColumnsAside:us},setup(){const t=J();return{isFixedHeader:V(()=>t.state.themeConfig.themeConfig.isFixedHeader)}}},ds={class:"layout-columns-warp"};function fs(t,e,o,n,s,l){const a=b("ColumnsAside"),r=b("Aside"),i=b("Header"),u=b("Main"),c=b("el-scrollbar"),d=b("el-container"),f=b("el-backtop");return _(),O(d,{class:"layout-container"},{default:A(()=>[x(a),C("div",ds,[x(r),x(d,{class:B(["flex-center layout-backtop",{"layout-backtop":!n.isFixedHeader}])},{default:A(()=>[n.isFixedHeader?(_(),O(i,{key:0})):G("",!0),x(c,{class:B({"layout-backtop":n.isFixedHeader})},{default:A(()=>[n.isFixedHeader?G("",!0):(_(),O(i,{key:0})),x(u)]),_:1},8,["class"])]),_:1},8,["class"])]),x(f,{target:".layout-backtop .el-scrollbar__wrap"})]),_:1})}var ms=j(cs,[["render",fs]]);const hs={name:"layout",components:{Defaults:Gi,Classic:Zi,Transverse:ts,Columns:ms},setup(){const{proxy:t}=ue(),e=J(),o=V(()=>e.state.themeConfig.themeConfig),n=()=>{pe.get("oldLayout")||pe.set("oldLayout",o.value.layout);const s=document.body.clientWidth;s<1e3?(o.value.isCollapse=!1,t.mittBus.emit("layoutMobileResize",{layout:"defaults",clientWidth:s})):t.mittBus.emit("layoutMobileResize",{layout:pe.get("oldLayout")?pe.get("oldLayout"):o.value.layout,clientWidth:s})};return ut(()=>{n(),window.addEventListener("resize",n)}),dt(()=>{window.removeEventListener("resize",n)}),{getThemeConfig:o}}};function ps(t,e,o,n,s,l){const a=b("Defaults"),r=b("Classic"),i=b("Transverse"),u=b("Columns");return n.getThemeConfig.layout==="defaults"?(_(),O(a,{key:0})):n.getThemeConfig.layout==="classic"?(_(),O(r,{key:1})):n.getThemeConfig.layout==="transverse"?(_(),O(i,{key:2})):n.getThemeConfig.layout==="columns"?(_(),O(u,{key:3})):G("",!0)}var vs=j(hs,[["render",ps]]);export{vs as default};
